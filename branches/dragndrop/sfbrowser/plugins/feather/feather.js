AV_version="1.52";AV_betaversion="";AV_closureCompiled=true;AV_imgrecvServer="http://featherservices.aviary.com/FeatherReceiver.aspx";AV_imgrecvBase="http://featherservices.aviary.com/";AV_imgtrackServer="http://featherservices.aviary.com/featherlog.aspx";AV__jsonp_imgserver="http://featherservices.aviary.com/imgjsonpserver.aspx";AV__featherTargetAnnounce="http://featherservices.aviary.com/feather_target_announce.html";AV_proxyServer="http://www.aviary.com/apps/xmlapi/proxy.aspx";
if(typeof AV_feather_baseURL=="undefined")AV_feather_baseURL="http://feather.aviary.com/1.52/";var avpw_swfobject=function(){function a(){if(!Aa){try{var E=H.getElementsByTagName("body")[0].appendChild(H.createElement("span"));E.parentNode.removeChild(E)}catch(K){return}Aa=true;E=Oa.length;for(var N=0;N<E;N++)Oa[N]()}}function d(E){if(Aa)E();else Oa[Oa.length]=E}function h(E){if(typeof wa.addEventListener!=$)wa.addEventListener("load",E,false);else if(typeof H.addEventListener!=$)H.addEventListener("load",E,false);else if(typeof wa.attachEvent!=$)da(wa,"onload",E);else if(typeof wa.onload==
"function"){var K=wa.onload;wa.onload=function(){K();E()}}else wa.onload=E}function f(){var E=H.getElementsByTagName("body")[0],K=H.createElement(ta);K.setAttribute("type",ma);var N=E.appendChild(K);if(N){var T=0;(function(){if(typeof N.GetVariable!=$){var U=N.GetVariable("$version");if(U){U=U.split(" ")[1].split(",");V.pv=[parseInt(U[0],10),parseInt(U[1],10),parseInt(U[2],10)]}}else if(T<10){T++;setTimeout(arguments.callee,10);return}E.removeChild(K);N=null;l()})()}else l()}function l(){var E=Ba.length;
if(E>0)for(var K=0;K<E;K++){var N=Ba[K].id,T=Ba[K].callbackFn,U={success:false,id:N};if(V.pv[0]>0){var ea=Z(N);if(ea)if(ka(Ba[K].swfVersion)&&!(V.wk&&V.wk<312)){ja(N,true);if(T){U.success=true;U.ref=n(N);T(U)}}else if(Ba[K].expressInstall&&s()){U={};U.data=Ba[K].expressInstall;U.width=ea.getAttribute("width")||"0";U.height=ea.getAttribute("height")||"0";if(ea.getAttribute("class"))U.styleclass=ea.getAttribute("class");if(ea.getAttribute("align"))U.align=ea.getAttribute("align");var ca={};ea=ea.getElementsByTagName("param");
for(var na=ea.length,oa=0;oa<na;oa++)if(ea[oa].getAttribute("name").toLowerCase()!="movie")ca[ea[oa].getAttribute("name")]=ea[oa].getAttribute("value");z(U,ca,N,T)}else{M(ea);T&&T(U)}}else{ja(N,true);if(T){if((N=n(N))&&typeof N.SetVariable!=$){U.success=true;U.ref=N}T(U)}}}}function n(E){var K=null;if((E=Z(E))&&E.nodeName=="OBJECT")if(typeof E.SetVariable!=$)K=E;else if(E=E.getElementsByTagName(ta)[0])K=E;return K}function s(){return!Ja&&ka("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function z(E,
K,N,T){Ja=true;bb=T||null;cb={success:false,id:N};var U=Z(N);if(U){if(U.nodeName=="OBJECT"){Pa=P(U);Va=null}else{Pa=U;Va=N}E.id=Ga;if(typeof E.width==$||!/%$/.test(E.width)&&parseInt(E.width,10)<310)E.width="310";if(typeof E.height==$||!/%$/.test(E.height)&&parseInt(E.height,10)<137)E.height="137";H.title=H.title.slice(0,47)+" - Flash Player Installation";T=V.ie&&V.win?"ActiveX":"PlugIn";T="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+T+"&MMdoctitle="+
H.title;if(typeof K.flashvars!=$)K.flashvars+="&"+T;else K.flashvars=T;if(V.ie&&V.win&&U.readyState!=4){T=H.createElement("div");N+="SWFObjectNew";T.setAttribute("id",N);U.parentNode.insertBefore(T,U);U.style.display="none";(function(){U.readyState==4?U.parentNode.removeChild(U):setTimeout(arguments.callee,10)})()}O(E,K,N)}}function M(E){if(V.ie&&V.win&&E.readyState!=4){var K=H.createElement("div");E.parentNode.insertBefore(K,E);K.parentNode.replaceChild(P(E),K);E.style.display="none";(function(){E.readyState==
4?E.parentNode.removeChild(E):setTimeout(arguments.callee,10)})()}else E.parentNode.replaceChild(P(E),E)}function P(E){var K=H.createElement("div");if(V.win&&V.ie)K.innerHTML=E.innerHTML;else if(E=E.getElementsByTagName(ta)[0])if(E=E.childNodes)for(var N=E.length,T=0;T<N;T++)!(E[T].nodeType==1&&E[T].nodeName=="PARAM")&&E[T].nodeType!=8&&K.appendChild(E[T].cloneNode(true));return K}function O(E,K,N){var T,U=Z(N);if(V.wk&&V.wk<312)return T;if(U){if(typeof E.id==$)E.id=N;if(V.ie&&V.win){var ea="",ca;
for(ca in E)if(E[ca]!=Object.prototype[ca])if(ca.toLowerCase()=="data")K.movie=E[ca];else if(ca.toLowerCase()=="styleclass")ea+=' class="'+E[ca]+'"';else if(ca.toLowerCase()!="classid")ea+=" "+ca+'="'+E[ca]+'"';ca="";for(var na in K)if(K[na]!=Object.prototype[na])ca+='<param name="'+na+'" value="'+K[na]+'" />';U.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ea+">"+ca+"</object>";Wa[Wa.length]=E.id;T=Z(E.id)}else{na=H.createElement(ta);na.setAttribute("type",ma);for(var oa in E)if(E[oa]!=
Object.prototype[oa])if(oa.toLowerCase()=="styleclass")na.setAttribute("class",E[oa]);else oa.toLowerCase()!="classid"&&na.setAttribute(oa,E[oa]);for(ea in K)if(K[ea]!=Object.prototype[ea]&&ea.toLowerCase()!="movie"){E=na;ca=ea;oa=K[ea];N=H.createElement("param");N.setAttribute("name",ca);N.setAttribute("value",oa);E.appendChild(N)}U.parentNode.replaceChild(na,U);T=na}}return T}function X(E){var K=Z(E);if(K&&K.nodeName=="OBJECT")if(V.ie&&V.win){K.style.display="none";(function(){if(K.readyState==
4){var N=Z(E);if(N){for(var T in N)if(typeof N[T]=="function")N[T]=null;N.parentNode.removeChild(N)}}else setTimeout(arguments.callee,10)})()}else K.parentNode.removeChild(K)}function Z(E){var K=null;try{K=H.getElementById(E)}catch(N){}return K}function da(E,K,N){E.attachEvent(K,N);Ka[Ka.length]=[E,K,N]}function ka(E){var K=V.pv;E=E.split(".");E[0]=parseInt(E[0],10);E[1]=parseInt(E[1],10)||0;E[2]=parseInt(E[2],10)||0;return K[0]>E[0]||K[0]==E[0]&&K[1]>E[1]||K[0]==E[0]&&K[1]==E[1]&&K[2]>=E[2]?true:
false}function ra(E,K,N,T){if(!(V.ie&&V.mac)){var U=H.getElementsByTagName("head")[0];if(U){N=N&&typeof N=="string"?N:"screen";if(T)db=Ca=null;if(!Ca||db!=N){T=H.createElement("style");T.setAttribute("type","text/css");T.setAttribute("media",N);Ca=U.appendChild(T);if(V.ie&&V.win&&typeof H.styleSheets!=$&&H.styleSheets.length>0)Ca=H.styleSheets[H.styleSheets.length-1];db=N}if(V.ie&&V.win)Ca&&typeof Ca.addRule==ta&&Ca.addRule(E,K);else Ca&&typeof H.createTextNode!=$&&Ca.appendChild(H.createTextNode(E+
" {"+K+"}"))}}}function ja(E,K){if(fb){var N=K?"visible":"hidden";if(Aa&&Z(E))Z(E).style.visibility=N;else ra("#"+E,"visibility:"+N)}}function xa(E){return/[\\\"<>\.;]/.exec(E)!=null&&typeof encodeURIComponent!=$?encodeURIComponent(E):E}var $="undefined",ta="object",ma="application/x-shockwave-flash",Ga="SWFObjectExprInst",wa=window,H=document,j=navigator,gb=false,Oa=[function(){gb?f():l()}],Ba=[],Wa=[],Ka=[],Pa,Va,bb,cb,Aa=false,Ja=false,Ca,db,fb=true,V=function(){var E=typeof H.getElementById!=
$&&typeof H.getElementsByTagName!=$&&typeof H.createElement!=$,K=j.userAgent.toLowerCase(),N=j.platform.toLowerCase(),T=N?/win/.test(N):/win/.test(K);N=N?/mac/.test(N):/mac/.test(K);K=/webkit/.test(K)?parseFloat(K.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var U=!+"\u000b1",ea=[0,0,0],ca=null;if(typeof j.plugins!=$&&typeof j.plugins["Shockwave Flash"]==ta){if((ca=j.plugins["Shockwave Flash"].description)&&!(typeof j.mimeTypes!=$&&j.mimeTypes[ma]&&!j.mimeTypes[ma].enabledPlugin)){gb=true;U=
false;ca=ca.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ea[0]=parseInt(ca.replace(/^(.*)\..*$/,"$1"),10);ea[1]=parseInt(ca.replace(/^.*\.(.*)\s.*$/,"$1"),10);ea[2]=/[a-zA-Z]/.test(ca)?parseInt(ca.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof wa.ActiveXObject!=$)try{var na=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(na)if(ca=na.GetVariable("$version")){U=true;ca=ca.split(" ")[1].split(",");ea=[parseInt(ca[0],10),parseInt(ca[1],10),parseInt(ca[2],10)]}}catch(oa){}return{w3:E,pv:ea,wk:K,ie:U,
win:T,mac:N}}();(function(){if(V.w3){if(typeof H.readyState!=$&&H.readyState=="complete"||typeof H.readyState==$&&(H.getElementsByTagName("body")[0]||H.body))a();if(!Aa){typeof H.addEventListener!=$&&H.addEventListener("DOMContentLoaded",a,false);if(V.ie&&V.win){H.attachEvent("onreadystatechange",function(){if(H.readyState=="complete"){H.detachEvent("onreadystatechange",arguments.callee);a()}});wa==top&&function(){if(!Aa){try{H.documentElement.doScroll("left")}catch(E){setTimeout(arguments.callee,
0);return}a()}}()}V.wk&&function(){Aa||(/loaded|complete/.test(H.readyState)?a():setTimeout(arguments.callee,0))}();h(a)}}})();(function(){V.ie&&V.win&&window.attachEvent("onunload",function(){for(var E=Ka.length,K=0;K<E;K++)Ka[K][0].detachEvent(Ka[K][1],Ka[K][2]);E=Wa.length;for(K=0;K<E;K++)X(Wa[K]);for(var N in V)V[N]=null;V=null;for(var T in avpw_swfobject)avpw_swfobject[T]=null;avpw_swfobject=null})})();return{registerObject:function(E,K,N,T){if(V.w3&&E&&K){var U={};U.id=E;U.swfVersion=K;U.expressInstall=
N;U.callbackFn=T;Ba[Ba.length]=U;ja(E,false)}else T&&T({success:false,id:E})},getObjectById:function(E){if(V.w3)return n(E)},embedSWF:function(E,K,N,T,U,ea,ca,na,oa,Qa){var Xa={success:false,id:K};if(V.w3&&!(V.wk&&V.wk<312)&&E&&K&&N&&T&&U){ja(K,false);d(function(){N+="";T+="";var Fa={};if(oa&&typeof oa===ta)for(var Da in oa)Fa[Da]=oa[Da];Fa.data=E;Fa.width=N;Fa.height=T;Da={};if(na&&typeof na===ta)for(var Ya in na)Da[Ya]=na[Ya];if(ca&&typeof ca===ta)for(var La in ca)if(typeof Da.flashvars!=$)Da.flashvars+=
"&"+La+"="+ca[La];else Da.flashvars=La+"="+ca[La];if(ka(U)){Ya=O(Fa,Da,K);Fa.id==K&&ja(K,true);Xa.success=true;Xa.ref=Ya}else if(ea&&s()){Fa.data=ea;z(Fa,Da,K,Qa);return}else ja(K,true);Qa&&Qa(Xa)})}else Qa&&Qa(Xa)},switchOffAutoHideShow:function(){fb=false},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:ka,createSWF:function(E,K,N){if(V.w3)return O(E,K,N)},showExpressInstall:function(E,K,N,T){V.w3&&s()&&z(E,K,N,T)},removeSWF:function(E){V.w3&&
X(E)},createCSS:function(E,K,N,T){V.w3&&ra(E,K,N,T)},addDomLoadEvent:d,addLoadEvent:h,getQueryParamValue:function(E){var K=H.location.search||H.location.hash;if(K){if(/\?/.test(K))K=K.split("?")[1];if(E==null)return xa(K);K=K.split("&");for(var N=0;N<K.length;N++)if(K[N].substring(0,K[N].indexOf("="))==E)return xa(K[N].substring(K[N].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Ja){var E=Z(Ga);if(E&&Pa){E.parentNode.replaceChild(Pa,E);if(Va){ja(Va,true);if(V.ie&&V.win)Pa.style.display=
"block"}bb&&bb(cb)}Ja=false}}}}();(function(a,d){function h(c){return j.isWindow(c)?c:c.nodeType===9?c.defaultView||c.parentWindow:false}function f(c){if(!kb[c]){var e=j("<"+c+">").appendTo("body"),k=e.css("display");e.remove();if(k==="none"||k==="")k="block";kb[c]=k}return kb[c]}function l(c,e){var k={};j.each(nb.concat.apply([],nb.slice(0,e)),function(){k[this]=c});return k}function n(){try{return new a.XMLHttpRequest}catch(c){}}function s(){j(a).unload(function(){for(var c in Za)Za[c](0,1)})}function z(c,e,k,m){if(j.isArray(e)&&
e.length)j.each(e,function(q,u){k||Bb.test(c)?m(c,u):z(c+"["+(typeof u==="object"||j.isArray(u)?q:"")+"]",u,k,m)});else if(k||e==null||typeof e!=="object")m(c,e);else if(j.isArray(e)||j.isEmptyObject(e))m(c,"");else for(var o in e)z(c+"["+o+"]",e[o],k,m)}function M(c,e,k,m,o,q){o=o||e.dataTypes[0];q=q||{};q[o]=true;o=c[o];for(var u=0,C=o?o.length:0,A=c===lb,x;u<C&&(A||!x);u++){x=o[u](e,k,m);typeof x==="string"&&(!A||q[x]?x=d:(e.dataTypes.unshift(x),x=M(c,e,k,m,x,q)))}(A||!x)&&!q["*"]&&(x=M(c,e,k,
m,"*",q));return x}function P(c){return function(e,k){typeof e!=="string"&&(k=e,e="*");if(j.isFunction(k))for(var m=e.toLowerCase().split(ob),o=0,q=m.length,u,C;o<q;o++){u=m[o];(C=/^\+/.test(u))&&(u=u.substr(1)||"*");u=c[u]=c[u]||[];u[C?"unshift":"push"](k)}}}function O(c,e,k){var m=e==="width"?c.offsetWidth:c.offsetHeight;if(k==="border")return m;j.each(e==="width"?Cb:Db,function(){k||(m-=parseFloat(j.css(c,"padding"+this))||0);k==="margin"?m+=parseFloat(j.css(c,"margin"+this))||0:m-=parseFloat(j.css(c,
"border"+this+"Width"))||0});return m}function X(c,e){e.src?j.ajax({url:e.src,async:false,dataType:"script"}):j.globalEval(e.text||e.textContent||e.innerHTML||"");e.parentNode&&e.parentNode.removeChild(e)}function Z(c){return"getElementsByTagName"in c?c.getElementsByTagName("*"):"querySelectorAll"in c?c.querySelectorAll("*"):[]}function da(c,e){if(e.nodeType===1){var k=e.nodeName.toLowerCase();e.clearAttributes();e.mergeAttributes(c);if(k==="object")e.outerHTML=c.outerHTML;else if(k!=="input"||c.type!==
"checkbox"&&c.type!=="radio")if(k==="option")e.selected=c.defaultSelected;else{if(k==="input"||k==="textarea")e.defaultValue=c.defaultValue}else{c.checked&&(e.defaultChecked=e.checked=c.checked);e.value!==c.value&&(e.value=c.value)}e.removeAttribute(j.expando)}}function ka(c,e){if(e.nodeType===1&&j.hasData(c)){var k=j.expando,m=j.data(c),o=j.data(e,m);if(m=m[k]){var q=m.events;o=o[k]=j.extend({},m);if(q){delete o.handle;o.events={};for(var u in q){k=0;for(m=q[u].length;k<m;k++)j.event.add(e,u+(q[u][k].namespace?
".":"")+q[u][k].namespace,q[u][k],q[u][k].data)}}}}}function ra(c,e,k){if(j.isFunction(e))return j.grep(c,function(o,q){return!!e.call(o,q,o)===k});if(e.nodeType)return j.grep(c,function(o){return o===e===k});if(typeof e==="string"){var m=j.grep(c,function(o){return o.nodeType===1});if(Qa.test(e))return j.filter(e,m,!k);e=j.filter(e,m)}return j.grep(c,function(o){return j.inArray(o,e)>=0===k})}function ja(c,e){return(c&&c!=="*"?c+".":"")+e.replace(Ca,"`").replace(db,"&")}function xa(c){var e,k,m,
o,q,u,C,A,x,J,S,fa=[];o=[];q=j._data(this,"events");if(c.liveFired!==this&&q&&q.live&&!c.target.disabled&&(!c.button||c.type!=="click")){c.namespace&&(S=RegExp("(^|\\.)"+c.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));c.liveFired=this;var Y=q.live.slice(0);for(C=0;C<Y.length;C++){q=Y[C];q.origType.replace(Aa,"")===c.type?o.push(q.selector):Y.splice(C--,1)}o=j(c.target).closest(o,c.currentTarget);A=0;for(x=o.length;A<x;A++){J=o[A];for(C=0;C<Y.length;C++){q=Y[C];if(J.selector===q.selector&&
(!S||S.test(q.namespace))&&!J.elem.disabled){u=J.elem;m=null;if(q.preType==="mouseenter"||q.preType==="mouseleave"){c.type=q.preType;m=j(c.relatedTarget).closest(q.selector)[0]}(!m||m!==u)&&fa.push({elem:u,handleObj:q,level:J.level})}}}A=0;for(x=fa.length;A<x;A++){o=fa[A];if(k&&o.level>k)break;c.currentTarget=o.elem;c.data=o.handleObj.data;c.handleObj=o.handleObj;S=o.handleObj.origHandler.apply(o.elem,arguments);if(S===false||c.isPropagationStopped()){k=o.level;S===false&&(e=false);if(c.isImmediatePropagationStopped())break}}return e}}
function $(c,e,k){var m=j.extend({},k[0]);m.type=c;m.originalEvent={};m.liveFired=d;j.event.handle.call(e,m);m.isDefaultPrevented()&&k[0].preventDefault()}function ta(){return true}function ma(){return false}function Ga(c){for(var e in c)if(e!=="toJSON")return false;return true}function wa(c,e,k){if(k===d&&c.nodeType===1){k=c.getAttribute("data-"+e);if(typeof k==="string"){try{k=k==="true"?true:k==="false"?false:k==="null"?null:j.isNaN(k)?gb.test(k)?j.parseJSON(k):k:parseFloat(k)}catch(m){}j.data(c,
e,k)}else k=d}return k}var H=a.document,j=function(){function c(){if(!e.isReady){try{H.documentElement.doScroll("left")}catch(v){setTimeout(c,1);return}e.ready()}}var e=function(v,D){return new e.fn.init(v,D,o)},k=a.jQuery,m=a.$,o,q=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,u=/\S/,C=/^\s+/,A=/\s+$/,x=/\d/,J=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,S=/^[\],:{}\s]*$/,fa=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,Y=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ha=/(?:^|:|,)(?:\s*\[)+/g,sa=/(webkit)[ \/]([\w.]+)/,
la=/(opera)(?:.*version)?[ \/]([\w.]+)/,ua=/(msie) ([\w.]+)/,Ea=/(mozilla)(?:.*? rv:([\w.]+))?/,p=navigator.userAgent,w=false,F,y="then done fail isResolved isRejected promise".split(" "),B,G=Object.prototype.toString,R=Object.prototype.hasOwnProperty,Q=Array.prototype.push,aa=Array.prototype.slice,qa=String.prototype.trim,pa=Array.prototype.indexOf,va={};e.fn=e.prototype={constructor:e,init:function(v,D,I){var L,W;if(!v)return this;if(v.nodeType){this.context=this[0]=v;this.length=1;return this}if(v===
"body"&&!D&&H.body){this.context=H;this[0]=H.body;this.selector="body";this.length=1;return this}if(typeof v==="string"){L=q.exec(v);if(!L||!L[1]&&D)return!D||D.jquery?(D||I).find(v):this.constructor(D).find(v);if(L[1]){W=(D=D instanceof e?D[0]:D)?D.ownerDocument||D:H;(I=J.exec(v))?e.isPlainObject(D)?(v=[H.createElement(I[1])],e.fn.attr.call(v,D,true)):v=[W.createElement(I[1])]:(I=e.buildFragment([L[1]],[W]),v=(I.cacheable?e.clone(I.fragment):I.fragment).childNodes);return e.merge(this,v)}if((D=H.getElementById(L[2]))&&
D.parentNode){if(D.id!==L[2])return I.find(v);this.length=1;this[0]=D}this.context=H;this.selector=v;return this}if(e.isFunction(v))return I.ready(v);v.selector!==d&&(this.selector=v.selector,this.context=v.context);return e.makeArray(v,this)},selector:"",jquery:"1.5.1",length:0,size:function(){return this.length},toArray:function(){return aa.call(this,0)},get:function(v){return v==null?this.toArray():v<0?this[this.length+v]:this[v]},pushStack:function(v,D,I){var L=this.constructor();e.isArray(v)?
Q.apply(L,v):e.merge(L,v);L.prevObject=this;L.context=this.context;D==="find"?L.selector=this.selector+(this.selector?" ":"")+I:D&&(L.selector=this.selector+"."+D+"("+I+")");return L},each:function(v,D){return e.each(this,v,D)},ready:function(v){e.bindReady();F.done(v);return this},eq:function(v){return v===-1?this.slice(v):this.slice(v,+v+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(aa.apply(this,arguments),"slice",aa.call(arguments).join(","))},
map:function(v){return this.pushStack(e.map(this,function(D,I){return v.call(D,I,D)}))},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var v,D,I,L,W,ba,ga=arguments[0]||{},ia=1,ya=arguments.length,Ha=false;typeof ga==="boolean"&&(Ha=ga,ga=arguments[1]||{},ia=2);typeof ga!=="object"&&!e.isFunction(ga)&&(ga={});for(ya===ia&&(ga=this,--ia);ia<ya;ia++)if((v=arguments[ia])!=null)for(D in v){I=
ga[D];L=v[D];if(ga!==L)Ha&&L&&(e.isPlainObject(L)||(W=e.isArray(L)))?(W?(W=false,ba=I&&e.isArray(I)?I:[]):ba=I&&e.isPlainObject(I)?I:{},ga[D]=e.extend(Ha,ba,L)):L!==d&&(ga[D]=L)}return ga};e.extend({noConflict:function(v){a.$=m;v&&(a.jQuery=k);return e},isReady:false,readyWait:1,ready:function(v){v===true&&e.readyWait--;if(!e.readyWait||v!==true&&!e.isReady){if(!H.body)return setTimeout(e.ready,1);e.isReady=true;if(!(v!==true&&--e.readyWait>0)){F.resolveWith(H,[e]);e.fn.trigger&&e(H).trigger("ready").unbind("ready")}}},
bindReady:function(){if(!w){w=true;if(H.readyState==="complete")return setTimeout(e.ready,1);if(H.addEventListener){H.addEventListener("DOMContentLoaded",B,false);a.addEventListener("load",e.ready,false)}else if(H.attachEvent){H.attachEvent("onreadystatechange",B);a.attachEvent("onload",e.ready);var v=false;try{v=a.frameElement==null}catch(D){}H.documentElement.doScroll&&v&&c()}}},isFunction:function(v){return e.type(v)==="function"},isArray:Array.isArray||function(v){return e.type(v)==="array"},
isWindow:function(v){return v&&typeof v==="object"&&"setInterval"in v},isNaN:function(v){return v==null||!x.test(v)||isNaN(v)},type:function(v){return v==null?String(v):va[G.call(v)]||"object"},isPlainObject:function(v){if(!v||e.type(v)!=="object"||v.nodeType||e.isWindow(v))return false;if(v.constructor&&!R.call(v,"constructor")&&!R.call(v.constructor.prototype,"isPrototypeOf"))return false;for(var D in v);return D===d||R.call(v,D)},isEmptyObject:function(v){for(var D in v)return false;return true},
error:function(v){throw v;},parseJSON:function(v){if(typeof v!=="string"||!v)return null;v=e.trim(v);if(S.test(v.replace(fa,"@").replace(Y,"]").replace(ha,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(v):(new Function("return "+v))();e.error("Invalid JSON: "+v)},parseXML:function(v,D,I){a.DOMParser?(I=new DOMParser,D=I.parseFromString(v,"text/xml")):(D=new ActiveXObject("Microsoft.XMLDOM"),D.async="false",D.loadXML(v));I=D.documentElement;(!I||!I.nodeName||I.nodeName==="parsererror")&&e.error("Invalid XML: "+
v);return D},noop:function(){},globalEval:function(v){if(v&&u.test(v)){var D=H.head||H.getElementsByTagName("head")[0]||H.documentElement,I=H.createElement("script");e.support.scriptEval()?I.appendChild(H.createTextNode(v)):I.text=v;D.insertBefore(I,D.firstChild);D.removeChild(I)}},nodeName:function(v,D){return v.nodeName&&v.nodeName.toUpperCase()===D.toUpperCase()},each:function(v,D,I){var L,W=0,ba=v.length,ga=ba===d||e.isFunction(v);if(I)if(ga)for(L in v){if(D.apply(v[L],I)===false)break}else for(;W<
ba;){if(D.apply(v[W++],I)===false)break}else if(ga)for(L in v){if(D.call(v[L],L,v[L])===false)break}else for(I=v[0];W<ba&&D.call(I,W,I)!==false;I=v[++W]);return v},trim:qa?function(v){return v==null?"":qa.call(v)}:function(v){return v==null?"":(v+"").replace(C,"").replace(A,"")},makeArray:function(v,D){var I=D||[];if(v!=null){var L=e.type(v);v.length==null||L==="string"||L==="function"||L==="regexp"||e.isWindow(v)?Q.call(I,v):e.merge(I,v)}return I},inArray:function(v,D){if(D.indexOf)return D.indexOf(v);
for(var I=0,L=D.length;I<L;I++)if(D[I]===v)return I;return-1},merge:function(v,D){var I=v.length,L=0;if(typeof D.length==="number")for(var W=D.length;L<W;L++)v[I++]=D[L];else for(;D[L]!==d;)v[I++]=D[L++];v.length=I;return v},grep:function(v,D,I){var L=[],W;I=!!I;for(var ba=0,ga=v.length;ba<ga;ba++){W=!!D(v[ba],ba);I!==W&&L.push(v[ba])}return L},map:function(v,D,I){for(var L=[],W,ba=0,ga=v.length;ba<ga;ba++){W=D(v[ba],ba,I);W!=null&&(L[L.length]=W)}return L.concat.apply([],L)},guid:1,proxy:function(v,
D,I){arguments.length===2&&(typeof D==="string"?(I=v,v=I[D],D=d):D&&!e.isFunction(D)&&(I=D,D=d));!D&&v&&(D=function(){return v.apply(I||this,arguments)});v&&(D.guid=v.guid=v.guid||D.guid||e.guid++);return D},access:function(v,D,I,L,W,ba){var ga=v.length;if(typeof D==="object"){for(var ia in D)e.access(v,ia,D[ia],L,W,I);return v}if(I!==d){L=!ba&&L&&e.isFunction(I);for(ia=0;ia<ga;ia++)W(v[ia],D,L?I.call(v[ia],ia,W(v[ia],D)):I,ba);return v}return ga?W(v[0],D):d},now:function(){return(new Date).getTime()},
_Deferred:function(){var v=[],D,I,L,W={done:function(){if(!L){var ba=arguments,ga,ia,ya,Ha,Ia;D&&(Ia=D,D=0);ga=0;for(ia=ba.length;ga<ia;ga++){ya=ba[ga];Ha=e.type(ya);Ha==="array"?W.done.apply(W,ya):Ha==="function"&&v.push(ya)}Ia&&W.resolveWith(Ia[0],Ia[1])}return this},resolveWith:function(ba,ga){if(!L&&!D&&!I){I=1;try{for(;v[0];)v.shift().apply(ba,ga)}catch(ia){throw ia;}finally{D=[ba,ga];I=0}}return this},resolve:function(){W.resolveWith(e.isFunction(this.promise)?this.promise():this,arguments);
return this},isResolved:function(){return I||D},cancel:function(){L=1;v=[];return this}};return W},Deferred:function(v){var D=e._Deferred(),I=e._Deferred(),L;e.extend(D,{then:function(W,ba){D.done(W).fail(ba);return this},fail:I.done,rejectWith:I.resolveWith,reject:I.resolve,isRejected:I.isResolved,promise:function(W){if(W==null){if(L)return L;L=W={}}for(var ba=y.length;ba--;)W[y[ba]]=D[y[ba]];return W}});D.done(I.cancel).fail(D.cancel);delete D.cancel;v&&v.call(D,D);return D},when:function(v){var D=
arguments.length,I=D<=1&&v&&e.isFunction(v.promise)?v:e.Deferred(),L=I.promise();if(D>1){for(var W=aa.call(arguments,0),ba=D,ga=function(ia){return function(ya){W[ia]=arguments.length>1?aa.call(arguments,0):ya;--ba||I.resolveWith(L,W)}};D--;)(v=W[D])&&e.isFunction(v.promise)?v.promise().then(ga(D),I.reject):--ba;ba||I.resolveWith(L,W)}else I!==v&&I.resolve(v);return L},uaMatch:function(v){v=v.toLowerCase();v=sa.exec(v)||la.exec(v)||ua.exec(v)||v.indexOf("compatible")<0&&Ea.exec(v)||[];return{browser:v[1]||
"",version:v[2]||"0"}},sub:function(){function v(I,L){return new v.fn.init(I,L)}e.extend(true,v,this);v.superclass=this;v.fn=v.prototype=this();v.fn.constructor=v;v.subclass=this.subclass;v.fn.init=function I(I,L){L&&L instanceof e&&!(L instanceof v)&&(L=v(L));return e.fn.init.call(this,I,L,D)};v.fn.init.prototype=v.fn;var D=v(H);return v},browser:{}});F=e._Deferred();e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(v,D){va["[object "+D+"]"]=D.toLowerCase()});p=
e.uaMatch(p);p.browser&&(e.browser[p.browser]=true,e.browser.version=p.version);e.browser.webkit&&(e.browser.safari=true);pa&&(e.inArray=function(v,D){return pa.call(D,v)});u.test("\u00a0")&&(C=/^[\s\xA0]+/,A=/[\s\xA0]+$/);o=e(H);H.addEventListener?B=function(){H.removeEventListener("DOMContentLoaded",B,false);e.ready()}:H.attachEvent&&(B=function(){H.readyState==="complete"&&(H.detachEvent("onreadystatechange",B),e.ready())});return e}();(function(){j.support={};var c=H.createElement("div");c.style.display=
"none";c.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var e=c.getElementsByTagName("*"),k=c.getElementsByTagName("a")[0],m=H.createElement("select"),o=m.appendChild(H.createElement("option")),q=c.getElementsByTagName("input")[0];if(e&&e.length&&k){j.support={leadingWhitespace:c.firstChild.nodeType===3,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/red/.test(k.getAttribute("style")),
hrefNormalized:k.getAttribute("href")==="/a",opacity:/^0.55$/.test(k.style.opacity),cssFloat:!!k.style.cssFloat,checkOn:q.value==="on",optSelected:o.selected,deleteExpando:true,optDisabled:false,checkClone:false,noCloneEvent:true,noCloneChecked:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};q.checked=true;j.support.noCloneChecked=q.cloneNode(true).checked;m.disabled=true;j.support.optDisabled=!o.disabled;var u=null;j.support.scriptEval=function(){if(u===
null){var A=H.documentElement,x=H.createElement("script"),J="script"+j.now();try{x.appendChild(H.createTextNode("window."+J+"=1;"))}catch(S){}A.insertBefore(x,A.firstChild);a[J]?(u=true,delete a[J]):u=false;A.removeChild(x)}return u};try{delete c.test}catch(C){j.support.deleteExpando=false}!c.addEventListener&&c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",function A(){j.support.noCloneEvent=false;c.detachEvent("onclick",A)}),c.cloneNode(true).fireEvent("onclick"));c=H.createElement("div");
c.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";e=H.createDocumentFragment();e.appendChild(c.firstChild);j.support.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;j(function(){var A=H.createElement("div"),x=H.getElementsByTagName("body")[0];if(x){A.style.width=A.style.paddingLeft="1px";x.appendChild(A);j.boxModel=j.support.boxModel=A.offsetWidth===2;"zoom"in A.style&&(A.style.display="inline",A.style.zoom=1,j.support.inlineBlockNeedsLayout=A.offsetWidth===2,A.style.display=
"",A.innerHTML="<div style='width:4px;'></div>",j.support.shrinkWrapBlocks=A.offsetWidth!==2);A.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var J=A.getElementsByTagName("td");j.support.reliableHiddenOffsets=J[0].offsetHeight===0;J[0].style.display="";J[1].style.display="none";j.support.reliableHiddenOffsets=j.support.reliableHiddenOffsets&&J[0].offsetHeight===0;A.innerHTML="";x.removeChild(A).style.display="none"}});e=function(A){var x=H.createElement("div");
A="on"+A;if(!x.attachEvent)return true;var J=A in x;J||(x.setAttribute(A,"return;"),J=typeof x[A]==="function");return J};j.support.submitBubbles=e("submit");j.support.changeBubbles=e("change");c=e=k=null}})();var gb=/^(?:\{.*\}|\[.*\])$/;j.extend({cache:{},uuid:0,expando:"jQuery"+(j.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(c){c=c.nodeType?j.cache[c[j.expando]]:c[j.expando];return!!c&&!Ga(c)},data:function(c,
e,k,m){if(j.acceptData(c)){var o=j.expando,q=typeof e==="string",u=c.nodeType,C=u?j.cache:c,A=u?c[j.expando]:c[j.expando]&&j.expando;if(!((!A||m&&A&&!C[A][o])&&q&&k===d)){A||(u?c[j.expando]=A=++j.uuid:A=j.expando);C[A]||(C[A]={},u||(C[A].toJSON=j.noop));if(typeof e==="object"||typeof e==="function")m?C[A][o]=j.extend(C[A][o],e):C[A]=j.extend(C[A],e);c=C[A];m&&(c[o]||(c[o]={}),c=c[o]);k!==d&&(c[e]=k);if(e==="events"&&!c[e])return c[o]&&c[o].events;return q?c[e]:c}}},removeData:function(c,e,k){if(j.acceptData(c)){var m=
j.expando,o=c.nodeType,q=o?j.cache:c,u=o?c[j.expando]:j.expando;if(q[u]){if(e){var C=k?q[u][m]:q[u];if(C){delete C[e];if(!Ga(C))return}}if(k){delete q[u][m];if(!Ga(q[u]))return}e=q[u][m];j.support.deleteExpando||q!=a?delete q[u]:q[u]=null;e?(q[u]={},o||(q[u].toJSON=j.noop),q[u][m]=e):o&&(j.support.deleteExpando?delete c[j.expando]:c.removeAttribute?c.removeAttribute(j.expando):c[j.expando]=null)}}},_data:function(c,e,k){return j.data(c,e,k,true)},acceptData:function(c){if(c.nodeName){var e=j.noData[c.nodeName.toLowerCase()];
if(e)return e!==true&&c.getAttribute("classid")===e}return true}});j.fn.extend({data:function(c,e){var k=null;if(typeof c==="undefined"){if(this.length){k=j.data(this[0]);if(this[0].nodeType===1)for(var m=this[0].attributes,o,q=0,u=m.length;q<u;q++){o=m[q].name;o.indexOf("data-")===0&&(o=o.substr(5),wa(this[0],o,k[o]))}}return k}if(typeof c==="object")return this.each(function(){j.data(this,c)});var C=c.split(".");C[1]=C[1]?"."+C[1]:"";if(e===d){k=this.triggerHandler("getData"+C[1]+"!",[C[0]]);k===
d&&this.length&&(k=j.data(this[0],c),k=wa(this[0],c,k));return k===d&&C[1]?this.data(C[0]):k}return this.each(function(){var A=j(this),x=[C[0],e];A.triggerHandler("setData"+C[1]+"!",x);j.data(this,c,e);A.triggerHandler("changeData"+C[1]+"!",x)})},removeData:function(c){return this.each(function(){j.removeData(this,c)})}});j.extend({queue:function(c,e,k){if(c){e=(e||"fx")+"queue";var m=j._data(c,e);if(!k)return m||[];!m||j.isArray(k)?m=j._data(c,e,j.makeArray(k)):m.push(k);return m}},dequeue:function(c,
e){e=e||"fx";var k=j.queue(c,e),m=k.shift();m==="inprogress"&&(m=k.shift());m&&(e==="fx"&&k.unshift("inprogress"),m.call(c,function(){j.dequeue(c,e)}));k.length||j.removeData(c,e+"queue",true)}});j.fn.extend({queue:function(c,e){typeof c!=="string"&&(e=c,c="fx");if(e===d)return j.queue(this[0],c);return this.each(function(){var k=j.queue(this,c,e);c==="fx"&&k[0]!=="inprogress"&&j.dequeue(this,c)})},dequeue:function(c){return this.each(function(){j.dequeue(this,c)})},delay:function(c,e){c=j.fx?j.fx.speeds[c]||
c:c;e=e||"fx";return this.queue(e,function(){var k=this;setTimeout(function(){j.dequeue(k,e)},c)})},clearQueue:function(c){return this.queue(c||"fx",[])}});var Oa=/[\n\t\r]/g,Ba=/\s+/,Wa=/\r/g,Ka=/^(?:href|src|style)$/,Pa=/^(?:button|input)$/i,Va=/^(?:button|input|object|select|textarea)$/i,bb=/^a(?:rea)?$/i,cb=/^(?:radio|checkbox)$/i;j.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",
usemap:"useMap",frameborder:"frameBorder"};j.fn.extend({attr:function(c,e){return j.access(this,c,e,true,j.attr)},removeAttr:function(c){return this.each(function(){j.attr(this,c,"");this.nodeType===1&&this.removeAttribute(c)})},addClass:function(c){if(j.isFunction(c))return this.each(function(x){var J=j(this);J.addClass(c.call(this,x,J.attr("class")))});if(c&&typeof c==="string")for(var e=(c||"").split(Ba),k=0,m=this.length;k<m;k++){var o=this[k];if(o.nodeType===1)if(o.className){for(var q=" "+o.className+
" ",u=o.className,C=0,A=e.length;C<A;C++)q.indexOf(" "+e[C]+" ")<0&&(u+=" "+e[C]);o.className=j.trim(u)}else o.className=c}return this},removeClass:function(c){if(j.isFunction(c))return this.each(function(A){var x=j(this);x.removeClass(c.call(this,A,x.attr("class")))});if(c&&typeof c==="string"||c===d)for(var e=(c||"").split(Ba),k=0,m=this.length;k<m;k++){var o=this[k];if(o.nodeType===1&&o.className)if(c){for(var q=(" "+o.className+" ").replace(Oa," "),u=0,C=e.length;u<C;u++)q=q.replace(" "+e[u]+
" "," ");o.className=j.trim(q)}else o.className=""}return this},toggleClass:function(c,e){var k=typeof c,m=typeof e==="boolean";if(j.isFunction(c))return this.each(function(o){var q=j(this);q.toggleClass(c.call(this,o,q.attr("class"),e),e)});return this.each(function(){if(k==="string")for(var o,q=0,u=j(this),C=e,A=c.split(Ba);o=A[q++];){C=m?C:!u.hasClass(o);u[C?"addClass":"removeClass"](o)}else if(k==="undefined"||k==="boolean"){this.className&&j._data(this,"__className__",this.className);this.className=
this.className||c===false?"":j._data(this,"__className__")||""}})},hasClass:function(c){c=" "+c+" ";for(var e=0,k=this.length;e<k;e++)if((" "+this[e].className+" ").replace(Oa," ").indexOf(c)>-1)return true;return false},val:function(c){if(!arguments.length){var e=this[0];if(e){if(j.nodeName(e,"option")){var k=e.attributes.value;return!k||k.specified?e.value:e.text}if(j.nodeName(e,"select")){k=e.selectedIndex;var m=[],o=e.options;e=e.type==="select-one";if(k<0)return null;for(var q=e?k:0,u=e?k+1:
o.length;q<u;q++){var C=o[q];if(C.selected&&(j.support.optDisabled?!C.disabled:C.getAttribute("disabled")===null)&&(!C.parentNode.disabled||!j.nodeName(C.parentNode,"optgroup"))){c=j(C).val();if(e)return c;m.push(c)}}if(e&&!m.length&&o.length)return j(o[k]).val();return m}if(cb.test(e.type)&&!j.support.checkOn)return e.getAttribute("value")===null?"on":e.value;return(e.value||"").replace(Wa,"")}return d}var A=j.isFunction(c);return this.each(function(x){var J=j(this),S=c;if(this.nodeType===1){A&&
(S=c.call(this,x,J.val()));S==null?S="":typeof S==="number"?S+="":j.isArray(S)&&(S=j.map(S,function(Y){return Y==null?"":Y+""}));if(j.isArray(S)&&cb.test(this.type))this.checked=j.inArray(J.val(),S)>=0;else if(j.nodeName(this,"select")){var fa=j.makeArray(S);j("option",this).each(function(){this.selected=j.inArray(j(this).val(),fa)>=0});fa.length||(this.selectedIndex=-1)}else this.value=S}})}});j.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(c,
e,k,m){if(!c||c.nodeType===3||c.nodeType===8||c.nodeType===2)return d;if(m&&e in j.attrFn)return j(c)[e](k);m=c.nodeType!==1||!j.isXMLDoc(c);var o=k!==d;e=m&&j.props[e]||e;if(c.nodeType===1){var q=Ka.test(e);if((e in c||c[e]!==d)&&m&&!q){o&&(e==="type"&&Pa.test(c.nodeName)&&c.parentNode&&j.error("type property can't be changed"),k===null?c.nodeType===1&&c.removeAttribute(e):c[e]=k);if(j.nodeName(c,"form")&&c.getAttributeNode(e))return c.getAttributeNode(e).nodeValue;if(e==="tabIndex")return(e=c.getAttributeNode("tabIndex"))&&
e.specified?e.value:Va.test(c.nodeName)||bb.test(c.nodeName)&&c.href?0:d;return c[e]}if(!j.support.style&&m&&e==="style"){o&&(c.style.cssText=""+k);return c.style.cssText}o&&c.setAttribute(e,""+k);if(!c.attributes[e]&&c.hasAttribute&&!c.hasAttribute(e))return d;c=!j.support.hrefNormalized&&m&&q?c.getAttribute(e,2):c.getAttribute(e);return c===null?d:c}o&&(c[e]=k);return c[e]}});var Aa=/\.(.*)$/,Ja=/^(?:textarea|input|select)$/i,Ca=/\./g,db=/ /g,fb=/[^\w\s.|`]/g,V=function(c){return c.replace(fb,"\\$&")};
j.event={add:function(c,e,k,m){if(c.nodeType!==3&&c.nodeType!==8){try{j.isWindow(c)&&c!==a&&!c.frameElement&&(c=a)}catch(o){}if(k===false)k=ma;else if(!k)return;var q,u;k.handler&&(q=k,k=q.handler);k.guid||(k.guid=j.guid++);if(u=j._data(c)){var C=u.events,A=u.handle;C||(u.events=C={});A||(u.handle=A=function(){return typeof j!=="undefined"&&!j.event.triggered?j.event.handle.apply(A.elem,arguments):d});A.elem=c;e=e.split(" ");for(var x,J=0,S;x=e[J++];){u=q?j.extend({},q):{handler:k,data:m};x.indexOf(".")>
-1?(S=x.split("."),x=S.shift(),u.namespace=S.slice(0).sort().join(".")):(S=[],u.namespace="");u.type=x;u.guid||(u.guid=k.guid);var fa=C[x],Y=j.event.special[x]||{};if(!fa){fa=C[x]=[];if(!Y.setup||Y.setup.call(c,m,S,A)===false)c.addEventListener?c.addEventListener(x,A,false):c.attachEvent&&c.attachEvent("on"+x,A)}Y.add&&(Y.add.call(c,u),u.handler.guid||(u.handler.guid=k.guid));fa.push(u);j.event.global[x]=true}c=null}}},global:{},remove:function(c,e,k,m){if(c.nodeType!==3&&c.nodeType!==8){k===false&&
(k=ma);var o,q,u=0,C,A,x,J,S,fa,Y=j.hasData(c)&&j._data(c),ha=Y&&Y.events;if(Y&&ha){e&&e.type&&(k=e.handler,e=e.type);if(!e||typeof e==="string"&&e.charAt(0)==="."){e=e||"";for(o in ha)j.event.remove(c,o+e)}else{for(e=e.split(" ");o=e[u++];){J=o;C=o.indexOf(".")<0;A=[];C||(A=o.split("."),o=A.shift(),x=RegExp("(^|\\.)"+j.map(A.slice(0).sort(),V).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(S=ha[o])if(k){J=j.event.special[o]||{};for(q=m||0;q<S.length;q++){fa=S[q];if(k.guid===fa.guid){if(C||x.test(fa.namespace)){m==
null&&S.splice(q--,1);J.remove&&J.remove.call(c,fa)}if(m!=null)break}}if(S.length===0||m!=null&&S.length===1){(!J.teardown||J.teardown.call(c,A)===false)&&j.removeEvent(c,o,Y.handle);delete ha[o]}}else for(q=0;q<S.length;q++){fa=S[q];if(C||x.test(fa.namespace)){j.event.remove(c,J,fa.handler,q);S.splice(q--,1)}}}if(j.isEmptyObject(ha)){(e=Y.handle)&&(e.elem=null);delete Y.events;delete Y.handle;j.isEmptyObject(Y)&&j.removeData(c,d,true)}}}}},trigger:function(c,e,k,m){var o=c.type||c;if(!m){c=typeof c===
"object"?c[j.expando]?c:j.extend(j.Event(o),c):j.Event(o);o.indexOf("!")>=0&&(c.type=o=o.slice(0,-1),c.exclusive=true);k||(c.stopPropagation(),j.event.global[o]&&j.each(j.cache,function(){var S=this[j.expando];S&&S.events&&S.events[o]&&j.event.trigger(c,e,S.handle.elem)}));if(!k||k.nodeType===3||k.nodeType===8)return d;c.result=d;c.target=k;e=j.makeArray(e);e.unshift(c)}c.currentTarget=k;(m=j._data(k,"handle"))&&m.apply(k,e);m=k.parentNode||k.ownerDocument;try{k&&k.nodeName&&j.noData[k.nodeName.toLowerCase()]||
k["on"+o]&&k["on"+o].apply(k,e)===false&&(c.result=false,c.preventDefault())}catch(q){}if(!c.isPropagationStopped()&&m)j.event.trigger(c,e,m,true);else if(!c.isDefaultPrevented()){var u;m=c.target;var C=o.replace(Aa,""),A=j.nodeName(m,"a")&&C==="click",x=j.event.special[C]||{};if((!x._default||x._default.call(k,c)===false)&&!A&&!(m&&m.nodeName&&j.noData[m.nodeName.toLowerCase()])){try{m[C]&&(u=m["on"+C],u&&(m["on"+C]=null),j.event.triggered=true,m[C]())}catch(J){}u&&(m["on"+C]=u);j.event.triggered=
false}}},handle:function(c){var e,k,m,o;o=[];var q=j.makeArray(arguments);c=q[0]=j.event.fix(c||a.event);c.currentTarget=this;(e=c.type.indexOf(".")<0&&!c.exclusive)||(k=c.type.split("."),c.type=k.shift(),o=k.slice(0).sort(),m=RegExp("(^|\\.)"+o.join("\\.(?:.*\\.)?")+"(\\.|$)"));c.namespace=c.namespace||o.join(".");o=j._data(this,"events");k=(o||{})[c.type];if(o&&k){k=k.slice(0);o=0;for(var u=k.length;o<u;o++){var C=k[o];if(e||m.test(C.namespace)){c.handler=C.handler;c.data=C.data;c.handleObj=C;C=
C.handler.apply(this,q);C!==d&&(c.result=C,C===false&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(c){if(c[j.expando])return c;
var e=c;c=j.Event(e);for(var k=this.props.length,m;k;){m=this.props[--k];c[m]=e[m]}c.target||(c.target=c.srcElement||H);c.target.nodeType===3&&(c.target=c.target.parentNode);!c.relatedTarget&&c.fromElement&&(c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement);if(c.pageX==null&&c.clientX!=null){e=H.documentElement;k=H.body;c.pageX=c.clientX+(e&&e.scrollLeft||k&&k.scrollLeft||0)-(e&&e.clientLeft||k&&k.clientLeft||0);c.pageY=c.clientY+(e&&e.scrollTop||k&&k.scrollTop||0)-(e&&e.clientTop||
k&&k.clientTop||0)}c.which==null&&(c.charCode!=null||c.keyCode!=null)&&(c.which=c.charCode!=null?c.charCode:c.keyCode);!c.metaKey&&c.ctrlKey&&(c.metaKey=c.ctrlKey);!c.which&&c.button!==d&&(c.which=c.button&1?1:c.button&2?3:c.button&4?2:0);return c},guid:1E8,proxy:j.proxy,special:{ready:{setup:j.bindReady,teardown:j.noop},live:{add:function(c){j.event.add(this,ja(c.origType,c.selector),j.extend({},c,{handler:xa,guid:c.handler.guid}))},remove:function(c){j.event.remove(this,ja(c.origType,c.selector),
c)}},beforeunload:{setup:function(c,e,k){j.isWindow(this)&&(this.onbeforeunload=k)},teardown:function(c,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}}};j.removeEvent=H.removeEventListener?function(c,e,k){c.removeEventListener&&c.removeEventListener(e,k,false)}:function(c,e,k){c.detachEvent&&c.detachEvent("on"+e,k)};j.Event=function(c){if(!this.preventDefault)return new j.Event(c);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.returnValue===
false||c.getPreventDefault&&c.getPreventDefault()?ta:ma):this.type=c;this.timeStamp=j.now();this[j.expando]=true};j.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ta;var c=this.originalEvent;c&&(c.preventDefault?c.preventDefault():c.returnValue=false)},stopPropagation:function(){this.isPropagationStopped=ta;var c=this.originalEvent;c&&(c.stopPropagation&&c.stopPropagation(),c.cancelBubble=true)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ta;this.stopPropagation()},
isDefaultPrevented:ma,isPropagationStopped:ma,isImmediatePropagationStopped:ma};var E=function(c){var e=c.relatedTarget;try{if(!(e!==H&&!e.parentNode)){for(;e&&e!==this;)e=e.parentNode;e!==this&&(c.type=c.data,j.event.handle.apply(this,arguments))}}catch(k){}},K=function(c){c.type=c.data;j.event.handle.apply(this,arguments)};j.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,e){j.event.special[c]={setup:function(k){j.event.add(this,e,k&&k.selector?K:E,c)},teardown:function(k){j.event.remove(this,
e,k&&k.selector?K:E)}}});j.support.submitBubbles||(j.event.special.submit={setup:function(){if(this.nodeName&&this.nodeName.toLowerCase()!=="form"){j.event.add(this,"click.specialSubmit",function(c){var e=c.target,k=e.type;(k==="submit"||k==="image")&&j(e).closest("form").length&&$("submit",this,arguments)});j.event.add(this,"keypress.specialSubmit",function(c){var e=c.target,k=e.type;(k==="text"||k==="password")&&j(e).closest("form").length&&c.keyCode===13&&$("submit",this,arguments)})}else return false},
teardown:function(){j.event.remove(this,".specialSubmit")}});if(!j.support.changeBubbles){var N,T=function(c){var e=c.type,k=c.value;e==="radio"||e==="checkbox"?k=c.checked:e==="select-multiple"?k=c.selectedIndex>-1?j.map(c.options,function(m){return m.selected}).join("-"):"":c.nodeName.toLowerCase()==="select"&&(k=c.selectedIndex);return k},U=function(c,e){var k=c.target,m,o;if(Ja.test(k.nodeName)&&!k.readOnly){m=j._data(k,"_change_data");o=T(k);(c.type!=="focusout"||k.type!=="radio")&&j._data(k,
"_change_data",o);if(!(m===d||o===m))if(m!=null||o){c.type="change";c.liveFired=d;j.event.trigger(c,e,k)}}};j.event.special.change={filters:{focusout:U,beforedeactivate:U,click:function(c){var e=c.target,k=e.type;(k==="radio"||k==="checkbox"||e.nodeName.toLowerCase()==="select")&&U.call(this,c)},keydown:function(c){var e=c.target,k=e.type;(c.keyCode===13&&e.nodeName.toLowerCase()!=="textarea"||c.keyCode===32&&(k==="checkbox"||k==="radio")||k==="select-multiple")&&U.call(this,c)},beforeactivate:function(c){c=
c.target;j._data(c,"_change_data",T(c))}},setup:function(){if(this.type==="file")return false;for(var c in N)j.event.add(this,c+".specialChange",N[c]);return Ja.test(this.nodeName)},teardown:function(){j.event.remove(this,".specialChange");return Ja.test(this.nodeName)}};N=j.event.special.change.filters;N.focus=N.beforeactivate}H.addEventListener&&j.each({focus:"focusin",blur:"focusout"},function(c,e){function k(m){m=j.event.fix(m);m.type=e;return j.event.handle.call(this,m)}j.event.special[e]={setup:function(){this.addEventListener(c,
k,true)},teardown:function(){this.removeEventListener(c,k,true)}}});j.each(["bind","one"],function(c,e){j.fn[e]=function(k,m,o){if(typeof k==="object"){for(var q in k)this[e](q,m,k[q],o);return this}if(j.isFunction(m)||m===false){o=m;m=d}var u=e==="one"?j.proxy(o,function(A){j(this).unbind(A,u);return o.apply(this,arguments)}):o;if(k==="unload"&&e!=="one")this.one(k,m,o);else{q=0;for(var C=this.length;q<C;q++)j.event.add(this[q],k,u,m)}return this}});j.fn.extend({unbind:function(c,e){if(typeof c!==
"object"||c.preventDefault)for(var k=0,m=this.length;k<m;k++)j.event.remove(this[k],c,e);else for(k in c)this.unbind(k,c[k]);return this},delegate:function(c,e,k,m){return this.live(e,k,m,c)},undelegate:function(c,e,k){return arguments.length===0?this.unbind("live"):this.die(e,null,k,c)},trigger:function(c,e){return this.each(function(){j.event.trigger(c,e,this)})},triggerHandler:function(c,e){if(this[0]){var k=j.Event(c);k.preventDefault();k.stopPropagation();j.event.trigger(k,e,this[0]);return k.result}},
toggle:function(c){for(var e=arguments,k=1;k<e.length;)j.proxy(c,e[k++]);return this.click(j.proxy(c,function(m){var o=(j._data(this,"lastToggle"+c.guid)||0)%k;j._data(this,"lastToggle"+c.guid,o+1);m.preventDefault();return e[o].apply(this,arguments)||false}))},hover:function(c,e){return this.mouseenter(c).mouseleave(e||c)}});var ea={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};j.each(["live","die"],function(c,e){j.fn[e]=function(k,m,o,q){var u,C=0,A,x,J=q||this.selector;
q=q?this:j(this.context);if(typeof k==="object"&&!k.preventDefault){for(u in k)q[e](u,m,k[u],J);return this}j.isFunction(m)&&(o=m,m=d);for(k=(k||"").split(" ");(u=k[C++])!=null;){A=Aa.exec(u);x="";A&&(x=A[0],u=u.replace(Aa,""));if(u==="hover")k.push("mouseenter"+x,"mouseleave"+x);else{A=u;u==="focus"||u==="blur"?(k.push(ea[u]+x),u+=x):u=(ea[u]||u)+x;if(e==="live"){x=0;for(var S=q.length;x<S;x++)j.event.add(q[x],"live."+ja(u,J),{data:m,selector:J,handler:o,origType:u,origHandler:o,preType:A})}else q.unbind("live."+
ja(u,J),o)}}return this}});j.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(c,e){j.fn[e]=function(k,m){m==null&&(m=k,k=null);return arguments.length>0?this.bind(e,k,m):this.trigger(e)};j.attrFn&&(j.attrFn[e]=true)});(function(){function c(p,w,F,y,B,G){B=0;for(var R=y.length;B<R;B++){var Q=y[B];if(Q){var aa=false;for(Q=Q[p];Q;){if(Q.sizcache===
F){aa=y[Q.sizset];break}if(Q.nodeType===1){G||(Q.sizcache=F,Q.sizset=B);if(typeof w!=="string"){if(Q===w){aa=true;break}}else if(x.filter(w,[Q]).length>0){aa=Q;break}}Q=Q[p]}y[B]=aa}}}function e(p,w,F,y,B,G){B=0;for(var R=y.length;B<R;B++){var Q=y[B];if(Q){var aa=false;for(Q=Q[p];Q;){if(Q.sizcache===F){aa=y[Q.sizset];break}Q.nodeType===1&&!G&&(Q.sizcache=F,Q.sizset=B);if(Q.nodeName.toLowerCase()===w){aa=Q;break}Q=Q[p]}y[B]=aa}}}var k=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
m=0,o=Object.prototype.toString,q=false,u=true,C=/\\/g,A=/\W/;[0,0].sort(function(){u=false;return 0});var x=function(p,w,F,y){F=F||[];var B=w=w||H;if(w.nodeType!==1&&w.nodeType!==9)return[];if(!p||typeof p!=="string")return F;var G,R,Q,aa,qa,pa,va=true,v=x.isXML(w),D=[],I=p;do{k.exec("");if(G=k.exec(I)){I=G[3];D.push(G[1]);if(G[2]){aa=G[3];break}}}while(G);if(D.length>1&&S.exec(p))if(D.length===2&&J.relative[D[0]])R=Ea(D[0]+D[1],w);else for(R=J.relative[D[0]]?[w]:x(D.shift(),w);D.length;){p=D.shift();
J.relative[p]&&(p+=D.shift());R=Ea(p,R)}else{!y&&D.length>1&&w.nodeType===9&&!v&&J.match.ID.test(D[0])&&!J.match.ID.test(D[D.length-1])&&(qa=x.find(D.shift(),w,v),w=qa.expr?x.filter(qa.expr,qa.set)[0]:qa.set[0]);if(w){qa=y?{expr:D.pop(),set:ha(y)}:x.find(D.pop(),D.length===1&&(D[0]==="~"||D[0]==="+")&&w.parentNode?w.parentNode:w,v);R=qa.expr?x.filter(qa.expr,qa.set):qa.set;for(D.length>0?Q=ha(R):va=false;D.length;){G=pa=D.pop();J.relative[pa]?G=D.pop():pa="";G==null&&(G=w);J.relative[pa](Q,G,v)}}else Q=
[]}Q||(Q=R);Q||x.error(pa||p);if(o.call(Q)==="[object Array]")if(va)if(w&&w.nodeType===1)for(p=0;Q[p]!=null;p++)Q[p]&&(Q[p]===true||Q[p].nodeType===1&&x.contains(w,Q[p]))&&F.push(R[p]);else for(p=0;Q[p]!=null;p++)Q[p]&&Q[p].nodeType===1&&F.push(R[p]);else F.push.apply(F,Q);else ha(Q,F);aa&&(x(aa,B,F,y),x.uniqueSort(F));return F};x.uniqueSort=function(p){if(la){q=u;p.sort(la);if(q)for(var w=1;w<p.length;w++)p[w]===p[w-1]&&p.splice(w--,1)}return p};x.matches=function(p,w){return x(p,null,null,w)};x.matchesSelector=
function(p,w){return x(w,null,null,[p]).length>0};x.find=function(p,w,F){var y;if(!p)return[];for(var B=0,G=J.order.length;B<G;B++){var R,Q=J.order[B];if(R=J.leftMatch[Q].exec(p)){var aa=R[1];R.splice(1,1);if(aa.substr(aa.length-1)!=="\\"){R[1]=(R[1]||"").replace(C,"");y=J.find[Q](R,w,F);if(y!=null){p=p.replace(J.match[Q],"");break}}}}y||(y=typeof w.getElementsByTagName!=="undefined"?w.getElementsByTagName("*"):[]);return{set:y,expr:p}};x.filter=function(p,w,F,y){for(var B,G,R=p,Q=[],aa=w,qa=w&&w[0]&&
x.isXML(w[0]);p&&w.length;){for(var pa in J.filter)if((B=J.leftMatch[pa].exec(p))!=null&&B[2]){var va,v,D=J.filter[pa];v=B[1];G=false;B.splice(1,1);if(v.substr(v.length-1)!=="\\"){aa===Q&&(Q=[]);if(J.preFilter[pa])if(B=J.preFilter[pa](B,aa,F,Q,y,qa)){if(B===true)continue}else G=va=true;if(B)for(var I=0;(v=aa[I])!=null;I++)if(v){va=D(v,B,I,aa);var L=y^!!va;F&&va!=null?L?G=true:aa[I]=false:L&&(Q.push(v),G=true)}if(va!==d){F||(aa=Q);p=p.replace(J.match[pa],"");if(!G)return[];break}}}if(p===R)if(G==null)x.error(p);
else break;R=p}return aa};x.error=function(p){throw"Syntax error, unrecognized expression: "+p;};var J=x.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(p){return p.getAttribute("href")},type:function(p){return p.getAttribute("type")}},relative:{"+":function(p,w){var F=typeof w==="string",y=F&&!A.test(w);F=F&&!y;y&&(w=w.toLowerCase());y=0;for(var B=p.length,G;y<B;y++)if(G=p[y]){for(;(G=G.previousSibling)&&G.nodeType!==
1;);p[y]=F||G&&G.nodeName.toLowerCase()===w?G||false:G===w}F&&x.filter(w,p,true)},">":function(p,w){var F,y=typeof w==="string",B=0,G=p.length;if(y&&!A.test(w))for(w=w.toLowerCase();B<G;B++){if(F=p[B]){F=F.parentNode;p[B]=F.nodeName.toLowerCase()===w?F:false}}else{for(;B<G;B++)(F=p[B])&&(p[B]=y?F.parentNode:F.parentNode===w);y&&x.filter(w,p,true)}},"":function(p,w,F){var y,B=m++,G=c;typeof w==="string"&&!A.test(w)&&(w=w.toLowerCase(),y=w,G=e);G("parentNode",w,B,p,y,F)},"~":function(p,w,F){var y,B=
m++,G=c;typeof w==="string"&&!A.test(w)&&(w=w.toLowerCase(),y=w,G=e);G("previousSibling",w,B,p,y,F)}},find:{ID:function(p,w,F){if(typeof w.getElementById!=="undefined"&&!F)return(p=w.getElementById(p[1]))&&p.parentNode?[p]:[]},NAME:function(p,w){if(typeof w.getElementsByName!=="undefined"){for(var F=[],y=w.getElementsByName(p[1]),B=0,G=y.length;B<G;B++)y[B].getAttribute("name")===p[1]&&F.push(y[B]);return F.length===0?null:F}},TAG:function(p,w){if(typeof w.getElementsByTagName!=="undefined")return w.getElementsByTagName(p[1])}},
preFilter:{CLASS:function(p,w,F,y,B,G){p=" "+p[1].replace(C,"")+" ";if(G)return p;G=0;for(var R;(R=w[G])!=null;G++)R&&(B^(R.className&&(" "+R.className+" ").replace(/[\t\n\r]/g," ").indexOf(p)>=0)?F||y.push(R):F&&(w[G]=false));return false},ID:function(p){return p[1].replace(C,"")},TAG:function(p){return p[1].replace(C,"").toLowerCase()},CHILD:function(p){if(p[1]==="nth"){p[2]||x.error(p[0]);p[2]=p[2].replace(/^\+|\s*/g,"");var w=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(p[2]==="even"&&"2n"||p[2]==="odd"&&
"2n+1"||!/\D/.test(p[2])&&"0n+"+p[2]||p[2]);p[2]=w[1]+(w[2]||1)-0;p[3]=w[3]-0}else p[2]&&x.error(p[0]);p[0]=m++;return p},ATTR:function(p,w,F,y,B,G){w=p[1]=p[1].replace(C,"");!G&&J.attrMap[w]&&(p[1]=J.attrMap[w]);p[4]=(p[4]||p[5]||"").replace(C,"");p[2]==="~="&&(p[4]=" "+p[4]+" ");return p},PSEUDO:function(p,w,F,y,B){if(p[1]==="not")if((k.exec(p[3])||"").length>1||/^\w/.test(p[3]))p[3]=x(p[3],null,null,w);else{p=x.filter(p[3],w,F,true^B);F||y.push.apply(y,p);return false}else if(J.match.POS.test(p[0])||
J.match.CHILD.test(p[0]))return true;return p},POS:function(p){p.unshift(true);return p}},filters:{enabled:function(p){return p.disabled===false&&p.type!=="hidden"},disabled:function(p){return p.disabled===true},checked:function(p){return p.checked===true},selected:function(p){return p.selected===true},parent:function(p){return!!p.firstChild},empty:function(p){return!p.firstChild},has:function(p,w,F){return!!x(F[3],p).length},header:function(p){return/h\d/i.test(p.nodeName)},text:function(p){return"text"===
p.getAttribute("type")},radio:function(p){return"radio"===p.type},checkbox:function(p){return"checkbox"===p.type},file:function(p){return"file"===p.type},password:function(p){return"password"===p.type},submit:function(p){return"submit"===p.type},image:function(p){return"image"===p.type},reset:function(p){return"reset"===p.type},button:function(p){return"button"===p.type||p.nodeName.toLowerCase()==="button"},input:function(p){return/input|select|textarea|button/i.test(p.nodeName)}},setFilters:{first:function(p,
w){return w===0},last:function(p,w,F,y){return w===y.length-1},even:function(p,w){return w%2===0},odd:function(p,w){return w%2===1},lt:function(p,w,F){return w<F[3]-0},gt:function(p,w,F){return w>F[3]-0},nth:function(p,w,F){return F[3]-0===w},eq:function(p,w,F){return F[3]-0===w}},filter:{PSEUDO:function(p,w,F,y){var B=w[1],G=J.filters[B];if(G)return G(p,F,w,y);if(B==="contains")return(p.textContent||p.innerText||x.getText([p])||"").indexOf(w[3])>=0;if(B==="not"){w=w[3];F=0;for(y=w.length;F<y;F++)if(w[F]===
p)return false;return true}x.error(B)},CHILD:function(p,w){var F=w[1],y=p;switch(F){case "only":case "first":for(;y=y.previousSibling;)if(y.nodeType===1)return false;if(F==="first")return true;y=p;case "last":for(;y=y.nextSibling;)if(y.nodeType===1)return false;return true;case "nth":F=w[2];var B=w[3];if(F===1&&B===0)return true;var G=w[0],R=p.parentNode;if(R&&(R.sizcache!==G||!p.nodeIndex)){var Q=0;for(y=R.firstChild;y;y=y.nextSibling)y.nodeType===1&&(y.nodeIndex=++Q);R.sizcache=G}y=p.nodeIndex-
B;return F===0?y===0:y%F===0&&y/F>=0}},ID:function(p,w){return p.nodeType===1&&p.getAttribute("id")===w},TAG:function(p,w){return w==="*"&&p.nodeType===1||p.nodeName.toLowerCase()===w},CLASS:function(p,w){return(" "+(p.className||p.getAttribute("class"))+" ").indexOf(w)>-1},ATTR:function(p,w){var F=w[1];F=J.attrHandle[F]?J.attrHandle[F](p):p[F]!=null?p[F]:p.getAttribute(F);var y=F+"",B=w[2],G=w[4];return F==null?B==="!=":B==="="?y===G:B==="*="?y.indexOf(G)>=0:B==="~="?(" "+y+" ").indexOf(G)>=0:G?
B==="!="?y!==G:B==="^="?y.indexOf(G)===0:B==="$="?y.substr(y.length-G.length)===G:B==="|="?y===G||y.substr(0,G.length+1)===G+"-":false:y&&F!==false},POS:function(p,w,F,y){var B=J.setFilters[w[2]];if(B)return B(p,F,w,y)}}},S=J.match.POS,fa=function(p,w){return"\\"+(w-0+1)},Y;for(Y in J.match){J.match[Y]=RegExp(J.match[Y].source+/(?![^\[]*\])(?![^\(]*\))/.source);J.leftMatch[Y]=RegExp(/(^(?:.|\r|\n)*?)/.source+J.match[Y].source.replace(/\\(\d+)/g,fa))}var ha=function(p,w){p=Array.prototype.slice.call(p,
0);if(w){w.push.apply(w,p);return w}return p};try{Array.prototype.slice.call(H.documentElement.childNodes,0)}catch(sa){ha=function(p,w){var F=0,y=w||[];if(o.call(p)==="[object Array]")Array.prototype.push.apply(y,p);else if(typeof p.length==="number")for(var B=p.length;F<B;F++)y.push(p[F]);else for(;p[F];F++)y.push(p[F]);return y}}var la,ua;H.documentElement.compareDocumentPosition?la=function(p,w){if(p===w){q=true;return 0}if(!p.compareDocumentPosition||!w.compareDocumentPosition)return p.compareDocumentPosition?
-1:1;return p.compareDocumentPosition(w)&4?-1:1}:(la=function(p,w){var F,y,B=[],G=[];F=p.parentNode;y=w.parentNode;var R=F;if(p===w){q=true;return 0}if(F===y)return ua(p,w);if(!F)return-1;if(!y)return 1;for(;R;){B.unshift(R);R=R.parentNode}for(R=y;R;){G.unshift(R);R=R.parentNode}F=B.length;y=G.length;for(R=0;R<F&&R<y;R++)if(B[R]!==G[R])return ua(B[R],G[R]);return R===F?ua(p,G[R],-1):ua(B[R],w,1)},ua=function(p,w,F){if(p===w)return F;for(p=p.nextSibling;p;){if(p===w)return-1;p=p.nextSibling}return 1});
x.getText=function(p){for(var w="",F,y=0;p[y];y++){F=p[y];F.nodeType===3||F.nodeType===4?w+=F.nodeValue:F.nodeType!==8&&(w+=x.getText(F.childNodes))}return w};(function(){var p=H.createElement("div"),w="script"+(new Date).getTime(),F=H.documentElement;p.innerHTML="<a name='"+w+"'/>";F.insertBefore(p,F.firstChild);H.getElementById(w)&&(J.find.ID=function(y,B,G){if(typeof B.getElementById!=="undefined"&&!G)return(B=B.getElementById(y[1]))?B.id===y[1]||typeof B.getAttributeNode!=="undefined"&&B.getAttributeNode("id").nodeValue===
y[1]?[B]:d:[]},J.filter.ID=function(y,B){var G=typeof y.getAttributeNode!=="undefined"&&y.getAttributeNode("id");return y.nodeType===1&&G&&G.nodeValue===B});F.removeChild(p);F=p=null})();(function(){var p=H.createElement("div");p.appendChild(H.createComment(""));p.getElementsByTagName("*").length>0&&(J.find.TAG=function(w,F){var y=F.getElementsByTagName(w[1]);if(w[1]==="*"){for(var B=[],G=0;y[G];G++)y[G].nodeType===1&&B.push(y[G]);y=B}return y});p.innerHTML="<a href='#'></a>";p.firstChild&&typeof p.firstChild.getAttribute!==
"undefined"&&p.firstChild.getAttribute("href")!=="#"&&(J.attrHandle.href=function(w){return w.getAttribute("href",2)});p=null})();H.querySelectorAll&&function(){var p=x,w=H.createElement("div");w.innerHTML="<p class='TEST'></p>";if(!w.querySelectorAll||w.querySelectorAll(".TEST").length!==0){x=function(y,B,G,R){B=B||H;if(!R&&!x.isXML(B)){var Q=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(y);if(Q&&(B.nodeType===1||B.nodeType===9)){if(Q[1])return ha(B.getElementsByTagName(y),G);if(Q[2]&&J.find.CLASS&&
B.getElementsByClassName)return ha(B.getElementsByClassName(Q[2]),G)}if(B.nodeType===9){if(y==="body"&&B.body)return ha([B.body],G);if(Q&&Q[3]){var aa=B.getElementById(Q[3]);if(!aa||!aa.parentNode)return ha([],G);if(aa.id===Q[3])return ha([aa],G)}try{return ha(B.querySelectorAll(y),G)}catch(qa){}}else if(B.nodeType===1&&B.nodeName.toLowerCase()!=="object"){Q=B;var pa=(aa=B.getAttribute("id"))||"__sizzle__",va=B.parentNode,v=/^\s*[+~]/.test(y);aa?pa=pa.replace(/'/g,"\\$&"):B.setAttribute("id",pa);
v&&va&&(B=B.parentNode);try{if(!v||va)return ha(B.querySelectorAll("[id='"+pa+"'] "+y),G)}catch(D){}finally{aa||Q.removeAttribute("id")}}}return p(y,B,G,R)};for(var F in p)x[F]=p[F];w=null}}();(function(){var p=H.documentElement,w=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.msMatchesSelector,F=false;try{w.call(H.documentElement,"[test!='']:sizzle")}catch(y){F=true}w&&(x.matchesSelector=function(B,G){G=G.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!x.isXML(B))try{if(F||!J.match.PSEUDO.test(G)&&
!/!=/.test(G))return w.call(B,G)}catch(R){}return x(G,null,null,[B]).length>0})})();(function(){var p=H.createElement("div");p.innerHTML="<div class='test e'></div><div class='test'></div>";if(p.getElementsByClassName&&p.getElementsByClassName("e").length!==0){p.lastChild.className="e";if(p.getElementsByClassName("e").length!==1){J.order.splice(1,0,"CLASS");J.find.CLASS=function(w,F,y){if(typeof F.getElementsByClassName!=="undefined"&&!y)return F.getElementsByClassName(w[1])};p=null}}})();H.documentElement.contains?
x.contains=function(p,w){return p!==w&&(p.contains?p.contains(w):true)}:H.documentElement.compareDocumentPosition?x.contains=function(p,w){return!!(p.compareDocumentPosition(w)&16)}:x.contains=function(){return false};x.isXML=function(p){return(p=(p?p.ownerDocument||p:0).documentElement)?p.nodeName!=="HTML":false};var Ea=function(p,w){for(var F,y=[],B="",G=w.nodeType?[w]:w;F=J.match.PSEUDO.exec(p);){B+=F[0];p=p.replace(J.match.PSEUDO,"")}p=J.relative[p]?p+"*":p;F=0;for(var R=G.length;F<R;F++)x(p,
G[F],y);return x.filter(B,y)};j.find=x;j.expr=x.selectors;j.expr[":"]=j.expr.filters;j.unique=x.uniqueSort;j.text=x.getText;j.isXMLDoc=x.isXML;j.contains=x.contains})();var ca=/Until$/,na=/^(?:parents|prevUntil|prevAll)/,oa=/,/,Qa=/^.[^:#\[\.,]*$/,Xa=Array.prototype.slice,Fa=j.expr.match.POS,Da={children:true,contents:true,next:true,prev:true};j.fn.extend({find:function(c){for(var e=this.pushStack("","find",c),k=0,m=0,o=this.length;m<o;m++){k=e.length;j.find(c,this[m],e);if(m>0)for(var q=k;q<e.length;q++)for(var u=
0;u<k;u++)if(e[u]===e[q]){e.splice(q--,1);break}}return e},has:function(c){var e=j(c);return this.filter(function(){for(var k=0,m=e.length;k<m;k++)if(j.contains(this,e[k]))return true})},not:function(c){return this.pushStack(ra(this,c,false),"not",c)},filter:function(c){return this.pushStack(ra(this,c,true),"filter",c)},is:function(c){return!!c&&j.filter(c,this).length>0},closest:function(c,e){var k=[],m,o,q=this[0];if(j.isArray(c)){var u,C={},A=1;if(q&&c.length){m=0;for(o=c.length;m<o;m++){u=c[m];
C[u]||(C[u]=j.expr.match.POS.test(u)?j(u,e||this.context):u)}for(;q&&q.ownerDocument&&q!==e;){for(u in C){m=C[u];(m.jquery?m.index(q)>-1:j(q).is(m))&&k.push({selector:u,elem:q,level:A})}q=q.parentNode;A++}}return k}u=Fa.test(c)?j(c,e||this.context):null;m=0;for(o=this.length;m<o;m++)for(q=this[m];q;){if(u?u.index(q)>-1:j.find.matchesSelector(q,c)){k.push(q);break}q=q.parentNode;if(!q||!q.ownerDocument||q===e)break}k=k.length>1?j.unique(k):k;return this.pushStack(k,"closest",c)},index:function(c){if(!c||
typeof c==="string")return j.inArray(this[0],c?j(c):this.parent().children());return j.inArray(c.jquery?c[0]:c,this)},add:function(c,e){var k=typeof c==="string"?j(c,e):j.makeArray(c),m=j.merge(this.get(),k);return this.pushStack(!k[0]||!k[0].parentNode||k[0].parentNode.nodeType===11||!m[0]||!m[0].parentNode||m[0].parentNode.nodeType===11?m:j.unique(m))},andSelf:function(){return this.add(this.prevObject)}});j.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return j.dir(c,
"parentNode")},parentsUntil:function(c,e,k){return j.dir(c,"parentNode",k)},next:function(c){return j.nth(c,2,"nextSibling")},prev:function(c){return j.nth(c,2,"previousSibling")},nextAll:function(c){return j.dir(c,"nextSibling")},prevAll:function(c){return j.dir(c,"previousSibling")},nextUntil:function(c,e,k){return j.dir(c,"nextSibling",k)},prevUntil:function(c,e,k){return j.dir(c,"previousSibling",k)},siblings:function(c){return j.sibling(c.parentNode.firstChild,c)},children:function(c){return j.sibling(c.firstChild)},
contents:function(c){return j.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:j.makeArray(c.childNodes)}},function(c,e){j.fn[c]=function(k,m){var o=j.map(this,e,k),q=Xa.call(arguments);ca.test(c)||(m=k);m&&typeof m==="string"&&(o=j.filter(m,o));o=this.length>1&&!Da[c]?j.unique(o):o;(this.length>1||oa.test(m))&&na.test(c)&&(o=o.reverse());return this.pushStack(o,c,q.join(","))}});j.extend({filter:function(c,e,k){k&&(c=":not("+c+")");return e.length===1?j.find.matchesSelector(e[0],
c)?[e[0]]:[]:j.find.matches(c,e)},dir:function(c,e,k){var m=[];for(c=c[e];c&&c.nodeType!==9&&(k===d||c.nodeType!==1||!j(c).is(k));){c.nodeType===1&&m.push(c);c=c[e]}return m},nth:function(c,e,k){e=e||1;for(var m=0;c;c=c[k])if(c.nodeType===1&&++m===e)break;return c},sibling:function(c,e){for(var k=[];c;c=c.nextSibling)c.nodeType===1&&c!==e&&k.push(c);return k}});var Ya=/ jQuery\d+="(?:\d+|null)"/g,La=/^\s+/,pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,qb=/<([\w:]+)/,
Eb=/<tbody/i,Fb=/<|&#?\w+;/,rb=/<(?:script|object|embed|option|style)/i,sb=/checked\s*(?:[^=]|=\s*.checked.)/i,za={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};za.optgroup=za.option;za.tbody=za.tfoot=za.colgroup=za.caption=
za.thead;za.th=za.td;j.support.htmlSerialize||(za._default=[1,"div<div>","</div>"]);j.fn.extend({text:function(c){if(j.isFunction(c))return this.each(function(e){var k=j(this);k.text(c.call(this,e,k.text()))});if(typeof c!=="object"&&c!==d)return this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(c));return j.text(this)},wrapAll:function(c){if(j.isFunction(c))return this.each(function(k){j(this).wrapAll(c.call(this,k))});if(this[0]){var e=j(c,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&e.insertBefore(this[0]);e.map(function(){for(var k=this;k.firstChild&&k.firstChild.nodeType===1;)k=k.firstChild;return k}).append(this)}return this},wrapInner:function(c){if(j.isFunction(c))return this.each(function(e){j(this).wrapInner(c.call(this,e))});return this.each(function(){var e=j(this),k=e.contents();k.length?k.wrapAll(c):e.append(c)})},wrap:function(c){return this.each(function(){j(this).wrapAll(c)})},unwrap:function(){return this.parent().each(function(){j.nodeName(this,
"body")||j(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var c=j(arguments[0]);c.push.apply(c,this.toArray());return this.pushStack(c,
"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,j(arguments[0]).toArray());return c}},remove:function(c,e){for(var k=0,m;(m=this[k])!=null;k++)if(!c||j.filter(c,[m]).length){!e&&m.nodeType===1&&(j.cleanData(m.getElementsByTagName("*")),j.cleanData([m]));m.parentNode&&m.parentNode.removeChild(m)}return this},
empty:function(){for(var c=0,e;(e=this[c])!=null;c++)for(e.nodeType===1&&j.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(c,e){c=c==null?false:c;e=e==null?c:e;return this.map(function(){return j.clone(this,c,e)})},html:function(c){if(c===d)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ya,""):null;if(typeof c!=="string"||rb.test(c)||!j.support.leadingWhitespace&&La.test(c)||za[(qb.exec(c)||["",""])[1].toLowerCase()])j.isFunction(c)?
this.each(function(o){var q=j(this);q.html(c.call(this,o,q.html()))}):this.empty().append(c);else{c=c.replace(pb,"<$1></$2>");try{for(var e=0,k=this.length;e<k;e++)this[e].nodeType===1&&(j.cleanData(this[e].getElementsByTagName("*")),this[e].innerHTML=c)}catch(m){this.empty().append(c)}}return this},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(j.isFunction(c))return this.each(function(e){var k=j(this),m=k.html();k.replaceWith(c.call(this,e,m))});typeof c!=="string"&&(c=j(c).detach());
return this.each(function(){var e=this.nextSibling,k=this.parentNode;j(this).remove();e?j(e).before(c):j(k).append(c)})}return this.pushStack(j(j.isFunction(c)?c():c),"replaceWith",c)},detach:function(c){return this.remove(c,true)},domManip:function(c,e,k){var m,o,q,u=c[0],C=[];if(!j.support.checkClone&&arguments.length===3&&typeof u==="string"&&sb.test(u))return this.each(function(){j(this).domManip(c,e,k,true)});if(j.isFunction(u))return this.each(function(J){var S=j(this);c[0]=u.call(this,J,e?
S.html():d);S.domManip(c,e,k)});if(this[0]){q=u&&u.parentNode;j.support.parentNode&&q&&q.nodeType===11&&q.childNodes.length===this.length?m={fragment:q}:m=j.buildFragment(c,this,C);q=m.fragment;q.childNodes.length===1?o=q=q.firstChild:o=q.firstChild;if(o){e=e&&j.nodeName(o,"tr");o=0;for(var A=this.length,x=A-1;o<A;o++)k.call(e?j.nodeName(this[o],"table")?this[o].getElementsByTagName("tbody")[0]||this[o].appendChild(this[o].ownerDocument.createElement("tbody")):this[o]:this[o],m.cacheable||A>1&&o<
x?j.clone(q,true,true):q)}C.length&&j.each(C,X)}return this}});j.buildFragment=function(c,e,k){var m,o,q;e=e&&e[0]?e[0].ownerDocument||e[0]:H;c.length===1&&typeof c[0]==="string"&&c[0].length<512&&e===H&&c[0].charAt(0)==="<"&&!rb.test(c[0])&&(j.support.checkClone||!sb.test(c[0]))&&(o=true,q=j.fragments[c[0]],q&&q!==1&&(m=q));m||(m=e.createDocumentFragment(),j.clean(c,e,m,k));o&&(j.fragments[c[0]]=q?m:1);return{fragment:m,cacheable:o}};j.fragments={};j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(c,e){j.fn[c]=function(k){var m=[];k=j(k);var o=this.length===1&&this[0].parentNode;if(o&&o.nodeType===11&&o.childNodes.length===1&&k.length===1){k[e](this[0]);return this}o=0;for(var q=k.length;o<q;o++){var u=(o>0?this.clone(true):this).get();j(k[o])[e](u);m=m.concat(u)}return this.pushStack(m,c,k.selector)}});j.extend({clone:function(c,e,k){var m=c.cloneNode(true),o,q,u;if((!j.support.noCloneEvent||!j.support.noCloneChecked)&&(c.nodeType===1||
c.nodeType===11)&&!j.isXMLDoc(c)){da(c,m);o=Z(c);q=Z(m);for(u=0;o[u];++u)da(o[u],q[u])}if(e){ka(c,m);if(k){o=Z(c);q=Z(m);for(u=0;o[u];++u)ka(o[u],q[u])}}return m},clean:function(c,e,k,m){e=e||H;typeof e.createElement==="undefined"&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||H);for(var o=[],q=0,u;(u=c[q])!=null;q++){typeof u==="number"&&(u+="");if(u){if(typeof u!=="string"||Fb.test(u)){if(typeof u==="string"){u=u.replace(pb,"<$1></$2>");var C=(qb.exec(u)||["",""])[1].toLowerCase(),A=za[C]||za._default,
x=A[0],J=e.createElement("div");for(J.innerHTML=A[1]+u+A[2];x--;)J=J.lastChild;if(!j.support.tbody){x=Eb.test(u);C=C==="table"&&!x?J.firstChild&&J.firstChild.childNodes:A[1]==="<table>"&&!x?J.childNodes:[];for(A=C.length-1;A>=0;--A)j.nodeName(C[A],"tbody")&&!C[A].childNodes.length&&C[A].parentNode.removeChild(C[A])}!j.support.leadingWhitespace&&La.test(u)&&J.insertBefore(e.createTextNode(La.exec(u)[0]),J.firstChild);u=J.childNodes}}else u=e.createTextNode(u);u.nodeType?o.push(u):o=j.merge(o,u)}}if(k)for(q=
0;o[q];q++)!m||!j.nodeName(o[q],"script")||o[q].type&&o[q].type.toLowerCase()!=="text/javascript"?(o[q].nodeType===1&&o.splice.apply(o,[q+1,0].concat(j.makeArray(o[q].getElementsByTagName("script")))),k.appendChild(o[q])):m.push(o[q].parentNode?o[q].parentNode.removeChild(o[q]):o[q]);return o},cleanData:function(c){for(var e,k,m=j.cache,o=j.expando,q=j.event.special,u=j.support.deleteExpando,C=0,A;(A=c[C])!=null;C++)if(!(A.nodeName&&j.noData[A.nodeName.toLowerCase()]))if(k=A[j.expando]){if((e=m[k]&&
m[k][o])&&e.events){for(var x in e.events)q[x]?j.event.remove(A,x):j.removeEvent(A,x,e.handle);e.handle&&(e.handle.elem=null)}u?delete A[j.expando]:A.removeAttribute&&A.removeAttribute(j.expando);delete m[k]}}});var tb=/alpha\([^)]*\)/i,Gb=/opacity=([^)]*)/,Hb=/-([a-z])/ig,Ib=/([A-Z])/g,ub=/^-?\d+(?:px)?$/i,Jb=/^-?\d/,Kb={position:"absolute",visibility:"hidden",display:"block"},Cb=["Left","Right"],Db=["Top","Bottom"],eb,Ra,hb,Lb=function(c,e){return e.toUpperCase()};j.fn.css=function(c,e){if(arguments.length===
2&&e===d)return this;return j.access(this,c,e,true,function(k,m,o){return o!==d?j.style(k,m,o):j.css(k,m)})};j.extend({cssHooks:{opacity:{get:function(c,e){if(e){var k=eb(c,"opacity","opacity");return k===""?"1":k}return c.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":j.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,e,k,m){if(c&&c.nodeType!==3&&c.nodeType!==8&&c.style){var o,q=j.camelCase(e),u=c.style,C=j.cssHooks[q];
e=j.cssProps[q]||q;if(k===d){if(C&&"get"in C&&(o=C.get(c,false,m))!==d)return o;return u[e]}if(!(typeof k==="number"&&isNaN(k)||k==null)){typeof k==="number"&&!j.cssNumber[q]&&(k+="px");if(!C||!("set"in C)||(k=C.set(c,k))!==d)try{u[e]=k}catch(A){}}}},css:function(c,e,k){var m,o=j.camelCase(e),q=j.cssHooks[o];e=j.cssProps[o]||o;if(q&&"get"in q&&(m=q.get(c,true,k))!==d)return m;if(eb)return eb(c,e,o)},swap:function(c,e,k){var m={},o;for(o in e){m[o]=c.style[o];c.style[o]=e[o]}k.call(c);for(o in e)c.style[o]=
m[o]},camelCase:function(c){return c.replace(Hb,Lb)}});j.curCSS=j.css;j.each(["height","width"],function(c,e){j.cssHooks[e]={get:function(k,m,o){var q;if(m){k.offsetWidth!==0?q=O(k,e,o):j.swap(k,Kb,function(){q=O(k,e,o)});if(q<=0){q=eb(k,e,e);q==="0px"&&hb&&(q=hb(k,e,e));if(q!=null)return q===""||q==="auto"?"0px":q}if(q<0||q==null){q=k.style[e];return q===""||q==="auto"?"0px":q}return typeof q==="string"?q:q+"px"}},set:function(k,m){if(!ub.test(m))return m;m=parseFloat(m);if(m>=0)return m+"px"}}});
j.support.opacity||(j.cssHooks.opacity={get:function(c,e){return Gb.test((e&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(c,e){var k=c.style;k.zoom=1;var m=j.isNaN(e)?"":"alpha(opacity="+e*100+")",o=k.filter||"";k.filter=tb.test(o)?o.replace(tb,m):k.filter+" "+m}});H.defaultView&&H.defaultView.getComputedStyle&&(Ra=function(c,e,k){var m;k=k.replace(Ib,"-$1").toLowerCase();if(!(e=c.ownerDocument.defaultView))return d;if(e=e.getComputedStyle(c,
null)){m=e.getPropertyValue(k);m===""&&!j.contains(c.ownerDocument.documentElement,c)&&(m=j.style(c,k))}return m});H.documentElement.currentStyle&&(hb=function(c,e){var k,m=c.currentStyle&&c.currentStyle[e],o=c.runtimeStyle&&c.runtimeStyle[e],q=c.style;!ub.test(m)&&Jb.test(m)&&(k=q.left,o&&(c.runtimeStyle.left=c.currentStyle.left),q.left=e==="fontSize"?"1em":m||0,m=q.pixelLeft+"px",q.left=k,o&&(c.runtimeStyle.left=o));return m===""?"auto":m});eb=Ra||hb;j.expr&&j.expr.filters&&(j.expr.filters.hidden=
function(c){var e=c.offsetHeight;return c.offsetWidth===0&&e===0||!j.support.reliableHiddenOffsets&&(c.style.display||j.css(c,"display"))==="none"},j.expr.filters.visible=function(c){return!j.expr.filters.hidden(c)});var Mb=/%20/g,Bb=/\[\]$/,vb=/\r?\n/g,Nb=/#.*$/,Ob=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Pb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Qb=/^(?:GET|HEAD)$/,Rb=/^\/\//,wb=/\?/,Sb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Tb=
/^(?:select|textarea)/i,ob=/\s+/,Ub=/([?&])_=[^&]*/,Vb=/(^|\-)([a-z])/g,Wb=function(c,e,k){return e+k.toUpperCase()},xb=/^([\w\+\.\-]+:)\/\/([^\/?#:]*)(?::(\d+))?/,yb=j.fn.load,lb={},zb={},Sa,Ta;try{Sa=H.location.href}catch(cc){Sa=H.createElement("a");Sa.href="";Sa=Sa.href}Ta=xb.exec(Sa.toLowerCase());j.fn.extend({load:function(c,e,k){if(typeof c!=="string"&&yb)return yb.apply(this,arguments);if(!this.length)return this;var m=c.indexOf(" ");if(m>=0){var o=c.slice(m,c.length);c=c.slice(0,m)}m="GET";
e&&(j.isFunction(e)?(k=e,e=d):typeof e==="object"&&(e=j.param(e,j.ajaxSettings.traditional),m="POST"));var q=this;j.ajax({url:c,type:m,dataType:"html",data:e,complete:function(u,C,A){A=u.responseText;u.isResolved()&&(u.done(function(x){A=x}),q.html(o?j("<div>").append(A.replace(Sb,"")).find(o):A));k&&q.each(k,[A,C,u])}});return this},serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?j.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||Tb.test(this.nodeName)||Pb.test(this.type))}).map(function(c,e){var k=j(this).val();return k==null?null:j.isArray(k)?j.map(k,function(m){return{name:e.name,value:m.replace(vb,"\r\n")}}):{name:e.name,value:k.replace(vb,"\r\n")}}).get()}});j.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,e){j.fn[e]=function(k){return this.bind(e,k)}});j.each(["get","post"],function(c,e){j[e]=function(k,m,o,q){j.isFunction(m)&&(q=q||o,o=m,m=
d);return j.ajax({type:e,url:k,data:m,success:o,dataType:q})}});j.extend({getScript:function(c,e){return j.get(c,d,e,"script")},getJSON:function(c,e,k){return j.get(c,e,k,"json")},ajaxSetup:function(c,e){e?j.extend(true,c,j.ajaxSettings,e):(e=c,c=j.extend(true,j.ajaxSettings,e));for(var k in{context:1,url:1})k in e?c[k]=e[k]:k in j.ajaxSettings&&(c[k]=j.ajaxSettings[k]);return c},ajaxSettings:{url:Sa,isLocal:/(?:^file|^widget|\-extension):$/.test(Ta[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":true,"text json":j.parseJSON,"text xml":j.parseXML}},ajaxPrefilter:P(lb),ajaxTransport:P(zb),ajax:function(c,e){function k(y,B,G,R){if(la!==2){la=2;ha&&clearTimeout(ha);Y=d;S=R||"";p.readyState=y?4:0;var Q,
aa,qa;if(G){R=m;var pa=p,va=R.contents,v=R.dataTypes,D=R.responseFields,I,L,W,ba;for(L in D)L in G&&(pa[D[L]]=G[L]);for(;v[0]==="*";){v.shift();I===d&&(I=R.mimeType||pa.getResponseHeader("content-type"))}if(I)for(L in va)if(va[L]&&va[L].test(I)){v.unshift(L);break}if(v[0]in G)W=v[0];else{for(L in G){if(!v[0]||R.converters[L+" "+v[0]]){W=L;break}ba||(ba=L)}W=W||ba}if(W){W!==v[0]&&v.unshift(W);G=G[W]}else G=void 0}else G=d;G=G;if(y>=200&&y<300||y===304){if(m.ifModified){if(I=p.getResponseHeader("Last-Modified"))j.lastModified[x]=
I;if(I=p.getResponseHeader("Etag"))j.etag[x]=I}if(y===304){B="notmodified";Q=true}else try{I=m;G=G;I.dataFilter&&(G=I.dataFilter(G,I.dataType));var ga=I.dataTypes;L={};var ia,ya,Ha=ga.length,Ia,Ma=ga[0],$a,mb,Na,Ua,ab;for(ia=1;ia<Ha;ia++){if(ia===1)for(ya in I.converters)typeof ya==="string"&&(L[ya.toLowerCase()]=I.converters[ya]);$a=Ma;Ma=ga[ia];if(Ma==="*")Ma=$a;else if($a!=="*"&&$a!==Ma){mb=$a+" "+Ma;Na=L[mb]||L["* "+Ma];if(!Na){ab=d;for(Ua in L){Ia=Ua.split(" ");if(Ia[0]===$a||Ia[0]==="*")if(ab=
L[Ia[1]+" "+Ma]){Ua=L[Ua];Ua===true?Na=ab:ab===true&&(Na=Ua);break}}}!Na&&!ab&&j.error("No conversion from "+mb.replace(" "," to "));Na!==true&&(G=Na?Na(G):ab(Ua(G)))}}aa=G;B="success";Q=true}catch(Xb){B="parsererror";qa=Xb}}else{qa=B;if(!B||y){B="error";y<0&&(y=0)}}p.status=y;p.statusText=B;Q?u.resolveWith(o,[aa,B,p]):u.rejectWith(o,[p,B,qa]);p.statusCode(A);A=d;ua&&q.trigger("ajax"+(Q?"Success":"Error"),[p,m,Q?aa:qa]);C.resolveWith(o,[p,B]);ua&&(q.trigger("ajaxComplete",[p,m]),--j.active||j.event.trigger("ajaxStop"))}}
typeof c==="object"&&(e=c,c=d);e=e||{};var m=j.ajaxSetup({},e),o=m.context||m,q=o!==m&&(o.nodeType||o instanceof j)?j(o):j.event,u=j.Deferred(),C=j._Deferred(),A=m.statusCode||{},x,J={},S,fa,Y,ha,sa,la=0,ua,Ea,p={readyState:0,setRequestHeader:function(y,B){la||(J[y.toLowerCase().replace(Vb,Wb)]=B);return this},getAllResponseHeaders:function(){return la===2?S:null},getResponseHeader:function(y){var B;if(la===2){if(!fa)for(fa={};B=Ob.exec(S);)fa[B[1].toLowerCase()]=B[2];B=fa[y.toLowerCase()]}return B===
d?null:B},overrideMimeType:function(y){la||(m.mimeType=y);return this},abort:function(y){y=y||"abort";Y&&Y.abort(y);k(0,y);return this}};u.promise(p);p.success=p.done;p.error=p.fail;p.complete=C.done;p.statusCode=function(y){if(y){var B;if(la<2)for(B in y)A[B]=[A[B],y[B]];else{B=y[p.status];p.then(B,B)}}return this};m.url=((c||m.url)+"").replace(Nb,"").replace(Rb,Ta[1]+"//");m.dataTypes=j.trim(m.dataType||"*").toLowerCase().split(ob);m.crossDomain||(sa=xb.exec(m.url.toLowerCase()),m.crossDomain=sa&&
(sa[1]!=Ta[1]||sa[2]!=Ta[2]||(sa[3]||(sa[1]==="http:"?80:443))!=(Ta[3]||(Ta[1]==="http:"?80:443))));m.data&&m.processData&&typeof m.data!=="string"&&(m.data=j.param(m.data,m.traditional));M(lb,m,e,p);if(la===2)return false;ua=m.global;m.type=m.type.toUpperCase();m.hasContent=!Qb.test(m.type);ua&&j.active++===0&&j.event.trigger("ajaxStart");if(!m.hasContent){m.data&&(m.url+=(wb.test(m.url)?"&":"?")+m.data);x=m.url;if(m.cache===false){sa=j.now();var w=m.url.replace(Ub,"$1_="+sa);m.url=w+(w===m.url?
(wb.test(m.url)?"&":"?")+"_="+sa:"")}}if(m.data&&m.hasContent&&m.contentType!==false||e.contentType)J["Content-Type"]=m.contentType;m.ifModified&&(x=x||m.url,j.lastModified[x]&&(J["If-Modified-Since"]=j.lastModified[x]),j.etag[x]&&(J["If-None-Match"]=j.etag[x]));J.Accept=m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(m.dataTypes[0]!=="*"?", */*; q=0.01":""):m.accepts["*"];for(Ea in m.headers)p.setRequestHeader(Ea,m.headers[Ea]);if(m.beforeSend&&(m.beforeSend.call(o,p,m)===false||
la===2)){p.abort();return false}for(Ea in{success:1,error:1,complete:1})p[Ea](m[Ea]);if(Y=M(zb,m,e,p)){p.readyState=1;ua&&q.trigger("ajaxSend",[p,m]);m.async&&m.timeout>0&&(ha=setTimeout(function(){p.abort("timeout")},m.timeout));try{la=1;Y.send(J,k)}catch(F){status<2?k(-1,F):j.error(F)}}else k(-1,"No Transport");return p},param:function(c,e){var k=[],m=function(q,u){u=j.isFunction(u)?u():u;k[k.length]=encodeURIComponent(q)+"="+encodeURIComponent(u)};e===d&&(e=j.ajaxSettings.traditional);if(j.isArray(c)||
c.jquery&&!j.isPlainObject(c))j.each(c,function(){m(this.name,this.value)});else for(var o in c)z(o,c[o],e,m);return k.join("&").replace(Mb,"+")}});j.extend({active:0,lastModified:{},etag:{}});var Yb=j.now(),ib=/(\=)\?(&|$)|()\?\?()/i;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return j.expando+"_"+Yb++}});j.ajaxPrefilter("json jsonp",function(c,e,k){var m=typeof c.data==="string";if(c.dataTypes[0]==="jsonp"||e.jsonpCallback||e.jsonp!=null||c.jsonp!==false&&(ib.test(c.url)||m&&ib.test(c.data))){var o,
q=c.jsonpCallback=j.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,u=a[q];e=c.url;var C=c.data,A="$1"+q+"$2",x=function(){a[q]=u;o&&j.isFunction(u)&&a[q](o[0])};c.jsonp!==false&&(e=e.replace(ib,A),c.url===e&&(m&&(C=C.replace(ib,A)),c.data===C&&(e+=(/\?/.test(e)?"&":"?")+c.jsonp+"="+q)));c.url=e;c.data=C;a[q]=function(J){o=[J]};k.then(x,x);c.converters["script json"]=function(){o||j.error(q+" was not called");return o[0]};c.dataTypes[0]="json";return"script"}});j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(c){j.globalEval(c);return c}}});j.ajaxPrefilter("script",function(c){c.cache===d&&(c.cache=false);c.crossDomain&&(c.type="GET",c.global=false)});j.ajaxTransport("script",function(c){if(c.crossDomain){var e,k=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(m,o){e=H.createElement("script");e.async="async";c.scriptCharset&&(e.charset=c.scriptCharset);e.src=c.url;e.onload=e.onreadystatechange=
function(q,u){if(!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;k&&e.parentNode&&k.removeChild(e);e=d;u||o(200,"success")}};k.insertBefore(e,k.firstChild)},abort:function(){e&&e.onload(0,1)}}}});var Zb=j.now(),Za;j.ajaxSettings.xhr=a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&n()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(e){}c=void 0}return c}:n;Ra=j.ajaxSettings.xhr();j.support.ajax=!!Ra;j.support.cors=Ra&&"withCredentials"in
Ra;Ra=d;j.support.ajax&&j.ajaxTransport(function(c){if(!c.crossDomain||j.support.cors){var e;return{send:function(k,m){var o=c.xhr(),q,u;c.username?o.open(c.type,c.url,c.async,c.username,c.password):o.open(c.type,c.url,c.async);if(c.xhrFields)for(u in c.xhrFields)o[u]=c.xhrFields[u];c.mimeType&&o.overrideMimeType&&o.overrideMimeType(c.mimeType);(!c.crossDomain||c.hasContent)&&!k["X-Requested-With"]&&(k["X-Requested-With"]="XMLHttpRequest");try{for(u in k)o.setRequestHeader(u,k[u])}catch(C){}o.send(c.hasContent&&
c.data||null);e=function(A,x){var J,S,fa,Y,ha;try{if(e&&(x||o.readyState===4)){e=d;q&&(o.onreadystatechange=j.noop,delete Za[q]);if(x)o.readyState!==4&&o.abort();else{J=o.status;fa=o.getAllResponseHeaders();Y={};(ha=o.responseXML)&&ha.documentElement&&(Y.xml=ha);Y.text=o.responseText;try{S=o.statusText}catch(sa){S=""}J||!c.isLocal||c.crossDomain?J===1223&&(J=204):J=Y.text?200:404}}}catch(la){x||m(-1,la)}Y&&m(J,S,Y,fa)};c.async&&o.readyState!==4?(Za||(Za={},s()),q=Zb++,o.onreadystatechange=Za[q]=e):
e()},abort:function(){e&&e(0,1)}}}});var kb={},$b=/^(?:toggle|show|hide)$/,ac=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,jb,nb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];j.fn.extend({show:function(c,e,k){if(c||c===0)return this.animate(l("show",3),c,e,k);k=0;for(var m=this.length;k<m;k++){c=this[k];e=c.style.display;!j._data(c,"olddisplay")&&e==="none"&&(e=c.style.display="");e===""&&j.css(c,"display")===
"none"&&j._data(c,"olddisplay",f(c.nodeName))}for(k=0;k<m;k++){c=this[k];e=c.style.display;if(e===""||e==="none")c.style.display=j._data(c,"olddisplay")||""}return this},hide:function(c,e,k){if(c||c===0)return this.animate(l("hide",3),c,e,k);c=0;for(e=this.length;c<e;c++){k=j.css(this[c],"display");k!=="none"&&!j._data(this[c],"olddisplay")&&j._data(this[c],"olddisplay",k)}for(c=0;c<e;c++)this[c].style.display="none";return this},_toggle:j.fn.toggle,toggle:function(c,e,k){var m=typeof c==="boolean";
j.isFunction(c)&&j.isFunction(e)?this._toggle.apply(this,arguments):c==null||m?this.each(function(){var o=m?c:j(this).is(":hidden");j(this)[o?"show":"hide"]()}):this.animate(l("toggle",3),c,e,k);return this},fadeTo:function(c,e,k,m){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},c,k,m)},animate:function(c,e,k,m){var o=j.speed(e,k,m);if(j.isEmptyObject(c))return this.each(o.complete);return this[o.queue===false?"each":"queue"](function(){var q=j.extend({},o),u,C=this.nodeType===
1,A=C&&j(this).is(":hidden"),x=this;for(u in c){var J=j.camelCase(u);u!==J&&(c[J]=c[u],delete c[u],u=J);if(c[u]==="hide"&&A||c[u]==="show"&&!A)return q.complete.call(this);if(C&&(u==="height"||u==="width")){q.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(j.css(this,"display")==="inline"&&j.css(this,"float")==="none")if(j.support.inlineBlockNeedsLayout)f(this.nodeName)==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1);else this.style.display=
"inline-block"}j.isArray(c[u])&&((q.specialEasing=q.specialEasing||{})[u]=c[u][1],c[u]=c[u][0])}q.overflow!=null&&(this.style.overflow="hidden");q.curAnim=j.extend({},c);j.each(c,function(S,fa){var Y=new j.fx(x,q,S);if($b.test(fa))Y[fa==="toggle"?A?"show":"hide":fa](c);else{var ha=ac.exec(fa),sa=Y.cur();if(ha){var la=parseFloat(ha[2]),ua=ha[3]||(j.cssNumber[S]?"":"px");ua!=="px"&&(j.style(x,S,(la||1)+ua),sa=(la||1)/Y.cur()*sa,j.style(x,S,sa+ua));ha[1]&&(la=(ha[1]==="-="?-1:1)*la+sa);Y.custom(sa,la,
ua)}else Y.custom(sa,fa,"")}});return true})},stop:function(c,e){var k=j.timers;c&&this.queue([]);this.each(function(){for(var m=k.length-1;m>=0;m--)k[m].elem===this&&(e&&k[m](true),k.splice(m,1))});e||this.dequeue();return this}});j.each({slideDown:l("show",1),slideUp:l("hide",1),slideToggle:l("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,e){j.fn[c]=function(k,m,o){return this.animate(e,k,m,o)}});j.extend({speed:function(c,e,k){var m=c&&typeof c===
"object"?j.extend({},c):{complete:k||!k&&e||j.isFunction(c)&&c,duration:c,easing:k&&e||e&&!j.isFunction(e)&&e};m.duration=j.fx.off?0:typeof m.duration==="number"?m.duration:m.duration in j.fx.speeds?j.fx.speeds[m.duration]:j.fx.speeds._default;m.old=m.complete;m.complete=function(){m.queue!==false&&j(this).dequeue();j.isFunction(m.old)&&m.old.call(this)};return m},easing:{linear:function(c,e,k,m){return k+m*c},swing:function(c,e,k,m){return(-Math.cos(c*Math.PI)/2+0.5)*m+k}},timers:[],fx:function(c,
e,k){this.options=e;this.elem=c;this.prop=k;e.orig||(e.orig={})}});j.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(j.fx.step[this.prop]||j.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var c,e=j.css(this.elem,this.prop);return isNaN(c=parseFloat(e))?!e||e==="auto"?0:e:c},custom:function(c,e,k){function m(u){return o.step(u)}var o=this,q=j.fx;
this.startTime=j.now();this.start=c;this.end=e;this.unit=k||this.unit||(j.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;m.elem=this.elem;m()&&j.timers.push(m)&&!jb&&(jb=setInterval(q.tick,q.interval))},show:function(){this.options.orig[this.prop]=j.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());j(this.elem).show()},hide:function(){this.options.orig[this.prop]=j.style(this.elem,this.prop);this.options.hide=
true;this.custom(this.cur(),0)},step:function(c){var e=j.now(),k=true;if(c||e>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var m in this.options.curAnim)this.options.curAnim[m]!==true&&(k=false);if(k){if(this.options.overflow!=null&&!j.support.shrinkWrapBlocks){var o=this.elem,q=this.options;j.each(["","X","Y"],function(C,A){o.style["overflow"+A]=q.overflow[C]})}this.options.hide&&j(this.elem).hide();if(this.options.hide||
this.options.show)for(var u in this.options.curAnim)j.style(this.elem,u,this.options.orig[u]);this.options.complete.call(this.elem)}return false}c=e-this.startTime;this.state=c/this.options.duration;e=this.options.easing||(j.easing.swing?"swing":"linear");this.pos=j.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||e](this.state,c,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();return true}};j.extend(j.fx,{tick:function(){for(var c=
j.timers,e=0;e<c.length;e++)c[e]()||c.splice(e--,1);c.length||j.fx.stop()},interval:13,stop:function(){clearInterval(jb);jb=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(c){j.style(c.elem,"opacity",c.now)},_default:function(c){c.elem.style&&c.elem.style[c.prop]!=null?c.elem.style[c.prop]=(c.prop==="width"||c.prop==="height"?Math.max(0,c.now):c.now)+c.unit:c.elem[c.prop]=c.now}}});j.expr&&j.expr.filters&&(j.expr.filters.animated=function(c){return j.grep(j.timers,function(e){return c===
e.elem}).length});var bc=/^t(?:able|d|h)$/i,Ab=/^(?:body|html)$/i;"getBoundingClientRect"in H.documentElement?j.fn.offset=function(c){var e=this[0],k;if(c)return this.each(function(u){j.offset.setOffset(this,c,u)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return j.offset.bodyOffset(e);try{k=e.getBoundingClientRect()}catch(m){}var o=e.ownerDocument,q=o.documentElement;if(!k||!j.contains(q,e))return k?{top:k.top,left:k.left}:{top:0,left:0};e=o.body;o=h(o);return{top:k.top+(o.pageYOffset||
j.support.boxModel&&q.scrollTop||e.scrollTop)-(q.clientTop||e.clientTop||0),left:k.left+(o.pageXOffset||j.support.boxModel&&q.scrollLeft||e.scrollLeft)-(q.clientLeft||e.clientLeft||0)}}:j.fn.offset=function(c){var e=this[0];if(c)return this.each(function(x){j.offset.setOffset(this,c,x)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return j.offset.bodyOffset(e);j.offset.initialize();var k,m=e.offsetParent,o=e.ownerDocument,q=o.documentElement,u=o.body;k=(o=o.defaultView)?o.getComputedStyle(e,
null):e.currentStyle;for(var C=e.offsetTop,A=e.offsetLeft;(e=e.parentNode)&&e!==u&&e!==q;){if(j.offset.supportsFixedPosition&&k.position==="fixed")break;k=o?o.getComputedStyle(e,null):e.currentStyle;C-=e.scrollTop;A-=e.scrollLeft;e===m&&(C+=e.offsetTop,A+=e.offsetLeft,j.offset.doesNotAddBorder&&(!j.offset.doesAddBorderForTableAndCells||!bc.test(e.nodeName))&&(C+=parseFloat(k.borderTopWidth)||0,A+=parseFloat(k.borderLeftWidth)||0),m=e.offsetParent);j.offset.subtractsBorderForOverflowNotVisible&&k.overflow!==
"visible"&&(C+=parseFloat(k.borderTopWidth)||0,A+=parseFloat(k.borderLeftWidth)||0);k=k}if(k.position==="relative"||k.position==="static"){C+=u.offsetTop;A+=u.offsetLeft}j.offset.supportsFixedPosition&&k.position==="fixed"&&(C+=Math.max(q.scrollTop,u.scrollTop),A+=Math.max(q.scrollLeft,u.scrollLeft));return{top:C,left:A}};j.offset={initialize:function(){var c=H.body,e=H.createElement("div"),k,m,o,q=parseFloat(j.css(c,"marginTop"))||0;j.extend(e.style,{position:"absolute",top:0,left:0,margin:0,border:0,
width:"1px",height:"1px",visibility:"hidden"});e.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";c.insertBefore(e,c.firstChild);k=e.firstChild;m=k.firstChild;o=k.nextSibling.firstChild.firstChild;this.doesNotAddBorder=m.offsetTop!==5;this.doesAddBorderForTableAndCells=
o.offsetTop===5;m.style.position="fixed";m.style.top="20px";this.supportsFixedPosition=m.offsetTop===20||m.offsetTop===15;m.style.position=m.style.top="";k.style.overflow="hidden";k.style.position="relative";this.subtractsBorderForOverflowNotVisible=m.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=c.offsetTop!==q;c.removeChild(e);j.offset.initialize=j.noop},bodyOffset:function(c){var e=c.offsetTop,k=c.offsetLeft;j.offset.initialize();j.offset.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(j.css(c,
"marginTop"))||0,k+=parseFloat(j.css(c,"marginLeft"))||0);return{top:e,left:k}},setOffset:function(c,e,k){var m=j.css(c,"position");m==="static"&&(c.style.position="relative");var o=j(c),q=o.offset(),u=j.css(c,"top"),C=j.css(c,"left"),A=m==="absolute"&&j.inArray("auto",[u,C])>-1;m={};var x={};A&&(x=o.position());u=A?x.top:parseInt(u,10)||0;C=A?x.left:parseInt(C,10)||0;j.isFunction(e)&&(e=e.call(c,k,q));e.top!=null&&(m.top=e.top-q.top+u);e.left!=null&&(m.left=e.left-q.left+C);"using"in e?e.using.call(c,
m):o.css(m)}};j.fn.extend({position:function(){if(!this[0])return null;var c=this[0],e=this.offsetParent(),k=this.offset(),m=Ab.test(e[0].nodeName)?{top:0,left:0}:e.offset();k.top-=parseFloat(j.css(c,"marginTop"))||0;k.left-=parseFloat(j.css(c,"marginLeft"))||0;m.top+=parseFloat(j.css(e[0],"borderTopWidth"))||0;m.left+=parseFloat(j.css(e[0],"borderLeftWidth"))||0;return{top:k.top-m.top,left:k.left-m.left}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||H.body;c&&!Ab.test(c.nodeName)&&
j.css(c,"position")==="static";)c=c.offsetParent;return c})}});j.each(["Left","Top"],function(c,e){var k="scroll"+e;j.fn[k]=function(m){var o=this[0],q;if(!o)return null;if(m!==d)return this.each(function(){(q=h(this))?q.scrollTo(c?j(q).scrollLeft():m,c?m:j(q).scrollTop()):this[k]=m});return(q=h(o))?"pageXOffset"in q?q[c?"pageYOffset":"pageXOffset"]:j.support.boxModel&&q.document.documentElement[k]||q.document.body[k]:o[k]}});j.each(["Height","Width"],function(c,e){var k=e.toLowerCase();j.fn["inner"+
e]=function(){return this[0]?parseFloat(j.css(this[0],k,"padding")):null};j.fn["outer"+e]=function(m){return this[0]?parseFloat(j.css(this[0],k,m?"margin":"border")):null};j.fn[k]=function(m){var o=this[0];if(!o)return m==null?null:this;if(j.isFunction(m))return this.each(function(u){var C=j(this);C[k](m.call(this,u,C[k]()))});if(j.isWindow(o)){var q=o.document.documentElement["client"+e];return o.document.compatMode==="CSS1Compat"&&q||o.document.body["client"+e]||q}if(o.nodeType===9)return Math.max(o.documentElement["client"+
e],o.body["scroll"+e],o.documentElement["scroll"+e],o.body["offset"+e],o.documentElement["offset"+e]);if(m===d){o=j.css(o,k);q=parseFloat(o);return j.isNaN(q)?o:q}return this.css(k,typeof m==="string"?m:m+"px")}});a.avpw_jQuery=a.avpw$=j})(window);(function(a,d){function h(f){return!a(f).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(f,l){return typeof f==="number"?this.each(function(){var n=this;setTimeout(function(){a(n).focus();l&&l.call(n)},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var f;f=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,
"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!f.length?a(document):f},zIndex:function(f){if(f!==d)return this.css("zIndex",f);if(this.length){f=a(this[0]);for(var l;f.length&&f[0]!==document;){l=f.css("position");
if(l==="absolute"||l==="relative"||l==="fixed"){l=parseInt(f.css("zIndex"),10);if(!isNaN(l)&&l!==0)return l}f=f.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(f){f.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(f,l){function n(P,O,X,Z){a.each(s,function(){O-=parseFloat(a.curCSS(P,"padding"+this,true))||0;if(X)O-=parseFloat(a.curCSS(P,
"border"+this+"Width",true))||0;if(Z)O-=parseFloat(a.curCSS(P,"margin"+this,true))||0});return O}var s=l==="Width"?["Left","Right"]:["Top","Bottom"],z=l.toLowerCase(),M={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+l]=function(P){if(P===d)return M["inner"+l].call(this);return this.each(function(){a(this).css(z,n(this,P)+"px")})};a.fn["outer"+l]=function(P,O){if(typeof P!=="number")return M["outer"+l].call(this,P);return this.each(function(){a(this).css(z,
n(this,P,true,O)+"px")})}});a.extend(a.expr[":"],{data:function(f,l,n){return!!a.data(f,n[3])},focusable:function(f){var l=f.nodeName.toLowerCase(),n=a.attr(f,"tabindex");if("area"===l){l=f.parentNode;n=l.name;if(!f.href||!n||l.nodeName.toLowerCase()!=="map")return false;f=a("img[usemap=#"+n+"]")[0];return!!f&&h(f)}return(/input|select|textarea|button|object/.test(l)?!f.disabled:"a"==l?f.href||!isNaN(n):!isNaN(n))&&h(f)},tabbable:function(f){var l=a.attr(f,"tabindex");return(isNaN(l)||l>=0)&&a(f).is(":focusable")}});
a(function(){var f=document.body,l=f.appendChild(l=document.createElement("div"));a.extend(l.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=l.offsetHeight===100;a.support.selectstart="onselectstart"in l;f.removeChild(l).style.display="none"});a.extend(a.ui,{plugin:{add:function(f,l,n){f=a.ui[f].prototype;for(var s in n){f.plugins[s]=f.plugins[s]||[];f.plugins[s].push([l,n[s]])}},call:function(f,l,n){if((l=f.plugins[l])&&f.element[0].parentNode)for(var s=0;s<l.length;s++)f.options[l[s][0]]&&
l[s][1].apply(f.element,n)}},contains:function(f,l){return document.compareDocumentPosition?f.compareDocumentPosition(l)&16:f!==l&&f.contains(l)},hasScroll:function(f,l){if(a(f).css("overflow")==="hidden")return false;l=l&&l==="left"?"scrollLeft":"scrollTop";var n=false;if(f[l]>0)return true;f[l]=1;n=f[l]>0;f[l]=0;return n},isOverAxis:function(f,l,n){return f>l&&f<l+n},isOver:function(f,l,n,s,z,M){return a.ui.isOverAxis(f,n,z)&&a.ui.isOverAxis(l,s,M)}})}})(avpw_jQuery);
(function(a,d){if(a.cleanData){var h=a.cleanData;a.cleanData=function(l){for(var n=0,s;(s=l[n])!=null;n++)a(s).triggerHandler("remove");h(l)}}else{var f=a.fn.remove;a.fn.remove=function(l,n){return this.each(function(){if(!n)if(!l||a.filter(l,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return f.call(a(this),l,n)})}}a.widget=function(l,n,s){var z=l.split(".")[0],M;l=l.split(".")[1];M=z+"-"+l;if(!s){s=n;n=a.Widget}a.expr[":"][M]=function(P){return!!a.data(P,
l)};a[z]=a[z]||{};a[z][l]=function(P,O){arguments.length&&this._createWidget(P,O)};n=new n;n.options=a.extend(true,{},n.options);a[z][l].prototype=a.extend(true,n,{namespace:z,widgetName:l,widgetEventPrefix:a[z][l].prototype.widgetEventPrefix||l,widgetBaseClass:M},s);a.widget.bridge(l,a[z][l])};a.widget.bridge=function(l,n){a.fn[l]=function(s){var z=typeof s==="string",M=Array.prototype.slice.call(arguments,1),P=this;s=!z&&M.length?a.extend.apply(null,[true,s].concat(M)):s;if(z&&s.charAt(0)==="_")return P;
z?this.each(function(){var O=a.data(this,l),X=O&&a.isFunction(O[s])?O[s].apply(O,M):O;if(X!==O&&X!==d){P=X;return false}}):this.each(function(){var O=a.data(this,l);O?O.option(s||{})._init():a.data(this,l,new n(s,this))});return P}};a.Widget=function(l,n){arguments.length&&this._createWidget(l,n)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(l,n){a.data(n,this.widgetName,this);this.element=a(n);this.options=a.extend(true,{},this.options,
this._getCreateOptions(),l);var s=this;this.element.bind("remove."+this.widgetName,function(){s.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
widget:function(){return this.element},option:function(l,n){var s=l;if(arguments.length===0)return a.extend({},this.options);if(typeof l==="string"){if(n===d)return this.options[l];s={};s[l]=n}this._setOptions(s);return this},_setOptions:function(l){var n=this;a.each(l,function(s,z){n._setOption(s,z)});return this},_setOption:function(l,n){this.options[l]=n;if(l==="disabled")this.widget()[n?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",n);return this},
enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(l,n,s){var z=this.options[l];n=a.Event(n);n.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase();s=s||{};if(n.originalEvent){l=a.event.props.length;for(var M;l;){M=a.event.props[--l];n[M]=n.originalEvent[M]}}this.element.trigger(n,s);return!(a.isFunction(z)&&z.call(this.element[0],n,s)===false||n.isDefaultPrevented())}}})(avpw_jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(h){return d._mouseDown(h)}).bind("click."+this.widgetName,function(h){if(true===a.data(h.target,d.widgetName+".preventClickEvent")){a.removeData(h.target,d.widgetName+".preventClickEvent");h.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(d){d.originalEvent=
d.originalEvent||{};if(!d.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var h=this,f=d.which==1,l=typeof this.options.cancel=="string"?a(d.target).parents().add(d.target).filter(this.options.cancel).length:false;if(!f||l||!this._mouseCapture(d))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=
this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();return true}}true===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(n){return h._mouseMove(n)};this._mouseUpDelegate=function(n){return h._mouseUp(n)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return d.originalEvent.mouseHandled=
true}},_mouseMove:function(d){if(a.browser.msie&&!(document.documentMode>=9)&&!d.button)return this._mouseUp(d);if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,d)!==false)?this._mouseDrag(d):this._mouseUp(d);return!this._mouseStarted},_mouseUp:function(d){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);
if(this._mouseStarted){this._mouseStarted=false;d.target==this._mouseDownEvent.target&&a.data(d.target,this.widgetName+".preventClickEvent",true);this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(avpw_jQuery);
(function(a){a.ui=a.ui||{};var d=/left|center|right/,h=/top|center|bottom/,f=a.fn.position,l=a.fn.offset;a.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=a.extend({},n);var s=a(n.of),z=s[0],M=(n.collision||"flip").split(" "),P=n.offset?n.offset.split(" "):[0,0],O,X,Z;if(z.nodeType===9){O=s.width();X=s.height();Z={top:0,left:0}}else if(z.setTimeout){O=s.width();X=s.height();Z={top:s.scrollTop(),left:s.scrollLeft()}}else if(z.preventDefault){n.at="left top";O=X=0;Z={top:n.of.pageY,
left:n.of.pageX}}else{O=s.outerWidth();X=s.outerHeight();Z=s.offset()}a.each(["my","at"],function(){var da=(n[this]||"").split(" ");if(da.length===1)da=d.test(da[0])?da.concat(["center"]):h.test(da[0])?["center"].concat(da):["center","center"];da[0]=d.test(da[0])?da[0]:"center";da[1]=h.test(da[1])?da[1]:"center";n[this]=da});if(M.length===1)M[1]=M[0];P[0]=parseInt(P[0],10)||0;if(P.length===1)P[1]=P[0];P[1]=parseInt(P[1],10)||0;if(n.at[0]==="right")Z.left+=O;else if(n.at[0]==="center")Z.left+=O/2;
if(n.at[1]==="bottom")Z.top+=X;else if(n.at[1]==="center")Z.top+=X/2;Z.left+=P[0];Z.top+=P[1];return this.each(function(){var da=a(this),ka=da.outerWidth(),ra=da.outerHeight(),ja=parseInt(a.curCSS(this,"marginLeft",true))||0,xa=parseInt(a.curCSS(this,"marginTop",true))||0,$=ka+ja+(parseInt(a.curCSS(this,"marginRight",true))||0),ta=ra+xa+(parseInt(a.curCSS(this,"marginBottom",true))||0),ma=a.extend({},Z),Ga;if(n.my[0]==="right")ma.left-=ka;else if(n.my[0]==="center")ma.left-=ka/2;if(n.my[1]==="bottom")ma.top-=
ra;else if(n.my[1]==="center")ma.top-=ra/2;ma.left=Math.round(ma.left);ma.top=Math.round(ma.top);Ga={left:ma.left-ja,top:ma.top-xa};a.each(["left","top"],function(wa,H){a.ui.position[M[wa]]&&a.ui.position[M[wa]][H](ma,{targetWidth:O,targetHeight:X,elemWidth:ka,elemHeight:ra,collisionPosition:Ga,collisionWidth:$,collisionHeight:ta,offset:P,my:n.my,at:n.at})});a.fn.bgiframe&&da.bgiframe();da.offset(a.extend(ma,{using:n.using}))})};a.ui.position={fit:{left:function(n,s){var z=a(window);z=s.collisionPosition.left+
s.collisionWidth-z.width()-z.scrollLeft();n.left=z>0?n.left-z:Math.max(n.left-s.collisionPosition.left,n.left)},top:function(n,s){var z=a(window);z=s.collisionPosition.top+s.collisionHeight-z.height()-z.scrollTop();n.top=z>0?n.top-z:Math.max(n.top-s.collisionPosition.top,n.top)}},flip:{left:function(n,s){if(s.at[0]!=="center"){var z=a(window);z=s.collisionPosition.left+s.collisionWidth-z.width()-z.scrollLeft();var M=s.my[0]==="left"?-s.elemWidth:s.my[0]==="right"?s.elemWidth:0,P=s.at[0]==="left"?
s.targetWidth:-s.targetWidth,O=-2*s.offset[0];n.left+=s.collisionPosition.left<0?M+P+O:z>0?M+P+O:0}},top:function(n,s){if(s.at[1]!=="center"){var z=a(window);z=s.collisionPosition.top+s.collisionHeight-z.height()-z.scrollTop();var M=s.my[1]==="top"?-s.elemHeight:s.my[1]==="bottom"?s.elemHeight:0,P=s.at[1]==="top"?s.targetHeight:-s.targetHeight,O=-2*s.offset[1];n.top+=s.collisionPosition.top<0?M+P+O:z>0?M+P+O:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(n,s){if(/static/.test(a.curCSS(n,
"position")))n.style.position="relative";var z=a(n),M=z.offset(),P=parseInt(a.curCSS(n,"top",true),10)||0,O=parseInt(a.curCSS(n,"left",true),10)||0;M={top:s.top-M.top+P,left:s.left-M.left+O};"using"in s?s.using.call(n,M):z.css(M)};a.fn.offset=function(n){var s=this[0];if(!s||!s.ownerDocument)return null;if(n)return this.each(function(){a.offset.setOffset(this,n)});return l.call(this)}}})(avpw_jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(d){var h=
this.options;if(this.helper||h.disabled||a(d.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(d);if(!this.handle)return false;return true},_mouseStart:function(d){var h=this.options;this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt);h.containment&&this._setContainment();if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();
a.ui.ddmanager&&!h.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);return true},_mouseDrag:function(d,h){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!h){h=this._uiHash();if(this._trigger("drag",d,h)===false){this._mouseUp({});return false}this.position=h.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);return false},_mouseStop:function(d){var h=false;if(a.ui.ddmanager&&!this.options.dropBehaviour)h=a.ui.ddmanager.drop(this,d);if(this.dropped){h=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!h||this.options.revert=="valid"&&h||this.options.revert===true||a.isFunction(this.options.revert)&&
this.options.revert.call(this.element,h)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",d)!==false&&f._clear()})}else this._trigger("stop",d)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(d){var h=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
d.target)h=true});return h},_createHelper:function(d){var h=this.options;d=a.isFunction(h.helper)?a(h.helper.apply(this.element[0],[d])):h.helper=="clone"?this.element.clone():this.element;d.parents("body").length||d.appendTo(h.appendTo=="parent"?this.element[0].parentNode:h.appendTo);d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute");return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string")d=d.split(" ");if(a.isArray(d))d={left:+d[0],top:+d[1]||
0};if("left"in d)this.offset.click.left=d.left+this.margins.left;if("right"in d)this.offset.click.left=this.helperProportions.width-d.right+this.margins.left;if("top"in d)this.offset.click.top=d.top+this.margins.top;if("bottom"in d)this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if(d.containment=="parent")d.containment=this.helper[0].parentNode;if(d.containment=="document"||d.containment=="window")this.containment=[(d.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(d.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(d.containment=="document"?0:a(window).scrollLeft())+a(d.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(d.containment=="document"?0:a(window).scrollTop())+(a(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)&&d.containment.constructor!=Array){var h=a(d.containment)[0];if(h){d=a(d.containment).offset();var f=a(h).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(h).css("borderLeftWidth"),
10)||0)+(parseInt(a(h).css("paddingLeft"),10)||0),d.top+(parseInt(a(h).css("borderTopWidth"),10)||0)+(parseInt(a(h).css("paddingTop"),10)||0),d.left+(f?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(a(h).css("borderLeftWidth"),10)||0)-(parseInt(a(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,d.top+(f?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(a(h).css("borderTopWidth"),10)||0)-(parseInt(a(h).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}}else if(d.containment.constructor==Array)this.containment=d.containment},_convertPositionTo:function(d,h){if(!h)h=this.position;d=d=="absolute"?1:-1;var f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(f[0].tagName);return{top:h.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&
a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:f.scrollTop())*d),left:h.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:f.scrollLeft())*d)}},_generatePosition:function(d){var h=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(f[0].tagName),n=d.pageX,s=d.pageY;if(this.originalPosition){if(this.containment){if(d.pageX-this.offset.click.left<this.containment[0])n=this.containment[0]+this.offset.click.left;if(d.pageY-this.offset.click.top<this.containment[1])s=this.containment[1]+this.offset.click.top;if(d.pageX-this.offset.click.left>this.containment[2])n=this.containment[2]+this.offset.click.left;if(d.pageY-this.offset.click.top>this.containment[3])s=
this.containment[3]+this.offset.click.top}if(h.grid){s=this.originalPageY+Math.round((s-this.originalPageY)/h.grid[1])*h.grid[1];s=this.containment?!(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s:!(s-this.offset.click.top<this.containment[1])?s-h.grid[1]:s+h.grid[1]:s;n=this.originalPageX+Math.round((n-this.originalPageX)/h.grid[0])*h.grid[0];n=this.containment?!(n-this.offset.click.left<this.containment[0]||n-this.offset.click.left>this.containment[2])?
n:!(n-this.offset.click.left<this.containment[0])?n-h.grid[0]:n+h.grid[0]:n}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:f.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
l?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,h,f){f=f||this._uiHash();a.ui.plugin.call(this,d,[h,f]);if(d=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,d,h,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,
offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.11"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,h){var f=a(this).data("draggable"),l=f.options,n=a.extend({},h,{item:f.element});f.sortables=[];a(l.connectToSortable).each(function(){var s=a.data(this,"sortable");if(s&&!s.options.disabled){f.sortables.push({instance:s,shouldRevert:s.options.revert});s.refreshPositions();s._trigger("activate",d,n)}})},stop:function(d,h){var f=a(this).data("draggable"),l=a.extend({},
h,{item:f.element});a.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;f.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,l)}})},drag:function(d,h){var f=
a(this).data("draggable"),l=this;a.each(f.sortables,function(){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(l).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return h.helper[0]};
d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}this.instance.currentItem&&
this.instance._mouseDrag(d)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();f._trigger("fromSortable",d);f.dropped=false}})}});a.ui.plugin.add("draggable","cursor",
{start:function(){var d=a("body"),h=a(this).data("draggable").options;if(d.css("cursor"))h._cursor=d.css("cursor");d.css("cursor",h.cursor)},stop:function(){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var d=a(this).data("draggable").options;a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+
"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(d,h){d=a(h.helper);h=a(this).data("draggable").options;if(d.css("opacity"))h._opacity=d.css("opacity");d.css("opacity",h.opacity)},stop:function(d,h){d=a(this).data("draggable").options;d._opacity&&a(h.helper).css("opacity",
d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var d=a(this).data("draggable");if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML")d.overflowOffset=d.scrollParent.offset()},drag:function(d){var h=a(this).data("draggable"),f=h.options,l=false;if(h.scrollParent[0]!=document&&h.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x")if(h.overflowOffset.top+h.scrollParent[0].offsetHeight-d.pageY<f.scrollSensitivity)h.scrollParent[0].scrollTop=l=h.scrollParent[0].scrollTop+
f.scrollSpeed;else if(d.pageY-h.overflowOffset.top<f.scrollSensitivity)h.scrollParent[0].scrollTop=l=h.scrollParent[0].scrollTop-f.scrollSpeed;if(!f.axis||f.axis!="y")if(h.overflowOffset.left+h.scrollParent[0].offsetWidth-d.pageX<f.scrollSensitivity)h.scrollParent[0].scrollLeft=l=h.scrollParent[0].scrollLeft+f.scrollSpeed;else if(d.pageX-h.overflowOffset.left<f.scrollSensitivity)h.scrollParent[0].scrollLeft=l=h.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(!f.axis||f.axis!="x")if(d.pageY-a(document).scrollTop()<
f.scrollSensitivity)l=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed);else if(a(window).height()-(d.pageY-a(document).scrollTop())<f.scrollSensitivity)l=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed);if(!f.axis||f.axis!="y")if(d.pageX-a(document).scrollLeft()<f.scrollSensitivity)l=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed);else if(a(window).width()-(d.pageX-a(document).scrollLeft())<f.scrollSensitivity)l=a(document).scrollLeft(a(document).scrollLeft()+
f.scrollSpeed)}l!==false&&a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(h,d)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("draggable"),h=d.options;d.snapElements=[];a(h.snap.constructor!=String?h.snap.items||":data(draggable)":h.snap).each(function(){var f=a(this),l=f.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:l.top,left:l.left})})},drag:function(d,h){for(var f=a(this).data("draggable"),
l=f.options,n=l.snapTolerance,s=h.offset.left,z=s+f.helperProportions.width,M=h.offset.top,P=M+f.helperProportions.height,O=f.snapElements.length-1;O>=0;O--){var X=f.snapElements[O].left,Z=X+f.snapElements[O].width,da=f.snapElements[O].top,ka=da+f.snapElements[O].height;if(X-n<s&&s<Z+n&&da-n<M&&M<ka+n||X-n<s&&s<Z+n&&da-n<P&&P<ka+n||X-n<z&&z<Z+n&&da-n<M&&M<ka+n||X-n<z&&z<Z+n&&da-n<P&&P<ka+n){if(l.snapMode!="inner"){var ra=Math.abs(da-P)<=n,ja=Math.abs(ka-M)<=n,xa=Math.abs(X-z)<=n,$=Math.abs(Z-s)<=
n;if(ra)h.position.top=f._convertPositionTo("relative",{top:da-f.helperProportions.height,left:0}).top-f.margins.top;if(ja)h.position.top=f._convertPositionTo("relative",{top:ka,left:0}).top-f.margins.top;if(xa)h.position.left=f._convertPositionTo("relative",{top:0,left:X-f.helperProportions.width}).left-f.margins.left;if($)h.position.left=f._convertPositionTo("relative",{top:0,left:Z}).left-f.margins.left}var ta=ra||ja||xa||$;if(l.snapMode!="outer"){ra=Math.abs(da-M)<=n;ja=Math.abs(ka-P)<=n;xa=Math.abs(X-
s)<=n;$=Math.abs(Z-z)<=n;if(ra)h.position.top=f._convertPositionTo("relative",{top:da,left:0}).top-f.margins.top;if(ja)h.position.top=f._convertPositionTo("relative",{top:ka-f.helperProportions.height,left:0}).top-f.margins.top;if(xa)h.position.left=f._convertPositionTo("relative",{top:0,left:X}).left-f.margins.left;if($)h.position.left=f._convertPositionTo("relative",{top:0,left:Z-f.helperProportions.width}).left-f.margins.left}if(!f.snapElements[O].snapping&&(ra||ja||xa||$||ta))f.options.snap.snap&&
f.options.snap.snap.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[O].item}));f.snapElements[O].snapping=ra||ja||xa||$||ta}else{f.snapElements[O].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[O].item}));f.snapElements[O].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options;d=a.makeArray(a(d.stack)).sort(function(f,l){return(parseInt(a(f).css("zIndex"),
10)||0)-(parseInt(a(l).css("zIndex"),10)||0)});if(d.length){var h=parseInt(d[0].style.zIndex)||0;a(d).each(function(f){this.style.zIndex=h+f});this[0].style.zIndex=h+d.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(d,h){d=a(h.helper);h=a(this).data("draggable").options;if(d.css("zIndex"))h._zIndex=d.css("zIndex");d.css("zIndex",h.zIndex)},stop:function(d,h){d=a(this).data("draggable").options;d._zIndex&&a(h.helper).css("zIndex",d._zIndex)}})})(avpw_jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,h=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(h)?h:function(f){return f.is(h)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);
d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=a.ui.ddmanager.droppables[this.options.scope],h=0;h<d.length;h++)d[h]==this&&d.splice(h,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,h){if(d=="accept")this.accept=a.isFunction(h)?h:function(f){return f.is(h)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var h=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);h&&this._trigger("activate",d,this.ui(h))},_deactivate:function(d){var h=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);h&&this._trigger("deactivate",d,this.ui(h))},_over:function(d){var h=a.ui.ddmanager.current;if(!(!h||(h.currentItem||h.element)[0]==this.element[0]))if(this.accept.call(this.element[0],h.currentItem||h.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",d,this.ui(h))}},_out:function(d){var h=a.ui.ddmanager.current;if(!(!h||(h.currentItem||h.element)[0]==this.element[0]))if(this.accept.call(this.element[0],h.currentItem||h.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",d,this.ui(h))}},_drop:function(d,h){var f=h||a.ui.ddmanager.current;if(!f||(f.currentItem||f.element)[0]==this.element[0])return false;var l=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var n=
a.data(this,"droppable");if(n.options.greedy&&!n.options.disabled&&n.options.scope==f.options.scope&&n.accept.call(n.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(n,{offset:n.element.offset()}),n.options.tolerance)){l=true;return false}});if(l)return false;if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
d,this.ui(f));return this.element}return false},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.11"});a.ui.intersect=function(d,h,f){if(!h.offset)return false;var l=(d.positionAbs||d.position.absolute).left,n=l+d.helperProportions.width,s=(d.positionAbs||d.position.absolute).top,z=s+d.helperProportions.height,M=h.offset.left,P=M+h.proportions.width,O=h.offset.top,X=O+h.proportions.height;switch(f){case "fit":return M<=
l&&n<=P&&O<=s&&z<=X;case "intersect":return M<l+d.helperProportions.width/2&&n-d.helperProportions.width/2<P&&O<s+d.helperProportions.height/2&&z-d.helperProportions.height/2<X;case "pointer":return a.ui.isOver((d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,O,M,h.proportions.height,h.proportions.width);case "touch":return(s>=O&&s<=X||z>=O&&z<=X||s<O&&z>X)&&(l>=M&&l<=P||n>=M&&n<=P||l<M&&n>P);
default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(d,h){var f=a.ui.ddmanager.droppables[d.options.scope]||[],l=h?h.type:null,n=(d.currentItem||d.element).find(":data(droppable)").andSelf(),s=0;a:for(;s<f.length;s++)if(!(f[s].options.disabled||d&&!f[s].accept.call(f[s].element[0],d.currentItem||d.element))){for(var z=0;z<n.length;z++)if(n[z]==f[s].element[0]){f[s].proportions.height=0;continue a}f[s].visible=f[s].element.css("display")!="none";if(f[s].visible){l==
"mousedown"&&f[s]._activate.call(f[s],h);f[s].offset=f[s].element.offset();f[s].proportions={width:f[s].element[0].offsetWidth,height:f[s].element[0].offsetHeight}}}},drop:function(d,h){var f=false;a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(d,this,this.options.tolerance))f=f||this._drop.call(this,h);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)){this.isout=
1;this.isover=0;this._deactivate.call(this,h)}}});return f},drag:function(d,h){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,h);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var f=a.ui.intersect(d,this,this.options.tolerance);if(f=!f&&this.isover==1?"isout":f&&this.isover==0?"isover":null){var l;if(this.options.greedy){var n=this.element.parents(":data(droppable):eq(0)");if(n.length){l=a.data(n[0],"droppable");
l.greedyChild=f=="isover"?1:0}}if(l&&f=="isover"){l.isover=0;l.isout=1;l._out.call(l,h)}this[f]=1;this[f=="isout"?"isover":"isout"]=0;this[f=="isover"?"_over":"_out"].call(this,h);if(l&&f=="isout"){l.isout=0;l.isover=1;l._over.call(l,h)}}}})}}})(avpw_jQuery);
(function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var d=this,h=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");h.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");
this.range=a([]);if(h.range){if(h.range===true){this.range=a("<div></div>");if(!h.values)h.values=[this._valueMin(),this._valueMin()];if(h.values.length&&h.values.length!==2)h.values=[h.values[0],h.values[0]]}else this.range=a("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");if(h.range==="min"||h.range==="max")this.range.addClass("ui-slider-range-"+h.range);this.range.addClass("ui-widget-header")}a(".ui-slider-handle",this.element).length===0&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");
if(h.values&&h.values.length)for(;a(".ui-slider-handle",this.element).length<h.values.length;)a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(f){f.preventDefault()}).hover(function(){h.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){if(h.disabled)a(this).blur();
else{a(".ui-slider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(f){a(this).data("index.ui-slider-handle",f)});this.handles.keydown(function(f){var l=true,n=a(this).data("index.ui-slider-handle"),s,z,M;if(!d.options.disabled){switch(f.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:l=
false;if(!d._keySliding){d._keySliding=true;a(this).addClass("ui-state-active");s=d._start(f,n);if(s===false)return}}M=d.options.step;s=d.options.values&&d.options.values.length?z=d.values(n):z=d.value();switch(f.keyCode){case a.ui.keyCode.HOME:z=d._valueMin();break;case a.ui.keyCode.END:z=d._valueMax();break;case a.ui.keyCode.PAGE_UP:z=d._trimAlignValue(s+(d._valueMax()-d._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:z=d._trimAlignValue(s-(d._valueMax()-d._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(s===
d._valueMax())return;z=d._trimAlignValue(s+M);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(s===d._valueMin())return;z=d._trimAlignValue(s-M)}d._slide(f,n,z);return l}}).keyup(function(f){var l=a(this).data("index.ui-slider-handle");if(d._keySliding){d._keySliding=false;d._stop(f,l);d._change(f,l);a(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");
this._mouseDestroy();return this},_mouseCapture:function(d){var h=this.options,f,l,n,s,z;if(h.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f=this._normValueFromMouse({x:d.pageX,y:d.pageY});l=this._valueMax()-this._valueMin()+1;s=this;this.handles.each(function(M){var P=Math.abs(f-s.values(M));if(l>P){l=P;n=a(this);z=M}});if(h.range===true&&this.values(1)===h.min){z+=1;n=a(this.handles[z])}if(this._start(d,
z)===false)return false;this._mouseSliding=true;s._handleIndex=z;n.addClass("ui-state-active").focus();h=n.offset();this._clickOffset=!a(d.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:d.pageX-h.left-n.width()/2,top:d.pageY-h.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(d,z,f);return this._animateOff=true},_mouseStart:function(){return true},
_mouseDrag:function(d){var h=this._normValueFromMouse({x:d.pageX,y:d.pageY});this._slide(d,this._handleIndex,h);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(d){var h;
if(this.orientation==="horizontal"){h=this.elementSize.width;d=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{h=this.elementSize.height;d=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}h=d/h;if(h>1)h=1;if(h<0)h=0;if(this.orientation==="vertical")h=1-h;d=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+h*d)},_start:function(d,h){var f={handle:this.handles[h],value:this.value()};if(this.options.values&&this.options.values.length){f.value=
this.values(h);f.values=this.values()}return this._trigger("start",d,f)},_slide:function(d,h,f){var l;if(this.options.values&&this.options.values.length){l=this.values(h?0:1);if(this.options.values.length===2&&this.options.range===true&&(h===0&&f>l||h===1&&f<l))f=l;if(f!==this.values(h)){l=this.values();l[h]=f;d=this._trigger("slide",d,{handle:this.handles[h],value:f,values:l});this.values(h?0:1);d!==false&&this.values(h,f,true)}}else if(f!==this.value()){d=this._trigger("slide",d,{handle:this.handles[h],
value:f});d!==false&&this.value(f)}},_stop:function(d,h){var f={handle:this.handles[h],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(h);f.values=this.values()}this._trigger("stop",d,f)},_change:function(d,h){if(!this._keySliding&&!this._mouseSliding){var f={handle:this.handles[h],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(h);f.values=this.values()}this._trigger("change",d,f)}},value:function(d){if(arguments.length){this.options.value=
this._trimAlignValue(d);this._refreshValue();this._change(null,0)}return this._value()},values:function(d,h){var f,l,n;if(arguments.length>1){this.options.values[d]=this._trimAlignValue(h);this._refreshValue();this._change(null,d)}if(arguments.length)if(a.isArray(arguments[0])){f=this.options.values;l=arguments[0];for(n=0;n<f.length;n+=1){f[n]=this._trimAlignValue(l[n]);this._change(null,n)}this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(d):this.value();
else return this._values()},_setOption:function(d,h){var f,l=0;if(a.isArray(this.options.values))l=this.options.values.length;a.Widget.prototype._setOption.apply(this,arguments);switch(d){case "disabled":if(h){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case "orientation":this._detectOrientation();
this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case "values":this._animateOff=true;this._refreshValue();for(f=0;f<l;f+=1)this._change(null,f);this._animateOff=false}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(d){var h,f;if(arguments.length){h=this.options.values[d];
return this._trimAlignValue(h)}else{h=this.options.values.slice();for(f=0;f<h.length;f+=1)h[f]=this._trimAlignValue(h[f]);return h}},_trimAlignValue:function(d){if(d<=this._valueMin())return this._valueMin();if(d>=this._valueMax())return this._valueMax();var h=this.options.step>0?this.options.step:1,f=(d-this._valueMin())%h;alignValue=d-f;if(Math.abs(f)*2>=h)alignValue+=f>0?h:-h;return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},
_refreshValue:function(){var d=this.options.range,h=this.options,f=this,l=!this._animateOff?h.animate:false,n,s={},z,M,P,O;if(this.options.values&&this.options.values.length)this.handles.each(function(X){n=(f.values(X)-f._valueMin())/(f._valueMax()-f._valueMin())*100;s[f.orientation==="horizontal"?"left":"bottom"]=n+"%";a(this).stop(1,1)[l?"animate":"css"](s,h.animate);if(f.options.range===true)if(f.orientation==="horizontal"){if(X===0)f.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},h.animate);
if(X===1)f.range[l?"animate":"css"]({width:n-z+"%"},{queue:false,duration:h.animate})}else{if(X===0)f.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},h.animate);if(X===1)f.range[l?"animate":"css"]({height:n-z+"%"},{queue:false,duration:h.animate})}z=n});else{M=this.value();P=this._valueMin();O=this._valueMax();n=O!==P?(M-P)/(O-P)*100:0;s[f.orientation==="horizontal"?"left":"bottom"]=n+"%";this.handle.stop(1,1)[l?"animate":"css"](s,h.animate);if(d==="min"&&this.orientation==="horizontal")this.range.stop(1,
1)[l?"animate":"css"]({width:n+"%"},h.animate);if(d==="max"&&this.orientation==="horizontal")this.range[l?"animate":"css"]({width:100-n+"%"},{queue:false,duration:h.animate});if(d==="min"&&this.orientation==="vertical")this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},h.animate);if(d==="max"&&this.orientation==="vertical")this.range[l?"animate":"css"]({height:100-n+"%"},{queue:false,duration:h.animate})}}});a.extend(a.ui.slider,{version:"1.8.11"})})(avpw_jQuery);if(typeof AV=="undefined")AV={};AV.FlashControls=function(){};AV.FlashControls.prototype={setup:function(){},enablePlugin:function(a){AV_paintWidget.onModuleLoaded(a)},activatePlugin:function(){},deactivatePlugin:function(){},onPreviewRendered:function(){},syncProperty:function(){},syncPreview:function(){}};
Aviary=function(){var a={UPLOAD_TO_SERVER:"UPLOAD_TO_SERVER",UPLOAD_TO_AVIARY:"UPLOAD_TO_AVIARY",REPLACE_IMAGE:"REPLACE_IMAGE",log:function(){}},d=typeof document.getElementById!="undefined"&&typeof document.getElementsByTagName!="undefined"&&typeof document.createElement!="undefined",h=navigator.userAgent.toLowerCase(),f=navigator.platform.toLowerCase(),l=f?/win/.test(f):/win/.test(h);f=f?/mac/.test(f):/mac/.test(h);h=/webkit/.test(h)?parseFloat(h.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;
var n=AV__getInternetExplorerVersion()>0;a.w3=d;a.wk=h;a.ie=n;a.win=l;a.mac=f;return a}();
Aviary.Plugins=function(){return{Crop:{id:"crop",name:"Crop",file:AV_feather_baseURL+"crop.swf",text:"Draw the crop rect, drag it by clicking inside or redraw clicking outside. Press ENTER to apply."},Resize:{id:"resize",name:"Resize",file:AV_feather_baseURL+"resize.swf",text:"Resize an image. Use the preview rectangle to see the quality of the resized image.",controls:[{type:"slider",id:"width",name:"Width","default":"@width",from:100,to:3E3},{type:"slider",id:"height",name:"Height","default":"@height",
from:100,to:3E3},{type:"checkbox",id:"keep_proportions",name:"Keep proportions",selected:true}]},Rotate:{id:"rotate90",name:"Rotate",file:AV_feather_baseURL+"rotate90.swf",text:"Rotate an image.",presets:[{angle:0},{angle:90},{angle:180},{angle:270}],controls:[{type:"slider",id:"rotation",name:"Rotation","default":"0",from:-360,to:360}]},RedEyeRemoval:{id:"redeye",name:"Red Eye Removal",file:AV_feather_baseURL+"redeye.swf",text:"The Red Eyes Removal plugin can be used to remove red eyes caused by the camera flash. Draw with the brush onto the eyes you want to heal.",
controls:[{type:"slider",id:"threshold",name:"Threshold",description:"The amount of red used to guess if the region is a red eye or not.","default":50,from:0,to:100},{type:"slider",id:"radius",name:"Brush size",description:"The size of the brush.","default":10,from:2,to:40}]},Colors:{id:"colors",name:"Colors",file:AV_feather_baseURL+"colors.swf",text:"The Colors plugin bla bla bla.",controls:[{type:"slider",id:"hue",name:"Hue","default":0,from:-180,to:180},{type:"slider",id:"saturation",name:"Saturation",
"default":0,from:-100,to:100},{type:"slider",id:"brightness",name:"Saturation","default":0,from:-100,to:100}],presets:[{hue:-90,saturation:0,brightness:0},{hue:0,saturation:-100,brightness:0},{hue:90,saturation:0,brightness:0}]},Saturation:{id:"saturation",name:"Saturation",file:AV_feather_baseURL+"saturation.swf",presets:[{value:0},{value:0.66},{value:1.33},{value:2}]},Brightness:{id:"brightness",name:"Brightness",file:AV_feather_baseURL+"brightness.swf",text:"Brightness adjustment",presets:[{brightnessvalue:0.33,
contrastvalue:1},{brightnessvalue:0.77,contrastvalue:1},{brightnessvalue:1.22,contrastvalue:1},{brightnessvalue:1.66,contrastvalue:1}]},Contrast:{id:"contrast",name:"Contrast",file:AV_feather_baseURL+"contrast.swf",presets:[{contrastvalue:0.33,brightnessvalue:1},{contrastvalue:0.77,brightnessvalue:1},{contrastvalue:1.22,brightnessvalue:1},{contrastvalue:1.66,brightnessvalue:1}]},Blur:{id:"blur",name:"Blur",file:AV_feather_baseURL+"blur.swf",presets:[{radius:0},{radius:5},{radius:10},{radius:15}]},
Sharpen:{id:"sharpen",name:"Sharpen",file:AV_feather_baseURL+"sharpen.swf",presets:[{value:0},{value:33},{value:66},{value:100}]},Blemish:{id:"blemish",name:"Blemish",file:AV_feather_baseURL+"blemish.swf"},Drawing:{id:"drawing",name:"Drawing",file:AV_feather_baseURL+"drawing.swf"},Stickers:{id:"stickers",name:"Stickers",file:AV_feather_baseURL+"stickers.swf"},Text:{id:"text",name:"Text",file:AV_feather_baseURL+"text.swf"},Flip:{id:"flip",name:"Flip",presets:[{vertical:false,horizontal:false},{vertical:false,
horizontal:true},{vertical:true,horizontal:false},{vertical:true,horizontal:true}],file:AV_feather_baseURL+"flip.swf"}}}();
Aviary.DOM=function(){var a=/\s*([a-zA-Z_][a-zA-Z_0-9]*)\s*(#\s*([a-zA-Z_][a-zA-Z_0-9]*))?\s*(\.\s*(.+))?\s*/;return{getElement:function(d){return d instanceof Aviary.Node?d.el:d},getNode:function(d){if(!d||d instanceof Aviary.Node)return d;if(typeof d=="string")return Aviary.DOM.getNode(document.getElementById(d));return new Aviary.Node(d)},create:function(d,h,f){d=a.exec(d);var l=d[3],n=d[5];d=document.createElement(d[1]);if(l)d.id=l;if(n)d.className=n;if(h)for(var s in h)d.style[s]=h[s];if(f){h=
f.length;for(s=0;s<h;++s)d.appendChild(Aviary.DOM.getElement(f[s]))}return new Aviary.Node(d)},text:function(d){return document.createTextNode(d)},embedSWF:function(d,h,f,l,n){n=n||{};var s={};s.quality="high";s.bgcolor="#808080";s.allowscriptaccess="always";s.allowfullscreen="true";var z={};z.id=d;z.name=d;z.align="middle";this._embedSWF(h||d+".swf",d+"Content",f||"100%",l||"100%","10.0.32","",n,s,z)},_embedSWF:function(d,h,f,l,n,s,z,M,P){f+="";l+="";n={};if(P&&typeof P==="object")for(var O in P)n[O]=
P[O];n.data=d;n.width=f;n.height=l;d={};if(M&&typeof M==="object")for(var X in M)d[X]=M[X];if(z&&typeof z==="object")for(var Z in z)if(typeof d.flashvars!="undefined")d.flashvars+="&"+Z+"="+z[Z];else d.flashvars=Z+"="+z[Z];this._createSWF(n,d,h)},_createSWF:function(d,h,f){var l=document.getElementById(f);if(l){if(typeof d.id=="undefined")d.id=f;if(Aviary.ie&&Aviary.win){var n="",s;for(s in d)if(d[s]!=Object.prototype[s])if(s.toLowerCase()=="data")h.movie=d[s];else if(s.toLowerCase()=="styleclass")n+=
' class="'+d[s]+'"';else if(s.toLowerCase()!="classid")n+=" "+s+'="'+d[s]+'"';s="";for(var z in h)if(h[z]!=Object.prototype[z])s+='<param name="'+z+'" value="'+h[z]+'" />';l.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+n+">"+s+"</object>";if(typeof objIdArr=="undefined")objIdArr=[];objIdArr[objIdArr.length]=d.id}else{z=document.createElement("object");z.setAttribute("type","application/x-shockwave-flash");for(n in d)if(d[n]!=Object.prototype[n])if(n.toLowerCase()=="styleclass")z.setAttribute("class",
d[n]);else n.toLowerCase()!="classid"&&z.setAttribute(n,d[n]);for(var M in h)h[M]!=Object.prototype[M]&&M.toLowerCase()!="movie"&&this._createObjParam(z,M,h[M]);l.parentNode.replaceChild(z,l)}}},_createObjParam:function(d,h,f){var l=document.createElement("param");l.setAttribute("name",h);l.setAttribute("value",f);d.appendChild(l)}}}();Aviary.Node=function(a){this.el=a};
Aviary.Node.prototype=function(){var a=Aviary.DOM.getNode,d=Aviary.DOM.getElement;return{parent:function(){return a(this.el.parentNode)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},add:function(){for(var h=0;h<arguments.length;++h)this.el.appendChild(d(arguments[h]));return this},remove:function(){this.el.parentNode&&this.el.parentNode.removeChild(this.el);return this},move:function(h){h=a(h);this.remove();h.add(this);return this},prop:function(h){for(var f in h)this.el[f]=
h[f];return this}}}();Aviary.Canvas=function(a){this.canvas=document.getElementById(a)};
Aviary.Canvas.prototype={setup:function(a,d){var h;Aviary.log("Setting up canvas");if(typeof AV_proxyServer!="undefined"){h=AV_proxyServer+"?url="+escape(a);Aviary.log("Setting up canvas:",h);this.canvas.setup(h,d)}else{Aviary.log("Setting up canvas (localtest!!):",a);this.canvas.setup(a,d)}},activatePlugin:function(a){this.canvas.activatePlugin(a)},deactivatePlugin:function(a){this.canvas.deactivatePlugin(a)},executePlugin:function(){this.canvas.executePlugin()},renderGoldenEgg:function(a){this.canvas.renderGoldenEgg(a)},
changeProperty:function(a,d){this.canvas.changeProperty(a,d)},commit:function(a,d){this.canvas.commit(a,d)},undo:function(){this.canvas.undo()},redo:function(){this.canvas.redo()},doCrop:function(){this.canvas.executeCrop()},renderPreview:function(a,d){this.canvas.renderPreview(a,d)},getDynamicPropertyDefaultValue:function(a){return this.canvas.getDynamicPropertyDefaultValue(a)}};Aviary.Controls=function(){this.controls=new AV.FlashControls};
Aviary.Controls.prototype={setup:function(a){this.controls.setup(a)},enablePlugin:function(a,d){this.controls.enablePlugin(a,d)},activatePlugin:function(a){this.controls.activatePlugin(a)},deactivatePlugin:function(a){this.controls.deactivatePlugin(a)},onPreviewRendered:function(a,d){this.controls.onPreviewRendered(a,d)},syncProperty:function(a,d){this.controls.syncProperty(a,d)},syncPreview:function(a){this.controls.syncPreview(a)}};Aviary.Bridge=function(){};
Aviary.Bridge.prototype=function(){var a=Aviary.DOM.getNode,d=Aviary.DOM.create,h=Aviary.log;return{listEditableImages:function(){return document.getElementsByTagName("img")},getPlugins:function(){return[Aviary.Plugins.Crop,Aviary.Plugins.Resize,Aviary.Plugins.Rotate,Aviary.Plugins.RedEyeRemoval,Aviary.Plugins.Colors,Aviary.Plugins.Brightness,Aviary.Plugins.Saturation,Aviary.Plugins.Contrast,Aviary.Plugins.Blemish,Aviary.Plugins.Stickers,Aviary.Plugins.Drawing,Aviary.Plugins.Text,Aviary.Plugins.Flip]},
setEditable:function(f){f=a(f);var l=d("div",{position:"relative",display:"inline"});f.parent().add(l.add(d("a",{fontSize:"22px",fontWeight:"bold",textDecoration:"none",right:"10px",bottom:"10px",position:"absolute"})));var n=a(l.el.getElementsByTagName("a")[0]);n.hide();f.move(l);l.prop({onmouseover:function(){n.show()},onmouseout:function(){n.hide()}})},createCanvas:function(){this.initsize?Aviary.DOM.embedSWF("canvas",AV_feather_baseURL+"canvas.swf",this.initsize.width,this.initsize.height):Aviary.DOM.embedSWF("canvas",
AV_feather_baseURL+"canvas.swf");Aviary.DOM.embedSWF("thumb1",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",uid:"thumb1"});Aviary.DOM.embedSWF("thumb2",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",uid:"thumb2"});Aviary.DOM.embedSWF("thumb3",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",uid:"thumb3"});Aviary.DOM.embedSWF("thumb4",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",
uid:"thumb4"})},createControls:function(){this._onComponentLoaded("controls")},setupEditingUI:function(){a("editorOverlay")},destroyEditingUI:function(){var f=a("editorOverlay");f&&f.remove()},onSave:function(f){return this.onEndEditing(f)},onEndEditing:function(f){f.commit(Aviary.UPLOAD_TO_AVIARY,{url:"http://test.viary.com/apps/xmlapi/receiver.aspx?auid=aviaryframework",name:"image2"})},onCommitComplete:function(f){h("Commit has been completed:",f);AV__controlsWidget_onImageSaved(f.url)},_onComponentLoaded:function(f){Aviary.log("_onComponentLoaded: ",
f);switch(f){case "canvas":Aviary.API._onCanvasLoaded(new Aviary.Canvas("canvas"));break;case "controls":Aviary.API._onControlsLoaded(new Aviary.Controls("controls"))}},_onComponentReady:function(f){Aviary.log("_onComponentReady: ",f);switch(f){case "canvas":Aviary.API._onCanvasReady();break;case "controls":Aviary.API._onControlsReady()}}}}();
Aviary.API=function(){var a=Aviary.log,d=Aviary.DOM.getNode,h=Aviary.DOM.getElement;return{customBridge:function(f){var l=function(){};l.prototype=new Aviary.Bridge;l.prototype.constructor=Aviary.Bridge;for(var n in f)l.prototype[n]=f[n];return l},activate:function(f){this.bridge=f||new Aviary.Bridge;this._install();this.goldenEggCallback=null},startEditing:function(f){a("startEditing: ",f);f=d(f);this.controls=this.canvas=null;this.active_target=f;this.bridge.setupEditingUI();this.bridge.createCanvas();
this.bridge.createControls()},restartEditing:function(f){this.active_target=f=d(f);this._setupEditing()},save:function(){this.bridge.onSave(this.canvas)},close:function(){this.bridge.destroyEditingUI()},runGoldenEgg:function(f,l){this.goldenEggCallback=l;this.canvas.renderGoldenEgg(f)},doCrop:function(){this.canvas.doCrop()},endEditing:function(){this.bridge.onEndEditing(this.canvas);this.goldenEggCallback=null},activatePlugin:function(f){a("Activate plugin:",f);this.canvas.activatePlugin(f);this.controls.activatePlugin(f)},
deactivatePlugin:function(f){a("Dectivate plugin:",f,this.canvas,this.controls);this.canvas.deactivatePlugin(f);this.controls.deactivatePlugin(f)},changeProperty:function(f,l){a("Changing property:",f,l);this.canvas.changeProperty(f,l)},resizeCanvas:function(f,l){var n=this.canvas.canvas;n.width=f+"px";n.height=l+"px"},getCanvasWidth:function(){return parseInt(this.canvas.canvas.width)},getCanvasHeight:function(){return parseInt(this.canvas.canvas.height)},executePlugin:function(){this.canvas.executePlugin()},
renderPreview:function(f,l){this.canvas.renderPreview(f,l)},getDynamicPropertyDefaultValue:function(f){return this.canvas.getDynamicPropertyDefaultValue(f)},syncProperty:function(f,l){this.controls.syncProperty(f,l)},syncPreview:function(f){this.controls.syncPreview(f)},setImageData:function(f,l){d(f).el.src=l},setThumb:function(f,l){var n=document.getElementById("thumb"+f);n&&n.refreshThumb(l)},getStickerURLList:function(){return Feather_Stickers},_cropSelectionStarted:function(){AV_controlsWidget.tool.crop.resetCropState()},
_onPreviewRendered:function(f,l){this.controls.onPreviewRendered(f,l)},_onPluginLoaded:function(f,l){a("Enabling plugin:",f);this.controls.enablePlugin(f,l)},_onImageLoaded:function(){a("Image loaded");AV_paintWidgetLauncher_Flash_stage2&&AV_paintWidgetLauncher_Flash_stage2()},_onGoldenEggComplete:function(){this.goldenEggCallback&&this.goldenEggCallback()},_onCanvasLoaded:function(f){this.canvas=f;if(null!=this.controls){Aviary.log("_onCanvasLoaded, setting up editing");this._setupEditing()}},_onControlsLoaded:function(f){this.controls=
f;null!=this.canvas&&this._setupEditing()},_onCanvasReady:function(){this.canvas.ready=true;this.controls.ready&&this._activateEditing()},_onControlsReady:function(){this.controls.ready=true;this.canvas.ready&&this._activateEditing()},_onCommitComplete:function(f){this.bridge.onCommitComplete(f)},_setupEditing:function(){a("Setup Editing");var f=this.bridge.getPlugins();this.controls.setup(f);this.canvas.setup(h(this.active_target).src,f)},_activateEditing:function(){a("Editing")},_install:function(){for(var f=
this.bridge.listEditableImages(),l=[],n=0;n<f.length;++n)l.push(f[n]);f=this.targets=l;a("Installing Widget on "+f.length+" images");for(l=0;l<f.length;++l)this.bridge.setEditable(f[l],true)},_onUndo:function(){a("undo");this.canvas.undo()},_onRedo:function(){a("redo");this.canvas.redo()}}}();
function AviaryAPIActivate(a){var d=Aviary.log;Aviary.API.activate(function(){if(!a)return new Aviary.Bridge;if(a.plugins){for(var h=[],f=a.plugins.toLowerCase().split(","),l=0;l<f.length;++l){var n=f[l],s;for(s in Aviary.Plugins){var z=Aviary.Plugins[s];d("Adding plugin: "+s);if(z.id==n||z.name.toLowerCase()==n){d("Added plugin: "+n);h.push(z);break}}}d("Plugins: ",h.length);if(h.length>0)a.getPlugins=function(){return h};delete a.plugins}if(a.targets){var M=[];for(l=0;l<a.targets.length;++l)M.push(document.getElementById(a.targets[l]));
a.listEditableImages=function(){return M};delete a.targets}if(a.action){var P=a.action;a.onSave=function(X){X.commit(P.type,P)};delete a.action}f=function(){};f.prototype=new Aviary.Bridge;f.prototype.constructor=Aviary.Bridge;for(var O in a)f.prototype[O]=a[O];return new f}())};if(typeof AV=="undefined")AV={};var AV_paintWidget,AV_controlsWidget;AV__getWidgetURL="http://www.aviary.com/html5";AV__giveFeedbackURL="http://www.aviary.com/contactus";if(typeof Feather_EditOptions=="undefined"||Feather_EditOptions=="all")Feather_EditOptions="sharpen,whiten,rotate,flip,resize,crop,redeye,blemish,colors,saturation,blur,brightness,contrast,drawing,text,stickers";
if(typeof Feather_Stickers=="undefined"||Feather_Stickers=="all")Feather_Stickers=[["http://www.aviary.com/images/feather/sticker/bandaid_01.png","http://www.aviary.com/images/feather/sticker/thumbs/bandaid_01.png"],["http://www.aviary.com/images/feather/sticker/beer_01.png","http://www.aviary.com/images/feather/sticker/thumbs/beer_01.png"],["http://www.aviary.com/images/feather/sticker/cigar_01.png","http://www.aviary.com/images/feather/sticker/thumbs/cigar_01.png"],["http://www.aviary.com/images/feather/sticker/glasses_01.png",
"http://www.aviary.com/images/feather/sticker/thumbs/glasses_01.png"],["http://www.aviary.com/images/feather/sticker/glasses_02.png","http://www.aviary.com/images/feather/sticker/thumbs/glasses_02.png"],["http://www.aviary.com/images/feather/sticker/glasses_03.png","http://www.aviary.com/images/feather/sticker/thumbs/glasses_03.png"],["http://www.aviary.com/images/feather/sticker/glasses_04.png","http://www.aviary.com/images/feather/sticker/thumbs/glasses_04.png"],["http://www.aviary.com/images/feather/sticker/hat_01.png",
"http://www.aviary.com/images/feather/sticker/thumbs/hat_01.png"],["http://www.aviary.com/images/feather/sticker/hat_02.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_02.png"],["http://www.aviary.com/images/feather/sticker/hat_04.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_04.png"],["http://www.aviary.com/images/feather/sticker/hat_05.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_05.png"],["http://www.aviary.com/images/feather/sticker/hat_06.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_06.png"],
["http://www.aviary.com/images/feather/sticker/hat_07.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_07.png"],["http://www.aviary.com/images/feather/sticker/patch_01.png","http://www.aviary.com/images/feather/sticker/thumbs/patch_01.png"],["http://www.aviary.com/images/feather/sticker/sguriken_01.png","http://www.aviary.com/images/feather/sticker/thumbs/sguriken_01.png"],["http://www.aviary.com/images/feather/sticker/stache_01.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_01.png"],
["http://www.aviary.com/images/feather/sticker/stache_02.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_02.png"],["http://www.aviary.com/images/feather/sticker/stache_03.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_03.png"],["http://www.aviary.com/images/feather/sticker/stache_04.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_04.png"],["http://www.aviary.com/images/feather/sticker/stache_05.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_05.png"]];
if(typeof Feather_CropSizes=="undefined")Feather_CropSizes="320x240,640x480,800x600,1280x1024,1600x1200,240x320,480x640,600x800,1024x1280,1200x1600";if(typeof Feather_MaxSize=="undefined")Feather_MaxSize=800;if(typeof Feather_NoCloseButton=="undefined")Feather_NoCloseButton=false;Feather_Filters="toycamera,polaroid,oldphoto,colorgrading,vignetteblur,colormatrix,filmgrain";var AV_controlsStartingTab=Feather_EditOptions[0];if(typeof AV__jsonp_imgserver=="undefined")AV__jsonp_imgserver="imgjsonpserver.cgi";
if(typeof Feather_APIKey=="undefined")Feather_APIKey="";if(typeof Feather_PostURL=="undefined")Feather_PostURL="";
Feather_Filter_Params={polaroid:'<parameters><parameter id="Inner Placement" value="0.5"/><parameter id="Desaturation Factor" value="0.8"/><parameter id="Background Color" value="-1"/><parameter id="Light Leak Active" value="true"/><parameter id="Light Leak Seed" value="-17130388"/><parameter id="Color Grading Active" value="true"/><parameter id="Color Grading Seed" value="-101359189"/><parameter id="Red Variation Strength" value="25"/><parameter id="Green Variation Strength" value="25"/><parameter id="Blue Variation Strength" value="25"/><parameter id="Shadow Center" value="0.4,0.2"/><parameter id="Stains Active" value="true"/><parameter id="Stains On Frame Only" value="true"/><parameter id="Stains Density" value="30"/><parameter id="Stains Minimum Drop Size" value="1"/><parameter id="Stains Maximum Drop Size" value="80"/><parameter id="Stains Smoothing" value="8"/></parameters>',toycamera:'<parameters><parameter id="Contrast" value="0.1"/><parameter id="Saturation"  value="1"/><parameter id="Glow Threshold" value="128"/><parameter id="Glow Radius" value="34"/><parameter id="Glow Intensity" value="0.5"/><parameter id="Grain Random Seed" value="-48494495"/><parameter id="Grain Intensity"  value="0.32"/><parameter id="Grain Size" value="3.2"/><parameter id="Grain Clumping Iterations" value="3"/><parameter id="Grain Clumping Strength" value="7"/><parameter id="Color Grading Seed" value="-86426274"/><parameter id="Red Variation Strength" value="30.1"/><parameter id="Green Variation Strength" value="21.5"/><parameter id="Blue Variation Strength" value="38.6"/><parameter id="Inner Limit" value="0.3"/><parameter id="Outer Limit" value="2"/><parameter id="Blur Radius" value="10"/><parameter id="Radius Factor" value="1"/><parameter id="Radius Gamma" value="2.5"/></parameters>',
oldphoto:'<parameters><parameter id="Contrast" value="0.2"/><parameter id="Glow Threshold" value="175"/><parameter id="Glow Radius" value="30"/><parameter id="Glow Intensity" value="0.2"/><parameter id="Grain Intensity" value="0.5"/><parameter id="Grain Size" value="1.2"/><parameter id="Grain Clumping Iterations" max="2" value="2"/><parameter id="Grain Clumping Strength" value="7"/><parameter id="Tint Color" value="52"/><parameter id="Add Dust" value="true"/><parameter id="Dust Amount" value="30"/><parameter id="Add Stains" value="true"/><parameter id="Add Dots" value="true"/><parameter id="Dots Random Seed" value="-147552578"/><parameter id="Dots Amount" value="3"/></parameters>',
retro:'<parameters><parameter id="Matte Padding" value="0.008"/><parameter id="Matte Color" value="-66590"/><parameter id="Matte Corner Radius" value="0.03"/><parameter id="Border Radius" value="30"/><parameter id="Border Intensity" value="1"/><parameter id="Color Effect Intensity" value="0.2"/><parameter id="Grain Intensity" value="0.1"/><parameter id="Grain Size" value="2"/><parameter id="Grain Clumping Iterations" value="4"/><parameter id="Grain Clumping Strength" value="6"/><parameter id="Tint Random Seed" value="-142803775"/><parameter id="TintIntensity" value="1"/><parameter id="Fuzziness" value="35"/><parameter id="Add Light Leak" value="false"/><parameter id="Add Dots" value="true"/><parameter id="Dots Amount" value="5"/><parameter id="Add Scratches" value="true"/><parameter id="Scratches Amount" value="1"/><parameter id="Add Wrinkles" value="true"/><parameter id="Add Stains" value="false"/><parameter id="Stain Amount" value="10"/><parameter id="Red Adjust" value="40"/><parameter id="Green Adjust" value="80"/><parameter id="Blue Adjust" value="3"/><parameter id="Red Contrast" value="0.6"/><parameter id="Green Contrast" value="0.6"/><parameter id="Blue Contrast" value="0.6"/><parameter id="Saturation" value="1"/></parameters>'};
AV.filterNameMap={toycamera:"Toy&nbsp;Camera",polaroid:"Instant!",oldphoto:"Old&nbsp;Photo",colorgrading:"Color&nbsp;Grading",vignetteblur:"Vignette&nbsp;Blur",colormatrix:"Color&nbsp;Matrix",filmgrain:"Film&nbsp;Grain",retro:"Retro"};AV.toolDefaults={redeye:{initialvalue:10},greeneye:{initialvalue:10},bulge:{radius:100,maxradius:200,power:50},pinch:{radius:100,maxradius:200,power:50},whiten:{initialvalue:10},blemish:{initialvalue:5},drawing:{width:10}};
AV.usageTracker={_uuid:null,usage:{},pagehits:[],pagecount:0,_prevpagehit:-1,dataver:1,clear:function(){this._uuid=null;this.usage={};this.pagehits=[];this.pagecount=0;this._prevpagehit=-1},getUUID:function(){if(this._uuid)return this._uuid;return this._uuid=Math.floor(Math.random()*4294967295).toString(16)+Math.floor(Math.random()*4294967295).toString(16)},addUsage:function(a,d){d||(d=1);if(this.usage[a]==undefined)this.usage[a]=d;else this.usage[a]+=d},setPageCount:function(a){var d;this.pagecount=
a;this.pagehits=Array(a);for(d=0;d<a;d++)this.pagehits[d]=0},addPageHit:function(a){a!=this._prevpagenum&&this.pagehits[a]++;this._prevpagenum=a},getJSONString:function(){var a,d,h,f;a='{"dataver":"'+this.dataver+'"';a+=',"opentype":"'+Feather_OpenType+'"';d="";for(f=0;f<this.pagecount;f++){if(f>0)d+=",";d+=this.pagehits[f]}a+=',"pagehits":['+d+"]";d="";for(h in this.usage)if(this.usage.hasOwnProperty(h)){if(d!="")d+=",";d+='"'+h+'":'+this.usage[h]}a+=',"toolusage":{'+d+"}";a+="}";return a},submit:function(a){if(typeof AV_imgtrackServer!=
"undefined"){avpw$("#avpw_track_form_action").val(a);avpw$("#avpw_track_form_sessionid").val(this.getUUID());switch(a){case "close":avpw$("#avpw_track_form_data").val(this.getJSONString());break;default:avpw$("#avpw_track_form_data").val("")}avpw$("#avpw_img_track_target_holder").html('<iframe width="1" height="1" style="position:absolute;left:-9999px;" id="avpw_img_track_target" name="avpw_img_track_target" src="'+AV_feather_baseURL+'blank.html"></iframe>');avpw$("#avpw_img_track_target").load(function(){setTimeout(function(){avpw$("#avpw_img_track_target_holder").empty()},
5)});avpw$("#avpw_track_form").submit()}}};
function AV_paintWidgetGetPopupEmbedDiv(a){var d,h,f,l=["top","left","bottom","right","margin-top","margin-right","margin-bottom","margin-left","border-top","border-right","border-bottom","border-left","padding-top","padding-right","padding-bottom","padding-left"];d=avpw$("#avpw_canvas_embed_popup");if(d.length==0){d=document.createElement("div");d.id="avpw_canvas_embed_popup"}h=avpw$(a).css("display");if(h==""||h=="inline")h="inline-block";avpw$(d).css("display",h);for(h=0;h<l.length;h++){f=l[h];
avpw$(d).css(f,avpw$(a).css(f))}avpw$(d).hide();avpw$(d).css("position","relative");avpw$(d).insertBefore(a);return d}
function AV_paintWidgetLauncher(a,d,h,f){if(!(typeof AV_paintWidget!="undefined"&&AV_paintWidget)){AV.usageTracker.clear();avpw$("#avpw_version").show();var l=AV__getInternetExplorerVersion();if(l>0&&l<9)document.getElementById("avpw_controls_2").onselectstart=function(){return false};return AV__featherUseFlash?AV_paintWidgetLauncher_Flash(a,d,h,f):AV_paintWidgetLauncher_HTML(a,d,h,f)}}function AV_mapToFlashToolName(a){switch(a){case "rotate":return"rotate90"}return a}
function AV_mapFromFlashToolName(a){switch(a){case "rotate90":return"rotate"}return a}function AV_getActiveTools(a,d){var h=a.split(","),f=[],l,n={},s;if(d)for(s=0;s<d.length;s++){l=d[s];n[l]=true}for(s=0;s<h.length;s++){l=h[s];if(!(d&&l in n)){switch(l){case "overlay":l="stickers";break;default:l=l}f.push(l)}}return f}
function AV_paintWidgetLauncher_Flash(a,d,h,f){function l(){avpw$(s).unbind("load",l);if(Feather_OpenType=="lightbox"||Feather_OpenType=="inject"){P=AV_controlsWidget.getScaledDims(s.width,s.height);O=P.width;X=P.height;avpw$(z).width(O);avpw$(z).height(X)}else if(Feather_OpenType=="popup"){O=n.width;X=n.height}AV_controlsWidget.setMinWidth(O);AV_paintWidget=new AV.PaintWidget(O,X);var ra=document.createElement("div");ra.id="canvasContent";avpw$(z).append(ra);Feather_OpenType=="popup"&&avpw$(n).hide();
for(var ja in AV_controlsWidget.activeTools)AV_paintWidget.moduleLoaded(AV_controlsWidget.activeTools[ja],function($){if($=="stickers")$="overlay";AV_controlsWidget.moduleNotify($,"init",[AV_controlsWidget])});for(ja=0;ja<ka.length;ja++){Z=ka[ja];M.push(AV_mapToFlashToolName(Z))}M=M.join(",");var xa={targets:[a.id],initsize:P,posturl_:Feather_PostURL,postdata_:h,partnerHash_:"",sessionID_:"",referrerUrl_:"",plugins:M,action:{type:Aviary.UPLOAD_TO_AVIARY,url:AV_imgrecvServer,name:"file"}};if(Feather_OpenType==
"inject"){avpw$("#"+f).append(avpw$("#avpw_holder"));avpw$("#avpw_holder").css("position","relative");avpw$("#avpw_controls").css("position","relative");if(da<0||da>=8){avpw$("#avpw_controls").css("top","inherit");avpw$("#avpw_controls").css("left","inherit");avpw$("#avpw_holder").css("text-align","inherit");avpw$("#avpw_controls").css("text-align","inherit")}avpw$("#avpw_controls").fadeIn(300)}else{avpw$("#avpw_controls").fadeIn(300);if(Feather_OpenType=="lightbox"){if(da>0&&da<9){avpw$("#avpw_fullscreen_bg").width(avpw$(document).width());
avpw$("#avpw_fullscreen_bg").height(avpw$(document).height());avpw$("#avpw_fullscreen_bg").css("filter","alpha(opacity=80)")}avpw$("#avpw_fullscreen_bg").fadeIn(300)}}Feather_NoCloseButton&&avpw$("#avpw_control_cancel_pane").css("display","none");setTimeout(function(){AviaryAPIActivate(xa);var $=Aviary.DOM.getNode(a);Aviary.API.startEditing($);AV_controlsWidget.initWithPaintWidget(AV_paintWidget);AV_controlsWidget.setPanelMode(null);AV_controlsWidget.loaderPhase=1},300)}var n=AV_getImageElem(a),s,
z,M=[],P,O,X,Z,da=AV__getInternetExplorerVersion(),ka=AV_getActiveTools(Feather_EditOptions,["whiten","barrel","bulge","pinch"]);Feather_OpenType=="popup"&&avpw$("#avpw_controls").draggable({handle:"#avpw_drag_handle",cursor:"pointer"});AV_controlsWidget=new AV.ControlsWidget(null,a,h,ka);avpw$(".avpw_isa_previewcanvas").hide();z=Feather_OpenType=="popup"?AV_paintWidgetGetPopupEmbedDiv(n):avpw$("#avpw_canvas_embed");avpw$(z).show();d=typeof AV_closureCompiled!="undefined"?"js/featherpaint_flash.js":
"js/paintwidget_glue.js";s=document.createElement("img");avpw$(s).css({display:"block",visibility:"hidden",position:"absolute"}).attr("src",avpw$(n).attr("src"));AV_loadFile(AV_feather_baseURL+d,"js",function(){AV_imgOnLoad(s,l)})}
function AV_paintWidgetLauncher_Flash_stage2(){AV_controlsWidget.loaderPhase=2;if(Feather_OpenType=="lightbox"||Feather_OpenType=="inject"){avpw$("#avpw_canvas_embed").width("auto");avpw$("#avpw_canvas_embed").height("auto")}AV_controlsWidget.showWaitThrobber(false);avpw$(AV_controlsWidget.onEggWaitThrobber).hide();AV_controlsWidget.showFlashThumbs(null,false);AV.usageTracker.submit("launch");AV_fireLaunchComplete()}
function AV_paintWidgetLauncher_HTML(a,d,h,f){var l=AV_getImageElem(a),n,s={},z,M,P=AV_getActiveTools(Feather_EditOptions);if(typeof l.avpw_prevURL!="undefined")d=l.avpw_prevURL;Feather_OpenType=="popup"&&avpw$("#avpw_controls").draggable({handle:"#avpw_drag_handle",cursor:"pointer"});AV_controlsWidget=new AV.ControlsWidget(null,a,h,P);AV_controlsWidget.origURL=d;if(Feather_OpenType=="inject"){avpw$("#"+f).append(avpw$("#avpw_holder"));avpw$("#avpw_holder").css("position","relative");avpw$("#avpw_holder").css("text-align",
"inherit");avpw$("#avpw_controls").css("position","relative");avpw$("#avpw_controls").css("text-align","inherit");avpw$("#avpw_controls").css("top","inherit");avpw$("#avpw_controls").fadeIn(300)}else{avpw$("#avpw_controls").fadeIn(300);Feather_OpenType=="lightbox"&&avpw$("#avpw_fullscreen_bg").fadeIn(300)}Feather_NoCloseButton&&avpw$("#avpw_control_cancel_pane").css("display","none");parent.addEventListener("message",AV__controlsWidget_imageSaveCB,false);z=typeof AV_closureCompiled!="undefined"?"js/featherpaint.js":
"js/paintwidget.js";embedElement=Feather_OpenType=="popup"?AV_paintWidgetGetPopupEmbedDiv(l):avpw$("#avpw_canvas_embed");n=document.createElement("img");n.id="avpw_temp_loading_image";AV_tempLoadingImage=n.src;avpw$(n).load(function(){function O(){avpw$(AV_controlsWidget.waitThrobber).unbind();topSpace=parseInt((s.height-AV_controlsWidget.waitThrobber.height)/2,10);leftSpace=parseInt((s.width-AV_controlsWidget.waitThrobber.width)/2,10);avpw$(AV_controlsWidget.waitThrobber).css({position:"absolute",
top:topSpace,left:leftSpace});avpw$(embedElement).append(AV_controlsWidget.waitThrobber)}if(Feather_OpenType=="lightbox"||Feather_OpenType=="inject"){M=AV_controlsWidget.getScaledDims(l.width,l.height);n.width=M.width;n.height=M.height}s.width=n.width;s.height=n.height;avpw$(n).unbind();avpw$(n).css("display","block");avpw$(embedElement).append(n);AV_controlsWidget.showWaitThrobber(true);AV_controlsWidget.waitThrobber.complete||AV_controlsWidget.waitThrobber.readyState===4?O():avpw$(AV_controlsWidget.waitThrobber).load(O);
Feather_OpenType=="popup"&&avpw$(l).hide();avpw$(embedElement).show();setTimeout(function(){typeof AV_closureCompiled!="undefined"?AV_loadFile(AV_feather_baseURL+z,"js",function(){AV_paintWidgetLauncher_stage2(a,d,h)}):AV_loadFile(AV_feather_baseURL+"js/json2.js","js",function(){AV_loadFile(AV_feather_baseURL+z,"js",function(){AV_paintWidgetLauncher_stage2(a,d,h)})})},5)});n.src=l.src;return false}
function AV_paintWidgetRelauncher(a,d){return AV__featherUseFlash?AV_paintWidgetRelauncher_Flash(a,d):AV_paintWidgetRelauncher_HTML(a,d)}
function AV_paintWidgetRelauncher_Flash(a){AV_controlsWidget.showView("main");AV_controlsWidget.setPanelMode(null);AV_controlsWidget.paintWidget.setMode(null);var d=document.createElement("img");avpw$(d).css("display","none");avpw$(document.documentElement).append(d);avpw$(d).load(function(){AV_controlsWidget.setMinWidth(avpw$(d).width());Aviary.API.restartEditing(d)});avpw$(d).attr("src",a)}
function AV_paintWidgetRelauncher_HTML(a,d){var h=AV_getImageElem(AV_controlsWidget.paintImgIdElem),f;for(f in AV_controlsWidget.activeTools){var l=AV_controlsWidget.activeTools[f];if(l=="stickers")l="overlay";AV_controlsWidget.moduleNotify(l,"shutdown")}var n=document.createElement("img");n.id="avpw_temp_loading_image";avpw$(n).load(function(){function s(){avpw$(AV_controlsWidget.waitThrobber).unbind();topSpace=parseInt((n.height-AV_controlsWidget.waitThrobber.height)/2,10);leftSpace=parseInt((n.width-
AV_controlsWidget.waitThrobber.width)/2,10);avpw$(AV_controlsWidget.waitThrobber).css({position:"absolute",top:topSpace,left:leftSpace});avpw$(z).append(AV_controlsWidget.waitThrobber)}AV_controlsWidget.showView("main");AV_controlsWidget.setPanelMode(null);AV_controlsWidget.paintWidget.setMode(null);var z=avpw$("#avpw_canvas_embed");avpw$(z).children().remove();AV_paintWidget.shutdown();AV_controlsWidget.paintWidget=null;AV_controlsWidget.unbindControls();AV.flashThumbSet.shutdown();avpw$(z).append(n);
avpw$(n).show();AV_controlsWidget.showWaitThrobber(true);AV_controlsWidget.waitThrobber.complete||AV_controlsWidget.waitThrobber.readyState===4?s():avpw$(AV_controlsWidget.waitThrobber).load(s);avpw$(z).show();AV_controlsWidget.setupFilterEggs();setTimeout(function(){AV_paintWidgetLauncher_stage2(h,a,d)},5)});n.src=AV_tempLoadingImageSrc;return false}
function AV_paintWidgetLauncher_stage2(a,d){var h=AV_getImageElem(a),f,l,n,s;if(Feather_OpenType=="lightbox"||Feather_OpenType=="inject"){l=AV_controlsWidget.getScaledDims(h.width,h.height);n=l.width;s=l.height}else if(Feather_OpenType=="popup"){n=h.width;s=h.height}AV_controlsWidget.loaderPhase=1;AV_controlsWidget.setMinWidth(n);AV_paintWidget=new AV.PaintWidget(n,s);AV_controlsWidget.initWithPaintWidget(AV_paintWidget);AV_controlsWidget.setPanelMode(AV_controlsStartingTab);if(d!=null)avpw$.ajax({type:"GET",
dataType:"json",url:AV__jsonp_imgserver+"?callback=?",data:{url:escape(d)},success:function(z){f=new Image;avpw$(f).load(function(){if(Feather_OpenType=="lightbox"){l=AV_controlsWidget.getScaledDims(f.width,f.height);f.width=l.width;f.height=l.height}AV_paintWidget.setDimensions(f.width,f.height);AV_paintWidget.setBackground(f);avpw$(AV_paintWidget.canvas).insertBefore("#avpw_temp_loading_image");avpw$("#avpw_temp_loading_image").remove();AV_tempLoadingImageSrc=d;AV_controlsWidget.showWaitThrobber(false);
AV_controlsWidget.loaderPhase=2}).attr("src",z.data)}});else{AV_paintWidget.setBackground(h);avpw$("#avpw_controls").insertAfter(AV_paintWidget.canvas);avpw$(AV_paintWidget.canvas).insertBefore("#avpw_temp_loading_image");avpw$("#avpw_temp_loading_image").remove();AV_tempLoadingImageSrc=h.src;AV_controlsWidget.showWaitThrobber(false);avpw$(AV_controlsWidget.onEggWaitThrobber).hide();AV_controlsWidget.loaderPhase=2}AV.usageTracker.submit("launch");AV_fireLaunchComplete();return false}
function AV_fireLaunchComplete(){typeof Feather_OnLaunchComplete==="function"&&Feather_OnLaunchComplete()}
function AV_paintWidgetShutdown(){var a;AV__featherUseFlash||parent.removeEventListener("message",AV__controlsWidget_imageSaveCB,false);avpw$("#avpw_controls").hide();AV__featherUseFlash&&Aviary.API.close();a=Feather_OpenType=="popup"?avpw$("#avpw_canvas_embed_popup"):avpw$("#avpw_canvas_embed");avpw$(a).children().remove();avpw$(a).hide();if(Feather_OpenType=="popup"){avpw$("#"+AV_controlsWidget.paintImgId).show();avpw$(AV_getImageElem(AV_controlsWidget.paintImgIdElem)).show()}typeof Feather_OnClose==
"function"&&Feather_OnClose(AV_paintWidget.dirty);AV_paintWidget.shutdown();AV_controlsWidget.shutdown();AV.flashThumbSet.shutdown();AV.usageTracker.submit("close");AV_tempLoadingImageSrc=AV_controlsWidget=AV_paintWidget=null}AV_paintWidgetCloser=function(a){if(a){avpw$("#avpw_controls").hide();Feather_OpenType=="lightbox"&&avpw$("#avpw_fullscreen_bg").hide();AV_paintWidgetShutdown()}else{avpw$("#avpw_controls").fadeOut(300,AV_paintWidgetShutdown);Feather_OpenType=="lightbox"&&avpw$("#avpw_fullscreen_bg").fadeOut(300)}};
AV_paintWidgetActivateTool=function(a){AV_controlsWidget.setActiveTool(a)};function AV__getDomain(a,d){var h,f,l;h=a.substr(0,7)=="http://"?7:a.substr(0,8)=="https://"?8:a.substr(0,6)=="ftp://"?6:0;f=a.indexOf("/",h);if(f==-1)f=a.length;if(d)h=h;else{l=a.lastIndexOf(".",f);l=a.lastIndexOf(".",l-1);h=l==-1?h:l+1}return a.substring(h,f)}
AV__controlsWidget_onImageSaved=function(a){typeof Feather_OnSave=="function"&&Feather_OnSave(AV_getImageId(AV_controlsWidget.paintImgIdElem),a);AV_getImageElem(AV_controlsWidget.paintImgIdElem).avpw_prevURL=a;AV_controlsWidget.showView("main");AV_controlsWidget.setPanelMode(null);AV_controlsWidget.paintWidget.setMode(null);AV_controlsWidget.setLastPanel("avpw_aviary_beensaved");AV_controlsWidget.paintWidget.dirty=false;setTimeout(function(){AV_controlsWidget.wasJustSaved=true;AV_controlsWidget.scrollPanelInfo.prevPanel=
AV_controlsWidget.scrollPanelInfo.curPanel;AV_controlsWidget.scrollMainTo(AV_controlsWidget.scrollPanelInfo.panelCount-1)},5)};AV__controlsWidget_imageSaveCB=function(a){var d=a.data,h;if(AV_feather_baseURL!=""){h=AV__getDomain(a.origin);if(h!="aviary.com"){a=AV__getDomain(AV_feather_baseURL);if(a==""||h=="")return;if(a!=h)return}}if(d.substr(0,5)=="avpw:"){url=d.substr(5);avpw$("#avpw_img_submit_target").unbind("load");avpw$("#avpw_img_submit_target_holder").empty();AV__controlsWidget_onImageSaved(url)}};
AV.ControlsWidget=function(a,d,h,f){this.maxHeight=this.maxWidth=parseInt(Feather_MaxSize);this.origURL=null;this.activeTools=f;this.wasJustSaved=false;this.quitCount=0;this.paintImgIdElem=d;this.postdata=h;this.curMode=null;this.setupScrollPanels();this.setLastPanel("avpw_aviary_about");this.scrollMain();this.setupFilterEggs();this.tool.crop.populateCropPulldown();AV__checkbox_style_startup();AV__dropdown_style_startup();this.showView("main",1);a&&this.initWithPaintWidget(a);this.waitThrobber=document.createElement("img");
this.waitThrobber.src=AV_feather_baseURL+"images/eggthrobber-"+AV_theme+".gif";this.onEggWaitThrobber=document.createElement("img");this.onEggWaitThrobber.src=AV_feather_baseURL+"images/eggthrobber-egg-"+AV_theme+".gif";avpw$(this.onEggWaitThrobber).addClass("avpw_on_egg_wait_throbber");this.onGoldEggWaitThrobber=document.createElement("img");this.onGoldEggWaitThrobber.src=AV_feather_baseURL+"images/eggthrobber-gold-"+AV_theme+".gif";avpw$(this.onGoldEggWaitThrobber).addClass("avpw_on_egg_wait_throbber")};
AV.ControlsWidget.prototype.tool={};AV.ControlsWidget.prototype.moduleNotify=function(a,d,h){if(typeof this.tool[a]=="object"){a=this.tool[a];if(typeof a[d]=="function"){d=a[d];h||(h=[]);return d.apply(a,h)}}return true};
AV.ControlsWidget.prototype.shutdown=function(){AV__checkbox_style_shutdown();AV__dropdown_style_shutdown();for(var a in this.activeTools){var d=this.activeTools[a];if(d=="stickers")d="overlay";this.moduleNotify(d,"shutdown")}this.unbindControls();this.paintWidget.showWaitThrobber=null;avpw$(this.waitThrobber).remove();this.waitThrobber=null;avpw$(this.onEggWaitThrobber).remove();this.onEggWaitThrobber=null;avpw$(this.onGoldEggWaitThrobber).remove();this.onGoldEggWaitThrobber=null;this.showPanel(null)};
AV.ControlsWidget.prototype.unbindControls=function(){avpw$("#avpw_controls_2").unbind();avpw$(".avpw_filter_thumb").unbind("click");avpw$("#avpw_control_undo").unbind("click");avpw$("#avpw_control_redo").unbind("click");avpw$("#avpw_save_button").unbind("click");avpw$("#avpw_control_cancel").unbind("click");avpw$("#avpw_all_effects").unbind("click");avpw$("#avpw_close_nosave").unbind();avpw$("#avpw_close_save").unbind();avpw$("#avpw_resume_editing").unbind();avpw$("#avpw_header").unbind();avpw$(".avpw_icon a").unbind("click");
avpw$(".avpw_is_navpip").unbind("click");avpw$("#avpw_lftArrow").unbind("click");avpw$("#avpw_rghtArrow").unbind("click");avpw$(".avpw_filter_eggs_panel_egg_holder").unbind()};
AV.ControlsWidget.prototype.initWithPaintWidget=function(a){this.paintWidget=a;avpw$(".avpw_is_navpip").click(function(h){this.scrollMainTo(avpw$(h.currentTarget).attr("pagenum"));return false}.AV_bindInst(this));a=function(){if(this.wasJustSaved||this.quitCount>0){this.quitCount=0;this.wasJustSaved=false;this.scrollMainTo(this.scrollPanelInfo.prevPanel,false,function(){this.setLastPanel("avpw_aviary_about")}.AV_bindInst(this))}else this.scrollMainDir(-1);return false}.AV_bindInst(this);avpw$("#avpw_lftArrow").click(a);
avpw$("#avpw_resume_editing").click(a);avpw$("#avpw_rghtArrow").click(function(){this.scrollMainDir(1);return false}.AV_bindInst(this));avpw$("#avpw_controls_2").mousedown(function(h){var f=h.target.tagName.toLowerCase();f!="input"&&f!="textarea"&&f!="object"&&h.preventDefault()});avpw$("#avpw_control_undo").click(this.undo.AV_bindInst(this));avpw$("#avpw_control_redo").click(this.redo.AV_bindInst(this));avpw$("#avpw_save_button").click(this.save.AV_bindInst(this));avpw$("#avpw_control_cancel").click(this.cancel.AV_bindInst(this));
avpw$("#avpw_close_save").click(this.save.AV_bindInst(this));avpw$("#avpw_close_nosave").click(this.cancel.AV_bindInst(this));avpw$("#avpw_all_effects").click(function(){this.scrollMain(true);this.showView("main");this.setPanelMode(null);this.paintWidget.setMode(null);return false}.AV_bindInst(this));avpw$("#avpw_header").click(function(){this.showView("main");this.setPanelMode(null);this.paintWidget.setMode(null);this.setLastPanel("avpw_aviary_about");setTimeout(function(){this.scrollPanelInfo.prevPanel=
this.scrollPanelInfo.curPanel;this.scrollMainTo(this.scrollPanelInfo.panelCount-1)}.AV_bindInst(this),5);return false}.AV_bindInst(this));if(!AV__featherUseFlash)for(var d in this.activeTools){a=this.activeTools[d];if(a=="stickers")a="overlay";this.tool.hasOwnProperty(a)&&this.moduleNotify(a,"init",[this])}avpw$(".avpw_icon a").each(function(h,f){var l=f.id.replace("avpw_main_","");avpw$(f).click(function(){this.setActiveTool(l,f);return false}.AV_bindInst(this))}.AV_bindInst(this));this.setPanelMode(AV_controlsStartingTab);
this.paintWidget.showWaitThrobber=this.showWaitThrobber.AV_bindInst(this)};
AV.ControlsWidget.prototype.setActiveTool=function(a,d){var h=function(){if(!this.paintWidget.busy){this.setPanelModeFromMain(a);avpw$(AV_controlsWidget.onEggWaitThrobber).hide();AV.usageTracker.addUsage(a)}}.AV_bindInst(this);if(!this.paintWidget.moduleLoaded(a=="overlay"?"stickers":a,h))if(d){avpw$(d).children(".avpw_main_egg_icon").append(this.onEggWaitThrobber);avpw$(this.onEggWaitThrobber).show();avpw$(this.onEggWaitThrobber).css({top:"1px",left:"3px",width:"37px",height:"46px"})}};
AV.ControlsWidget.prototype.setMinWidth=function(a){var d=AV__getInternetExplorerVersion();if(!(d<0||d>=8)){a=parseInt(a)+330;avpw$("#avpw_wrapper_1").css("min-width",a)}};AV.ControlsWidget.prototype.setActionListScaleFactor=function(a){a=Math.max(1,a/this.maxWidth);this.paintWidget.setActionListScaleFactor(a);return a};
AV.ControlsWidget.prototype.showWaitThrobber=function(a,d){var h,f;if(a){if(this.paintWidget){h=parseInt((this.paintWidget.canvas.height-this.waitThrobber.height)/2,10);f=parseInt((this.paintWidget.canvas.width-this.waitThrobber.width)/2,10);avpw$(this.waitThrobber).css({position:"absolute",top:h,left:f})}avpw$(this.waitThrobber).show()}else avpw$(this.waitThrobber).hide();d&&setTimeout(d,5)};
AV.ControlsWidget.prototype.panelMode2WidgetMode=function(a){switch(a){case "rotate":return"rotate90";case "filters":return null;case "greeneye":return"redeye";case "pinch":return"bulge"}return a};
AV.ControlsWidget.prototype.setPanelMode=function(a){var d;d=this.panelMode2WidgetMode(a);this.moduleNotify(this.curMode,"panelWillClose");this.moduleNotify(a,"panelWillOpen");a=="filters"&&this.setFilterPanelMode(null);this.resizeFlashThumbs(a);this.paintWidget.setMode(d);this.showPanel(a);this._resetUI(a);this.paintWidget.setCurrentLayerByName("background");this.moduleNotify(this.curMode,"panelDidClose");this.moduleNotify(a,"panelDidOpen");this.curMode=a};
AV.ControlsWidget.prototype.setPanelModeFromMain=function(a){this.showView("editpanel");this.setPanelMode(a)};
AV.ControlsWidget.prototype.showView=function(a,d){var h=200;if(d)h=d;switch(a){case "editpanel":if(d<=5){avpw$("#avpw_tool_main_container").hide();avpw$("#avpw_tool_options_container").show();avpw$("#avpw_filter_eggs_panel").hide()}else{avpw$("#avpw_tool_main_container").fadeOut(h);avpw$("#avpw_tool_options_container").fadeIn(h);avpw$("#avpw_filter_eggs_panel").fadeOut(h)}break;case "main":if(d<=5){avpw$("#avpw_tool_main_container").show();avpw$("#avpw_tool_options_container").hide();avpw$("#avpw_filter_eggs_panel").show()}else{avpw$("#avpw_tool_main_container").fadeIn(h);
avpw$("#avpw_tool_options_container").fadeOut(h);avpw$("#avpw_filter_eggs_panel").fadeIn(h)}}};AV.ControlsWidget.prototype.setNavPip=function(a){avpw$(".avpw_is_navpip").removeClass("avpw_page_selected");avpw$("#avpw_navpip_"+a).addClass("avpw_page_selected")};AV.ControlsWidget.prototype.scrollMainTo=function(a,d,h){this.scrollPanelInfo.curPanel=parseInt(a);this.scrollMain(d,h)};AV.ControlsWidget.prototype.scrollMainDir=function(a,d,h){this.scrollPanelInfo.curPanel+=a;this.scrollMain(d,h)};
AV.ControlsWidget.prototype.scrollMain=function(a,d){var h,f=avpw$("#avpw_control_main_scroll_panel");if(this.scrollPanelInfo.curPanel<0)this.scrollPanelInfo.curPanel=0;else if(this.scrollPanelInfo.curPanel>this.scrollPanelInfo.panelCount-1)this.scrollPanelInfo.curPanel=this.scrollPanelInfo.panelCount-1;AV.usageTracker.addPageHit(this.scrollPanelInfo.curPanel);h=this.scrollPanelInfo.curPanel*(this.scrollPanelInfo.widthPx+this.scrollPanelInfo.padding);a?avpw$(f).animate({scrollLeft:h},1,"swing",d):
avpw$(f).animate({scrollLeft:h},300,"swing",d);this.setNavPip(this.scrollPanelInfo.curPanel);if(this.scrollPanelInfo.curPanel==0){avpw$("#avpw_lftArrow").addClass("avpw_prev_disabled");avpw$("#avpw_lftArrow").removeClass("avpw_prev_enabled")}else{avpw$("#avpw_lftArrow").removeClass("avpw_prev_disabled");avpw$("#avpw_lftArrow").addClass("avpw_prev_enabled")}if(this.scrollPanelInfo.curPanel==this.scrollPanelInfo.panelCount-1){avpw$("#avpw_rghtArrow").addClass("avpw_next_disabled");avpw$("#avpw_rghtArrow").removeClass("avpw_next_enabled")}else{avpw$("#avpw_rghtArrow").removeClass("avpw_next_disabled");
avpw$("#avpw_rghtArrow").addClass("avpw_next_enabled")}};AV.ControlsWidget.prototype.scrollFilterTo=function(a,d,h){this.scrollFilterPanelInfo.curPanel=parseInt(a);this.scrollFilter(d,h)};AV.ControlsWidget.prototype.scrollFilterDir=function(a,d,h){this.scrollFilterPanelInfo.curPanel+=a;this.scrollFilter(d,h)};
AV.ControlsWidget.prototype.scrollFilter=function(a,d){var h,f=avpw$("#avpw_filter_control_main_scroll_panel");if(this.scrollFilterPanelInfo.curPanel<0)this.scrollFilterPanelInfo.curPanel=0;else if(this.scrollFilterPanelInfo.curPanel>this.scrollFilterPanelInfo.panelCount-1)this.scrollFilterPanelInfo.curPanel=this.scrollFilterPanelInfo.panelCount-1;h=avpw$(".avpw_filter_scroll_pane")[this.scrollFilterPanelInfo.curPanel];h=avpw$(h).position().left;a?avpw$(f).animate({scrollLeft:h},1,"swing",d):avpw$(f).animate({scrollLeft:h},
300,"swing",d);this.setNavPip(this.scrollFilterPanelInfo.curPanel);if(this.scrollFilterPanelInfo.curPanel==0){avpw$("#avpw_filter_lftArrow").addClass("avpw_prev_disabled");avpw$("#avpw_filter_lftArrow").removeClass("avpw_prev_enabled")}else{avpw$("#avpw_filter_lftArrow").removeClass("avpw_prev_disabled");avpw$("#avpw_filter_lftArrow").addClass("avpw_prev_enabled")}if(this.scrollFilterPanelInfo.curPanel==this.scrollFilterPanelInfo.panelCount-1){avpw$("#avpw_filter_rghtArrow").addClass("avpw_next_disabled");
avpw$("#avpw_filter_rghtArrow").removeClass("avpw_next_enabled")}else{avpw$("#avpw_filter_rghtArrow").removeClass("avpw_next_disabled");avpw$("#avpw_filter_rghtArrow").addClass("avpw_next_enabled")}};
AV.ControlsWidget.prototype.setupScrollPanels=function(){var a,d,h,f,l,n,s;this.scrollPanelInfo={};if(Feather_OpenType=="popup"){this.scrollPanelInfo.across=4;this.scrollPanelInfo.down=2}else{this.scrollPanelInfo.across=4;this.scrollPanelInfo.down=4}this.scrollPanelInfo.padding=5;this.scrollPanelInfo.curPanel=0;this.scrollPanelInfo.prevPanel=0;l=this.scrollPanelInfo.across*this.scrollPanelInfo.down;this.scrollPanelInfo.panelCount=parseInt((this.activeTools.length-1)/l)+1;this.scrollPanelInfo.panelCount++;
AV.usageTracker.setPageCount(this.scrollPanelInfo.panelCount);f="";for(a=0;a<this.scrollPanelInfo.panelCount-1;a++){f+='<div class="avpw_scrolling_region_panel">\n';for(h=d=a*l;h<d+l;h++){if(h<this.activeTools.length){n=this.activeTools[h];if(n=="stickers")n="overlay";s=n=="overlay"?"Stickers":n=="barrel"?"Bulge":n.substr(0,1).toUpperCase()+n.substr(1);f+='<div class="avpw_egg avpw_icon" id="avpw_main_icon_'+n+'">';f+='<a href="#" id="avpw_main_'+n+'"><div class="avpw_main_egg_icon" id="avpw_main_egg_icon_'+
n+'">';f+='</div><span class="avpw_icon_text_style">'+s+"</span></a>"}else f+='<div class="avpw_egg avpw_icon">\n';f+="</div>\n"}f+="</div>\n"}f+='<div class="avpw_scrolling_region_panel" style="margin-top:0px;">\n';f+='\t<div id="avpw_aviary_about" class="avpw_isa_last_panel">\n';f+='\t\t<div class="avpw_aviary_about_text_toppadding avpw_aviary_about_text avpw_aviary_about_text_style">Powered by Aviary.com</div>\n';f+='\t\t<div class="avpw_get_widget_top_margin avpw_iblock_center">\n';f+='\t\t\t<div style="display:inline-block">\n';
f+='\t\t\t\t<a href="'+AV__giveFeedbackURL+'" target="_blank"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_give_feedback"><div>give feedback</div></div></a>\n';f+="\t\t\t</div>\n";f+='\t\t\t<div style="display:inline-block">\n';f+='\t\t\t\t<a href="'+AV__getWidgetURL+'" target="_blank"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_embed_widget"><div>get this widget</div></div></a>\n';f+="\t\t\t</div>\n";f+="\t\t</div>\n";f+='\t\t<div style="height:10px;min-height:10px;font-size:1px;">&nbsp;</div>\n';
f+='\t\t<div class="avpw_aviary_about_feather"></div>\n';f+="\t</div>\n";f+='\t<div id="avpw_aviary_beensaved" class="avpw_isa_last_panel">\n';f+='\t\t<div class="avpw_aviary_about_text_toppadding avpw_aviary_about_text avpw_aviary_about_text_style">Your work was saved!</div>\n';f+='\t\t<div style="margin-top:5px;" class="avpw_iblock_center">\n';f+='\t\t\t<div style="display:inline-block">\n';f+='\t\t\t\t<a href="'+AV__getWidgetURL+'" target="_blank"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_embed_widget2"><div>get this widget</div></div></a>\n';
f+="\t\t\t</div>\n";f+="\t\t</div>\n";f+='\t\t<div class="avpw_aviary_about_feather"></div>\n';f+="\t</div>\n";f+='<div id="avpw_aviary_quitareyousure" class="avpw_isa_last_panel">';f+='<div class="avpw_aviary_savechanges_top avpw_aviary_about_text_small">Wait! You didn\'t save your work. Are you certain that you want to close this editor?</div>';f+='<div style="margin:0;border:0;">';f+='<div id="avpw_resumeclosesave_holder" style="text-align:center;width:100%;margin-bottom:10px;">';f+='<div style="display:inline-block"><a style="display:block;" href="#"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_resume_editing"><div>resume</div></div></a></div>\n';
f+='<div style="display:inline-block;"><a style="display:block;" href="#"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_close_nosave"><div>close</div></div></a></div>&nbsp;';f+='<div style="display:inline-block;"><a style="display:block;" href="#"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_close_save"><div>save</div></div></a></div>&nbsp;';f+="</div>";f+="</div>";f+="</div>";f+="</div>";avpw$("#avpw_control_main_scrolling_region").html(f);avpw$("#avpw_control_main_scrolling_region").width();
avpw$("#avpw_control_main_scrolling_region").css("width");avpw$("#avpw_control_main_scrolling_region").width((243+this.scrollPanelInfo.padding)*this.scrollPanelInfo.panelCount);this.scrollPanelInfo.widthPx=243;d="";for(a=0;a<this.scrollPanelInfo.panelCount;a++)d+='<li class="avpw_is_navpip" pagenum="'+a+'" id="avpw_navpip_'+a+'"><a href="#"></a></li>\n';avpw$("#avpw_tools_pager ul").html(d);this.setNavPip(this.scrollPanelInfo.curPanel)};
AV.ControlsWidget.prototype.setLastPanel=function(a){avpw$(".avpw_isa_last_panel").hide();avpw$("#"+a).show()};
AV.ControlsWidget.prototype.setFilterPanelMode=function(a){if(a){avpw$(".avpw_filter_thumb").hide();avpw$(".avpw_filter_thumb").removeClass("avpw_filter_thumb_panelmode");avpw$("#avpw_"+a+"_thumb").show();avpw$(".avpw_filter_thumb").addClass("avpw_filter_thumb_panelmode");avpw$(".avpw_filterpanel").hide();avpw$("#avpw_filterpanel_"+a).show()}else{avpw$(".avpw_filterpanel").hide();avpw$(".avpw_filter_thumb").show();avpw$(".avpw_filter_thumb").removeClass("avpw_filter_thumb_panelmode")}};
AV.ControlsWidget.prototype.setupFilterEggs=function(){var a,d=["polaroid","toycamera","oldphoto","retro"],h,f,l;for(a=0;a<d.length;a++){h=d[a];f="#avpw_effects_egg"+a;avpw$(f+" .avpw_filter_text").html(AV.filterNameMap[h]);avpw$(f+" .avpw_filter_egg_icon");avpw$(f+" .avpw_filter_egg_icon").addClass("avpw_filter_egg_icon_"+h);avpw$(f).data("avpw_filter_name",h);avpw$(f).click(function(n){var s=function(){avpw$(AV_controlsWidget.onGoldEggWaitThrobber).hide()}.AV_bindInst(this);this.paintWidget.moduleLoaded("flashfilter",
function(){if(!this.paintWidget.busy){l=avpw$(n.currentTarget).data("avpw_filter_name");setTimeout(function(){this.flashFilterExec(l,Feather_Filter_Params[l],s)}.AV_bindInst(this),5)}}.AV_bindInst(this));avpw$(this.onGoldEggWaitThrobber).show();this.paintWidget.busy||avpw$(n.currentTarget).children(".avpw_filter_eggs_panel_eh_egg").append(this.onGoldEggWaitThrobber);avpw$(this.onGoldEggWaitThrobber).css({top:"2px",left:"7px",width:"33px",height:"44px"});return false}.AV_bindInst(this))}};
AV.ControlsWidget.prototype.populateSizePulldownPresets=function(a,d){var h,f,l,n=this.paintWidget.canvas.width,s=this.paintWidget.canvas.height,z=avpw$("#"+a+" .avpw_dropdown_body_entry");for(i=0;i<z.length;i++){(h=avpw$(z[i]).val())||(h=avpw$(z[i]).attr("value"));f=h.indexOf(",");if(f!=-1){l=h.substr(0,f);h=h.substr(f+1);l=parseInt(l);h=parseInt(h);f=true;switch(d){case "cursizespect":if(s>n&&l>h)f=false;if(n>s&&h>l)f=false;if(l>n||h>s)f=false;break;case "cursize":if(l>n||h>s)f=false;break;case "maxspect":if(s>
n&&l>h)f=false;if(n>s&&h>l)f=false;if(l>this.maxWidth||h>this.maxHeight)f=false;break;case "max":if(l>this.maxWidth||h>this.maxHeight)f=false}f?avpw$(z[i]).show():avpw$(z[i]).hide()}}AV__dropdown_style_reset(a,false)};AV.ControlsWidget.prototype._drawUICircle=function(a,d,h,f,l){AV__featherUseFlash?this._drawUICircle_Flash(a,d,h,f,l):this._drawUICircle_HTML(a,d,h,f,l)};
AV.ControlsWidget.prototype._drawUICircle_Flash=function(a,d,h,f,l){d=parseInt(d);h=AV__color_to_int(h);if(f=="transparent"){a=true;f=0}else{a=false;f=f?parseInt(f.slice(1),16):16777215}if(l){l=parseInt(l);l/=10}else l=0;AV_getFlashMovie("thumb1").setBrushThumb(d,h,f,l,a)};
AV.ControlsWidget.prototype._drawUICircle_HTML=function(a,d,h,f,l){if(l!=null&&f!="transparent")return this._drawUICircleSoft(a,d,h,f,l);a=avpw$(a)[0];l=a.getContext("2d");l.globalCompositeOperation="copy";l.clearRect(0,0,a.width,a.height);l.globalCompositeOperation="source-over";l.beginPath();l.strokeStyle=h!=null?h=="transparent"||AV__color_is_white(h)||f==null?"#444":h:"rgba(0,0,0,0)";l.lineWidth=3;l.arc(a.width/2,a.height/2,d,0,6.2831852,false);l.closePath();l.stroke();if(f!=null){l.save();l.clip();
if(f=="transparent")this._drawUIGrid(l,a.width,a.height);else{l.fillStyle=f;l.fillRect(0,0,a.width,a.height)}l.restore()}};
AV.ControlsWidget.prototype._drawUICircleSoft=function(a,d,h,f){h=this.paintWidget.module_drawing.getHardFactor();var l=avpw$(a)[0];a=l.getContext("2d");d=d*2;var n=l.width/2,s=l.height/2;l.width=l.width;this._drawUIGrid(a,l.width,l.height);h=Math.max(2,d*h);h=(h+d)*0.5;a.lineWidth=h;a.shadowBlur=d-h;a.shadowOffsetX=-100;a.shadowOffsetY=-100;a.lineCap="round";a.lineJoin="round";a.fillStyle=f;a.strokeStyle=f;a.shadowColor=a.strokeStyle;a.beginPath();a.moveTo(n+0.01+100,s+100);a.lineTo(n+100,s+100);
a.stroke();a.closePath()};AV.ControlsWidget.prototype._drawUIGrid=function(a,d,h,f){var l;f||(f=5);for(l=0;l<h+f;l+=f)for(d=0;d<h+f;d+=f){a.fillStyle=(d+l&1)==1?"#fff":"#ddd";a.fillRect(d,l,f,f)}};AV.ControlsWidget.prototype.showPanel=function(a){if(a!=null){avpw$(".avpw_controlpanel").each(function(){avpw$(this).hide()});avpw$("#avpw_controlpanel_"+a).show()}};
AV.ControlsWidget.prototype._doFiltersThumbs=function(){var a,d;this.paintWidget.setMode("flashfilter");for(a=0;a<this.activeFilterOptions.length;a++){d=this.activeFilterOptions[a];this.paintWidget.module_flashfilter.makeThumb(avpw$("#avpw_"+d+"_thumb")[0],d)}this.paintWidget.setMode(null)};
AV.ControlsWidget.prototype.flashFilterExec=function(a,d,h){AV.usageTracker.addUsage("filter_"+a);this.paintWidget.setMode("flashfilter");this.paintWidget.module_flashfilter.flashFilter(a,d,true,h);this.setFilterPanelMode(null);return false};
AV.ControlsWidget.prototype.showFlashThumbs=function(a,d){if(AV__featherUseFlash){var h,f,l,n;h=a?avpw$("#avpw_controlpanel_"+a+" .avpw_flashthumb_holder"):avpw$(".avpw_flashthumb_holder");d?avpw$(h).each(function(s,z){s+=1;f="thumb"+s;n=AV_getFlashMovie(f);n.width=avpw$(z).width();n.height=avpw$(z).height();l=avpw$(z).offset();l.top+=1;l.left+=1;avpw$("#"+f).offset(l)}):avpw$(h).each(function(s){s+=1;f="thumb"+s;avpw$("#"+f).offset({top:-9999,left:-9999})})}};
AV.ControlsWidget.prototype.resizeFlashThumbs=function(a){if(AV__featherUseFlash){var d,h;a=avpw$("#avpw_controlpanel_"+a+" .avpw_flashthumb_holder");avpw$(a).each(function(f,l){f+=1;d="thumb"+f;h=AV_getFlashMovie(d);var n=avpw$(l).attr("width"),s=avpw$(l).attr("height");n||(n=avpw$(l).width());s||(s=avpw$(l).height());if(n&&s){h.width=n;h.height=s}})}};
AV.ControlsWidget.prototype.tool.flip={flipNone_flash:function(){this.controls.paintWidget.module_flip.flashFlip(false,false)},flipHoriz_flash:function(){this.controls.paintWidget.module_flip.flashFlip(true,false)},flipVert_flash:function(){this.controls.paintWidget.module_flip.flashFlip(false,true)},flipBoth_flash:function(){this.controls.paintWidget.module_flip.flashFlip(true,true)},init:function(a){var d=this;this.controls=a;this.flippedV=this.flippedH=false;avpw$("#avpw_flip_none_thumb").click(function(){if(d.flippedV){a.paintWidget.module_flip.vflip(true);
d.flippedV=!d.flippedV}if(d.flippedH){a.paintWidget.module_flip.hflip(true);d.flippedH=!d.flippedH}return false});avpw$("#avpw_flip_horizontal_thumb").click(function(){if(d.flippedV){a.paintWidget.module_flip.vflip(true);d.flippedV=!d.flippedV}if(!d.flippedH){a.paintWidget.module_flip.hflip(true);d.flippedH=!d.flippedH}return false});avpw$("#avpw_flip_vertical_thumb").click(function(){if(!d.flippedV){a.paintWidget.module_flip.vflip(true);d.flippedV=!d.flippedV}if(d.flippedH){a.paintWidget.module_flip.hflip(true);
d.flippedH=!d.flippedH}return false});avpw$("#avpw_flip_both_thumb").click(function(){if(!d.flippedV){a.paintWidget.module_flip.vflip(true);d.flippedV=!d.flippedV}if(!d.flippedH){a.paintWidget.module_flip.hflip(true);d.flippedH=!d.flippedH}return false})},panelWillOpen:function(){this.flippedV=this.flippedH=false},panelDidOpen:function(){this.controls.showFlashThumbs("flip",true);AV.flashThumbSet.addListener("thumb1",this.flipNone_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb2",this.flipHoriz_flash.AV_bindInst(this));
AV.flashThumbSet.addListener("thumb3",this.flipVert_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb4",this.flipBoth_flash.AV_bindInst(this))},panelWillClose:function(){this.controls.showFlashThumbs("flip",false);AV.flashThumbSet.removeAllListeners()},resetUI:function(){var a=this.controls.paintWidget.module_flip;a.makeThumb(avpw$("#avpw_flip_none_thumb")[0],false,false);a.makeThumb(avpw$("#avpw_flip_horizontal_thumb")[0],true,false);a.makeThumb(avpw$("#avpw_flip_vertical_thumb")[0],false,
true);a.makeThumb(avpw$("#avpw_flip_both_thumb")[0],true,true)},shutdown:function(){avpw$("#avpw_flip_none_thumb").unbind("click");avpw$("#avpw_flip_horizontal_thumb").unbind("click");avpw$("#avpw_flip_vertical_thumb").unbind("click");avpw$("#avpw_flip_both_thumb").unbind("click");this.controls=null}};
AV.ControlsWidget.prototype.tool.redeye={init:function(a){this.controls=a;var d=AV.toolDefaults.redeye.initialvalue,h=false;a.paintWidget.module_redeye.radius=d;h=true;avpw$("#avpw_redeye_slider").slider({range:"min",value:d,max:20,min:3,slide:function(f,l){h||a._drawUICircle("#avpw_redeye_ui_circle",l.value,"#444")},change:function(f,l){a.paintWidget.module_redeye.setRadius(l.value)}});h=false},shutdown:function(){avpw$("#avpw_redeye_slider").unbind("slide");avpw$("#avpw_redeye_slider").unbind("slidechange");
avpw$("#avpw_redeye_slider").slider({slide:null,change:null});this.controls=null},panelDidOpen:function(){this.controls.showFlashThumbs("redeye",true);var a=avpw$("#avpw_redeye_slider").slider("value");this.controls.paintWidget.module_redeye.setRadius(a);this.controls._drawUICircle("#avpw_redeye_ui_circle",a,"#444")},panelWillOpen:function(){this.controls.paintWidget.module_redeye.mode="redeye"},panelWillClose:function(){this.controls.showFlashThumbs("redeye",false);AV.flashThumbSet.removeAllListeners()}};
AV.ControlsWidget.prototype.tool.bulge={init:function(a){this.controls=a;var d=AV.toolDefaults.bulge.radius,h=AV.toolDefaults.bulge.maxradius,f=AV.toolDefaults.bulge.power;a.paintWidget.module_bulge.radius=d;a.paintWidget.module_bulge.power=f;avpw$("#avpw_bulge_slider_radius").slider({range:"min",value:d,max:h,min:3,slide:function(){},change:function(l,n){a.paintWidget.module_bulge.radius=n.value}});avpw$("#avpw_bulge_slider_power").slider({range:"min",value:f,max:100,min:0,change:function(l,n){a.paintWidget.module_bulge.power=
n.value}})},panelWillOpen:function(){this.controls.paintWidget.module_bulge.radius=avpw$("#avpw_bulge_slider_radius").slider("value");this.controls.paintWidget.module_bulge.power=avpw$("#avpw_bulge_slider_power").slider("value");this.controls.paintWidget.setMode("flatten");this.controls.paintWidget.module_flatten.flatten();this.controls.paintWidget.actionImplicit(true)},panelWillClose:function(){this.controls.paintWidget.undoImplicitActions(true)},shutdown:function(){avpw$("#avpw_bulge_slider_radius").unbind("slide");
avpw$("#avpw_bulge_slider_radius").unbind("slidechange");avpw$("#avpw_bulge_slider_radius").slider({slide:null,change:null});avpw$("#avpw_bulge_slider_power").unbind("slide");avpw$("#avpw_bulge_slider_power").unbind("slidechange");avpw$("#avpw_bulge_slider_power").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.pinch={init:function(a){this.controls=a;var d=AV.toolDefaults.pinch.radius,h=AV.toolDefaults.pinch.maxradius,f=AV.toolDefaults.pinch.power;a.paintWidget.module_bulge.radius=d;a.paintWidget.module_bulge.power=f;avpw$("#avpw_pinch_slider_radius").slider({range:"min",value:d,max:h,min:3,slide:function(){},change:function(l,n){a.paintWidget.module_bulge.radius=n.value}});avpw$("#avpw_pinch_slider_power").slider({range:"min",value:f,max:100,min:0,change:function(l,n){a.paintWidget.module_bulge.power=
-n.value}})},panelWillOpen:function(){this.controls.paintWidget.module_bulge.radius=avpw$("#avpw_pinch_slider_radius").slider("value");this.controls.paintWidget.module_bulge.power=-avpw$("#avpw_pinch_slider_power").slider("value");this.controls.paintWidget.setMode("flatten");this.controls.paintWidget.module_flatten.flatten();this.controls.paintWidget.actionImplicit(true)},panelWillClose:function(){this.controls.paintWidget.undoImplicitActions(true)},shutdown:function(){avpw$("#avpw_pinch_slider_radius").unbind("slide");
avpw$("#avpw_pinch_slider_radius").unbind("slidechange");avpw$("#avpw_pinch_slider_radius").slider({slide:null,change:null});avpw$("#avpw_pinch_slider_power").unbind("slide");avpw$("#avpw_pinch_slider_power").unbind("slidechange");avpw$("#avpw_pinch_slider_power").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.whiten={init:function(a){this.controls=a;var d=AV.toolDefaults.whiten.initialvalue;avpw$("#avpw_whiten_slider").slider({range:"min",value:d,max:20,min:3,slide:function(h,f){a._drawUICircle("#avpw_whiten_ui_circle",f.value,"#444")},change:function(h,f){a.paintWidget.module_whiten.radius=f.value}});a._drawUICircle("#avpw_whiten_ui_circle",d,"#444");a.paintWidget.module_whiten.radius=d},shutdown:function(){avpw$("#avpw_whiten_slider").unbind("slide");avpw$("#avpw_whiten_slider").unbind("slidechange");
avpw$("#avpw_whiten_slider").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.greeneye={init:function(a){var d=this,h=AV.toolDefaults.greeneye.initialvalue;this.controls=a;avpw$("#avpw_greeneye_slider").slider({range:"min",value:h,max:20,min:3,slide:function(f,l){d.controls._drawUICircle("#avpw_greeneye_ui_circle",l.value,"#444")},change:function(f,l){d.controls.paintWidget.module_redeye.radius=l.value}});a._drawUICircle("#avpw_greeneye_ui_circle",h,"#444")},panelWillOpen:function(){this.controls.paintWidget.module_redeye.mode="greeneye"},shutdown:function(){this.controls=
null;avpw$("#avpw_greeneye_slider").unbind("slide");avpw$("#avpw_greeneye_slider").unbind("slidechange");avpw$("#avpw_greeneye_slider").slider({slide:null,change:null})}};
AV.ControlsWidget.prototype.tool.blemish={init:function(a){this.controls=a;var d=false,h=AV.toolDefaults.blemish.initialvalue;d=true;avpw$("#avpw_blemish_slider").slider({range:"min",value:h,max:20,min:3,slide:function(f,l){var n=l.value;d||a._drawUICircle("#avpw_blemish_ui_circle",n,"#444")},change:function(f,l){a.paintWidget.module_blemish.setRadius(l.value)}});d=false},panelDidOpen:function(){this.controls.showFlashThumbs("blemish",true);var a=avpw$("#avpw_blemish_slider").slider("value");this.controls.paintWidget.module_blemish.setRadius(a);
this.controls._drawUICircle("#avpw_blemish_ui_circle",a,"#444")},panelWillClose:function(){this.controls.showFlashThumbs("blemish",false)},shutdown:function(){avpw$("#avpw_blemish_slider").unbind("slide");avpw$("#avpw_blemish_slider").unbind("slidechange");avpw$("#avpw_blemish_slider").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.barrel={init:function(a){var d=this;this.controls=a;this.ignoreslider=this.dirty=false;avpw$("#avpw_barrel_slider").slider({range:"min",max:100,min:-100,change:function(h,f){if(d.ignoreslider)return true;avpw$("#avpw_barrel_slider").slider("option","value");d.controls.paintWidget.module_barrel.set(f.value,true);d.dirty=true}});avpw$("#avpw_barrel_thumb1").click(function(){avpw$("#avpw_barrel_slider").slider("value",-100)});avpw$("#avpw_barrel_thumb2").click(function(){avpw$("#avpw_barrel_slider").slider("value",
-33)});avpw$("#avpw_barrel_thumb3").click(function(){avpw$("#avpw_barrel_slider").slider("value",33)});avpw$("#avpw_barrel_thumb4").click(function(){avpw$("#avpw_barrel_slider").slider("value",100)})},commit:function(){this.controls.paintWidget.module_barrel.commit()},cancel:function(){this.controls.paintWidget.module_barrel.reset();this.resetUI();this.dirty=false},panelWillClose:function(){if(this.dirty){this.commit();this.dirty=false}},onUndo:function(){if(this.dirty){this.cancel();return false}},
onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=true;avpw$("#avpw_barrel_slider").slider("option","value",0);this.ignoreslider=false;this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb1")[0],-100);this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb2")[0],-33);this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb3")[0],33);this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb4")[0],
100)},shutdown:function(){this.controls=null;avpw$("#avpw_barrel_slider").unbind("slidechange");avpw$("#avpw_barrel_slider").slider({slide:null,change:null});avpw$("#avpw_barrel_thumb1").unbind("click");avpw$("#avpw_barrel_thumb2").unbind("click");avpw$("#avpw_barrel_thumb3").unbind("click");avpw$("#avpw_barrel_thumb4").unbind("click")}};
AV.ControlsWidget.prototype.tool.sharpen={thumb1Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",0)},thumb2Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",33)},thumb3Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",66)},thumb4Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",100)},init:function(a){var d=this;this.controls=a;this.ignoreslider=this.dirty=false;avpw$("#avpw_sharpen_slider").slider({range:"min",max:100,min:0,change:function(h,f){if(!d.ignoreslider){avpw$("#avpw_sharpen_slider").slider("option",
"value");a.paintWidget.module_sharpen.set(f.value,true);d.dirty=true}}});avpw$("#avpw_sharpen_thumb1").click(this.thumb1Hit);avpw$("#avpw_sharpen_thumb2").click(this.thumb2Hit);avpw$("#avpw_sharpen_thumb3").click(this.thumb3Hit);avpw$("#avpw_sharpen_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_sharpen.commit()},cancel:function(){this.controls.paintWidget.module_sharpen.reset();this.resetUI();this.dirty=false},panelWillOpen:function(){this.dirty=false},panelDidOpen:function(){this.controls.showFlashThumbs("sharpen",
true);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){this.dirty&&this.commit();this.dirty=false;this.controls.showFlashThumbs("sharpen",false);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty){this.cancel();if(!AV__featherUseFlash)return false}},onRedo:function(){this.dirty&&this.cancel()},
resetUI:function(){this.ignoreslider=true;avpw$("#avpw_sharpen_slider").slider("option","value",0);this.ignoreslider=false;this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb1")[0],0);this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb2")[0],33);this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb3")[0],67);this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb4")[0],100)},shutdown:function(){avpw$("#avpw_sharpen_slider").unbind("slidechange");
avpw$("#avpw_sharpen_slider").slider({slide:null,change:null});avpw$("#avpw_sharpen_thumb1").unbind();avpw$("#avpw_sharpen_thumb2").unbind();avpw$("#avpw_sharpen_thumb3").unbind();avpw$("#avpw_sharpen_thumb4").unbind();this.controls=null}};
AV.ControlsWidget.prototype.tool.saturation={thumb1Hit:function(){avpw$("#avpw_saturation_slider").slider("value",0)},thumb2Hit:function(){avpw$("#avpw_saturation_slider").slider("value",66)},thumb3Hit:function(){avpw$("#avpw_saturation_slider").slider("value",133)},thumb4Hit:function(){avpw$("#avpw_saturation_slider").slider("value",200)},init:function(a){var d=this;this.ignoreslider=false;this.controls=a;this.dirty=false;avpw$("#avpw_saturation_slider").slider({range:"min",max:200,min:0,change:function(h,
f){if(d.ignoreslider)return true;avpw$("#avpw_saturation_slider").slider("option","value");a.paintWidget.module_saturation.set(f.value/100,true);d.dirty=true}});avpw$("#avpw_saturation_thumb1").click(this.thumb1Hit);avpw$("#avpw_saturation_thumb2").click(this.thumb2Hit);avpw$("#avpw_saturation_thumb3").click(this.thumb3Hit);avpw$("#avpw_saturation_thumb4").click(this.thumb4Hit)},shutdown:function(){avpw$("#avpw_saturation_slider").unbind("slidechange");avpw$("#avpw_saturation_slider").slider({slide:null,
change:null});avpw$("#avpw_saturation_thumb1").unbind("click");avpw$("#avpw_saturation_thumb2").unbind("click");avpw$("#avpw_saturation_thumb3").unbind("click");avpw$("#avpw_saturation_thumb4").unbind("click");this.controls=null},commit:function(){this.controls.paintWidget.module_saturation.commit();return false},cancel:function(){this.controls.paintWidget.module_saturation.reset();this.resetUI();return this.dirty=false},panelDidOpen:function(){this.controls.showFlashThumbs("saturation",true);AV.flashThumbSet.addListener("thumb1",
this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty){this.commit();this.dirty=false}this.controls.showFlashThumbs("saturation",false);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty){this.cancel();if(!AV__featherUseFlash)return false}},onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=
true;avpw$("#avpw_saturation_slider").slider("option","value",100);this.ignoreslider=false;var a=this.controls.paintWidget.module_saturation;a.makeThumb(avpw$("#avpw_saturation_thumb1")[0],0);a.makeThumb(avpw$("#avpw_saturation_thumb2")[0],0.66);a.makeThumb(avpw$("#avpw_saturation_thumb3")[0],1.33);a.makeThumb(avpw$("#avpw_saturation_thumb4")[0],2)}};
AV.ControlsWidget.prototype.tool.brightness={thumb1Hit:function(){avpw$("#avpw_brightness_slider").slider("value",33)},thumb2Hit:function(){avpw$("#avpw_brightness_slider").slider("value",77)},thumb3Hit:function(){avpw$("#avpw_brightness_slider").slider("value",122)},thumb4Hit:function(){avpw$("#avpw_brightness_slider").slider("value",166)},init:function(a){var d=this;this.controls=a;this.dirty=this.ignoreslider=false;avpw$("#avpw_brightness_slider").slider({range:"min",max:166,min:33,change:function(h,
f){if(d.ignoreslider)return true;avpw$("#avpw_brightness_slider").slider("option","value");d.controls.paintWidget.module_brightness.set(f.value/100,1,true);d.dirty=true}});avpw$("#avpw_brightness_thumb1").click(this.thumb1Hit);avpw$("#avpw_brightness_thumb2").click(this.thumb2Hit);avpw$("#avpw_brightness_thumb3").click(this.thumb3Hit);avpw$("#avpw_brightness_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_brightness.commit()},cancel:function(){this.controls.paintWidget.module_brightness.reset();
this.resetUI();this.dirty=false},panelDidOpen:function(){this.controls.showFlashThumbs("brightness",true);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty){this.commit();this.dirty=false}this.controls.showFlashThumbs("brightness",false);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty){this.cancel();
if(!AV__featherUseFlash)return false}},onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=true;avpw$("#avpw_brightness_slider").slider("option","value",100);this.ignoreslider=false;this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb1")[0],0.33,1);this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb2")[0],0.77,1);this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb3")[0],1.22,
1);this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb4")[0],1.66,1)},shutdown:function(){this.controls=null;avpw$("#avpw_brightness_slider").unbind("slidechange");avpw$("#avpw_brightness_slider").slider({slide:null,change:null});avpw$("#avpw_brightness_thumb1").unbind("click");avpw$("#avpw_brightness_thumb2").unbind("click");avpw$("#avpw_brightness_thumb3").unbind("click");avpw$("#avpw_brightness_thumb4").unbind("click")}};
AV.ControlsWidget.prototype.tool.contrast={thumb1Hit:function(){avpw$("#avpw_contrast_slider").slider("value",33)},thumb2Hit:function(){avpw$("#avpw_contrast_slider").slider("value",77)},thumb3Hit:function(){avpw$("#avpw_contrast_slider").slider("value",122)},thumb4Hit:function(){avpw$("#avpw_contrast_slider").slider("value",166)},init:function(a){var d=this;this.controls=a;this.dirty=this.ignoreslider=false;avpw$("#avpw_contrast_slider").slider({range:"min",max:166,min:33,change:function(h,f){if(d.ignoreslider)return true;
avpw$("#avpw_contrast_slider").slider("option","value");d.controls.paintWidget.module_contrast.set(1,f.value/100,true);d.dirty=true}});avpw$("#avpw_contrast_thumb1").click(this.thumb1Hit);avpw$("#avpw_contrast_thumb2").click(this.thumb2Hit);avpw$("#avpw_contrast_thumb3").click(this.thumb3Hit);avpw$("#avpw_contrast_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_contrast.commit()},cancel:function(){this.controls.paintWidget.module_contrast.reset();this.resetUI();
this.dirty=false},panelDidOpen:function(){this.controls.showFlashThumbs("contrast",true);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty){this.commit();this.dirty=false}this.controls.showFlashThumbs("contrast",false);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty){this.cancel();
if(!AV__featherUseFlash)return false}},onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=true;avpw$("#avpw_contrast_slider").slider("option","value",100);this.ignoreslider=false;this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb1")[0],1,0.33);this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb2")[0],1,0.77);this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb3")[0],1,1.22);this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb4")[0],
1,1.66)},shutdown:function(){this.controls=null;avpw$("#avpw_contrast_slider").unbind("slidechange");avpw$("#avpw_contrast_slider").slider({slide:null,change:null});avpw$("#avpw_contrast_thumb1").unbind("click");avpw$("#avpw_contrast_thumb2").unbind("click");avpw$("#avpw_contrast_thumb3").unbind("click");avpw$("#avpw_contrast_thumb4").unbind("click")}};
AV.ControlsWidget.prototype.tool.blur={thumb1Hit:function(){avpw$("#avpw_blur_slider").slider("value",0)},thumb2Hit:function(){avpw$("#avpw_blur_slider").slider("value",5)},thumb3Hit:function(){avpw$("#avpw_blur_slider").slider("value",10)},thumb4Hit:function(){avpw$("#avpw_blur_slider").slider("value",15)},init:function(a){var d=this;this.controls=a;this.dirty=this.ignoreslider=false;avpw$("#avpw_blur_slider").slider({range:"min",max:15,min:0,change:function(h,f){if(d.ignoreslider)return true;avpw$("#avpw_blur_slider").slider("option",
"value");d.controls.paintWidget.module_blur.set(f.value,true);d.dirty=true}});avpw$("#avpw_blur_thumb1").click(this.thumb1Hit);avpw$("#avpw_blur_thumb2").click(this.thumb2Hit);avpw$("#avpw_blur_thumb3").click(this.thumb3Hit);avpw$("#avpw_blur_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_blur.commit()},cancel:function(){this.controls.paintWidget.module_blur.reset();this.resetUI();this.dirty=false},panelWillOpen:function(){this.dirty=false},panelDidOpen:function(){this.controls.showFlashThumbs("blur",
true);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty){this.commit();this.dirty=false}this.controls.showFlashThumbs("blur",false);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty){this.cancel();if(!AV__featherUseFlash)return false}},onRedo:function(){this.dirty&&this.cancel()},
resetUI:function(){this.ignoreslider=true;avpw$("#avpw_blur_slider").slider("option","value",0);this.ignoreslider=false;this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb1")[0],0);this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb2")[0],2);this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb3")[0],4);this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb4")[0],6)},shutdown:function(){this.controls=null;avpw$("#avpw_blur_slider").unbind("slidechange");
avpw$("#avpw_blur_slider").slider({slide:null,change:null});avpw$("#avpw_blur_thumb1").unbind("click");avpw$("#avpw_blur_thumb2").unbind("click");avpw$("#avpw_blur_thumb3").unbind("click");avpw$("#avpw_blur_thumb4").unbind("click");this.controls=null}};
AV.ControlsWidget.prototype.tool.colors={init:function(a){var d=this;this.dirty=this.ignoresliders=false;this.controls=a;avpw$("#avpw_r_slider").slider({range:"min",max:100,min:-100,change:function(h,f){if(d.ignoresliders)return true;var l=avpw$("#avpw_g_slider").slider("option","value"),n=avpw$("#avpw_b_slider").slider("option","value");a.paintWidget.module_colors.set(f.value,l,n,true);d.dirty=true}});avpw$("#avpw_g_slider").slider({range:"min",max:100,min:-100,change:function(h,f){if(d.ignoresliders)return true;
var l=avpw$("#avpw_r_slider").slider("option","value"),n=avpw$("#avpw_b_slider").slider("option","value");a.paintWidget.module_colors.set(l,f.value,n,true);d.dirty=true}});avpw$("#avpw_b_slider").slider({range:"min",max:100,min:-100,change:function(h,f){if(d.ignoresliders)return true;var l=avpw$("#avpw_r_slider").slider("option","value"),n=avpw$("#avpw_g_slider").slider("option","value");a.paintWidget.module_colors.set(l,n,f.value,true);d.dirty=true}});avpw$("#avpw_color_reset").click(function(h,
f){return d.cancel(h,f)})},commit:function(){this.controls.paintWidget.module_colors.commit();return false},cancel:function(){this.controls.paintWidget.module_colors.reset();this.resetUI();return this.dirty=false},resetUI:function(){this.ignoresliders=true;avpw$("#avpw_r_slider").slider("option","value",0);avpw$("#avpw_g_slider").slider("option","value",0);avpw$("#avpw_b_slider").slider("option","value",0);this.ignoresliders=false},onUndo:function(){if(this.dirty){this.cancel();return false}},onRedo:function(){this.dirty&&
this.cancel()},panelWillOpen:function(){this.ignoresliders=this.dirty=false},panelWillClose:function(){if(this.dirty){this.commit();this.dirty=false}},shutdown:function(){avpw$("#avpw_r_slider").unbind("slidechange");avpw$("#avpw_r_slider").slider({slide:null,change:null});avpw$("#avpw_g_slider").unbind("slidechange");avpw$("#avpw_g_slider").slider({slide:null,change:null});avpw$("#avpw_b_slider").unbind("slidechange");avpw$("#avpw_b_slider").slider({slide:null,change:null});avpw$("#avpw_color_reset").unbind("click");
this.controls=null}};
AV.ControlsWidget.prototype.tool.drawing={init:function(a){var d=this,h=AV.toolDefaults.drawing.width;this.uiCircleRadius=h/2;this.controls=a;this.ignoreslider=false;this.ignoreslider=true;avpw$("#avpw_drawing_width_slider").slider({range:"min",value:h,max:50,min:1,slide:function(f,l){var n;d.uiCircleRadius=l.value/2;n=d.controls.paintWidget.module_drawing.erase?"transparent":d.controls.paintWidget.module_drawing.color;this.ignoreslider||d.controls._drawUICircle("#avpw_drawing_ui_circle",d.uiCircleRadius,
n,n,d.controls.paintWidget.module_drawing.softness)},change:function(f,l){d.controls.paintWidget.module_drawing.setWidth(l.value)}});avpw$("#avpw_drawing_softness_slider").slider({range:"min",value:0,max:100,min:0,slide:function(f,l){var n;d.controls.paintWidget.module_drawing.setSoftness(l.value);n=d.controls.paintWidget.module_drawing.erase?"transparent":d.controls.paintWidget.module_drawing.color;this.ignoreslider||d.controls._drawUICircle("#avpw_drawing_ui_circle",d.uiCircleRadius,n,n,d.controls.paintWidget.module_drawing.softness)},
change:function(f,l){d.controls.paintWidget.module_drawing.setSoftness(l.value)}});this.ignoreslider=false;avpw$("#avpw_draweraser_outer").click(function(){if(d.controls.paintWidget.module_drawing.erase){avpw$("#avpw_draweraser").removeClass("avpw_selected");d.controls.paintWidget.module_drawing.setErase(false);avpw$("#avpw_drawing_color_selector").show();d.controls._drawUICircle("#avpw_drawing_ui_circle",d.uiCircleRadius,d.controls.paintWidget.module_drawing.color,d.controls.paintWidget.module_drawing.color,
d.controls.paintWidget.module_drawing.softness)}else{avpw$("#avpw_draweraser").addClass("avpw_selected");d.controls.paintWidget.module_drawing.setErase(true);avpw$("#avpw_drawing_color_selector").hide();d.controls._drawUICircle("#avpw_drawing_ui_circle",d.uiCircleRadius,"white","transparent",d.controls.paintWidget.module_drawing.softness)}});avpw$(".avpw_color_picker_drawing").click(function(f){f=f.currentTarget;f.id=="avpw_drawing_color_selector"||avpw$(f).parent().attr("id")=="avpw_drawing_color_selector"||
d.setColor(f)});this.doReset=true},setColor:function(a){var d=avpw$(a).css("background-color");this.controls.paintWidget.module_drawing.setColor(d);var h=avpw$("#avpw_drawing_color_selector");d=AV__color_is_light(d)?"#969696":"#fff";avpw$(h).detach();avpw$(h).css("border","1px solid "+d);avpw$(a).children(".avpw_relative100").append(h);avpw$(h).show();avpw$("#avpw_draweraser").removeClass("avpw_selected");this.controls.paintWidget.module_drawing.setErase(false);this.controls._drawUICircle("#avpw_drawing_ui_circle",
this.uiCircleRadius,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.softness);return false},panelDidOpen:function(){this.controls.showFlashThumbs("drawing",true);if(this.doReset){this.controls.paintWidget.module_drawing.setWidth(AV.toolDefaults.drawing.width);this.controls.paintWidget.module_drawing.setSoftness(0);this.setColor(avpw$("#avpw_drawing_colors_white"));this.doReset=false}else AV__featherUseFlash&&this.controls.paintWidget.module_drawing.flashReset();
this.controls._drawUICircle("#avpw_drawing_ui_circle",this.uiCircleRadius,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.softness);this.controls.paintWidget.setCurrentLayerByName("drawing");this.controls.paintWidget.module_drawing.erase?avpw$("#avpw_draweraser").addClass("avpw_selected"):avpw$("#avpw_draweraser").removeClass("avpw_selected");this.ignoreslider=false},panelWillClose:function(){this.controls.showFlashThumbs("drawing",
false)},shutdown:function(){this.controls=null;avpw$("#avpw_drawing_width_slider").unbind("slide");avpw$("#avpw_drawing_width_slider").unbind("slidechange");avpw$("#avpw_drawing_width_slider").slider({slide:null,change:null});avpw$("#avpw_draweraser_outer").unbind("click");avpw$(".avpw_colorpicker_drawing").unbind("click");avpw$("#avpw_drawing_softness_slider").unbind("slide");avpw$("#avpw_drawing_softness_slider").unbind("slidechange");avpw$("#avpw_drawing_softness_slider").slider({slide:null,change:null})}};
AV.ControlsWidget.prototype.tool.rotate={rotate0_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(0,true);this.controls.setMinWidth(this.controls.paintWidget.width)},rotate90_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(90,true);this.controls.setMinWidth(this.controls.paintWidget.width)},rotate180_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(180,true);this.controls.setMinWidth(this.controls.paintWidget.width)},rotate270_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(270,
true);this.controls.setMinWidth(this.controls.paintWidget.width)},init:function(a){var d=this;this.curRotation=0;this.controls=a;avpw$("#avpw_rotate0_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(0-d.curRotation,true);d.curRotation=0});avpw$("#avpw_rotate90_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(90-d.curRotation,true);d.curRotation=90});avpw$("#avpw_rotate180_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(180-d.curRotation,true);d.curRotation=
180});avpw$("#avpw_rotate270_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(270-d.curRotation,true);d.curRotation=270})},panelWillOpen:function(){this.curRotation=0},panelDidOpen:function(){this.controls.showFlashThumbs("rotate",true);AV.flashThumbSet.addListener("thumb1",this.rotate0_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb2",this.rotate90_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb3",this.rotate180_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb4",
this.rotate270_flash.AV_bindInst(this))},panelWillClose:function(){this.controls.showFlashThumbs("rotate",false);AV.flashThumbSet.removeAllListeners()},resetUI:function(){this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate0_thumb")[0],0);this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate90_thumb")[0],90);this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate180_thumb")[0],180);this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate270_thumb")[0],
270)},shutdown:function(){avpw$("#avpw_rotate0_thumb").unbind();avpw$("#avpw_rotate90_thumb").unbind();avpw$("#avpw_rotate180_thumb").unbind();avpw$("#avpw_rotate270_thumb").unbind();this.controls=null}};
AV.ControlsWidget.prototype.tool.resize={init:function(a){var d=this;this.doSpecialScaling=false;this.controls=a;this.resizeWidthChange=function(){var h;h=avpw$("#avpw_constrain_prop").attr("checked");var f=avpw$("#avpw_resize_width").val();if(!d.doSpecialScaling)if(f>a.maxWidth){f=a.maxWidth;avpw$("#avpw_resize_width").val(f)}if(h){h=f/a.paintWidget.width;h=parseInt(a.paintWidget.height*h,10);if(h<1)h=1;if(d.doSpecialScaling)avpw$("#avpw_resize_height").val(h);else if(h>a.maxHeight){avpw$("#avpw_resize_height").val(a.maxHeight);
d.resizeHeightChange()}else avpw$("#avpw_resize_height").val(h)}};this.resizeHeightChange=function(){var h=avpw$("#avpw_constrain_prop").attr("checked"),f=avpw$("#avpw_resize_height").val();if(!d.doSpecialScaling)if(f>a.maxHeight){f=a.maxHeight;avpw$("#avpw_resize_height").val(f)}if(h){scale=f/a.paintWidget.height;h=parseInt(a.paintWidget.width*scale,10);if(h<1)h=1;if(d.doSpecialScaling)avpw$("#avpw_resize_width").val(h);else if(h>a.maxWidth){avpw$("#avpw_resize_width").val(a.maxWidth);d.resizeWidthChange()}else avpw$("#avpw_resize_width").val(h)}};
avpw$("#avpw_resize_width").change(this.resizeWidthChange);avpw$("#avpw_resize_height").change(this.resizeHeightChange);avpw$("#avpw_constrain_prop").click(function(){avpw$("#avpw_constrain_prop").attr("checked")&&d.resizeWidthChange()});avpw$("#avpw_resize_submit").click(function(){var h,f=avpw$("#avpw_resize_width").val(),l=avpw$("#avpw_resize_height").val();if(d.doSpecialScaling){h=a.setActionListScaleFactor(Math.max(f,l));f=Math.floor(f/h);l=Math.floor(l/h)}else{if(f>a.maxWidth){h=a.maxWidth/
f;f=a.maxWidth;l=Math.floor(h*l)}if(l>a.maxHeight){h=a.maxHeight/l;l=a.maxHeight;f=Math.floor(h*f)}}if(!isNaN(f)&&!isNaN(l)){a.paintWidget.module_resize.resize(f,l,true);a.setMinWidth(f)}return false});avpw$("#avpw_resize_sizes").change(function(){var h=avpw$("#avpw_resize_sizes").val(),f=h.indexOf(",");if(f!=-1){var l=h.substr(0,f);h=h.substr(f+1);l=parseInt(l);h=parseInt(h);avpw$("#avpw_resize_width").val(l);avpw$("#avpw_resize_height").val(h);AV__checkbox_set("avpw_constrain_prop",false);return false}})},
panelWillOpen:function(){avpw$("#avpw_constrain_prop").attr("checked")&&this.resizeWidthChange();this.controls.populateSizePulldownPresets("avpw_resize_sizes","maxspect")},shutdown:function(){avpw$("#avpw_resize_width").unbind("change");avpw$("#avpw_resize_height").unbind("change");avpw$("#avpw_constrain_prop").unbind("click");avpw$("#avpw_resize_submit").unbind("click");avpw$("#avpw_resize_sizes").unbind("change");this.controls=null}};
AV.ControlsWidget.prototype.tool.crop={init:function(a){var d=this;this.controls=a;this.cropState=0;this.cropDefaultHelpText=avpw$("#avpw_crop_body_help_text").html();avpw$("#avpw_crop_sizes").change(function(){var h=avpw$("#avpw_crop_sizes").val(),f=h.indexOf(",");if(f!=-1){var l=h.substr(0,f);h=h.substr(f+1);l=parseInt(l);h=parseInt(h);a.paintWidget.module_crop.setInitialSelectionTo(l,h);AV__checkbox_set("avpw_crop_prop",false);return false}});avpw$("#avpw_crop_button").click(function(){switch(d.cropState){case 0:a.paintWidget.module_crop.crop();
a.paintWidget.module_crop.hideSelection();a.setMinWidth(a.paintWidget.width);d.setCropPanelState(1);break;case 1:a.paintWidget.module_crop.setInitialSelection();avpw$("#avpw_crop_body_help_text").html(d.cropDefaultHelpText);avpw$("#avpw_crop_button").html("<div>Crop</div>");avpw$("#avpw_crop_body_checkbox").css("visibility","visible");d.setCropPanelState(0)}return false});avpw$("#avpw_crop_prop").click(function(){var h=avpw$("#avpw_crop_prop")[0];a.paintWidget.module_crop.forceAspect(h.checked)});
a.paintWidget.module_crop.setMouseDownCallback(function(){d.resetCropState()})},resetCropState:function(){if(this.cropState==1){this.setCropPanelState(0);this.controls.paintWidget.module_crop.setInitialSelection()}},onUndo:function(){this.setCropPanelState(0)},shutdown:function(){avpw$("#avpw_crop_sizes").unbind("change");avpw$("#avpw_crop_button").unbind("click");avpw$("#avpw_crop_prop").unbind("click");this.controls.paintWidget.module_crop.setMouseDownCallback(null);this.controls=null},panelWillOpen:function(){this.controls.populateSizePulldownPresets("avpw_crop_sizes",
"cursize");this.setCropPanelState(0)},panelDidOpen:function(){this.controls.paintWidget.module_crop.forceAspect(avpw$("#avpw_crop_prop")[0].checked);this.controls.paintWidget.module_crop.setInitialSelection()},populateCropPulldown:function(){Feather_CropSizes.replace(/\s/g,"").toLowerCase();var a=Feather_CropSizes.replace(/\s/g,"").toLowerCase().split(","),d,h,f;avpw$("#avpw_crop_presets .avpw_dropdown_body_wrapper .avpw_isa_populated_dropdown_body_entry").remove();f=avpw$("#avpw_crop_presets .avpw_dropdown_body_wrapper").html();
for(d=0;d<a.length;d++){h=a[d].split("x");f+='<a href="#"><div value="'+h[0]+","+h[1]+'" class="avpw_dropdown_body_entry avpw_isa_populated_dropdown_body_entry">'+h[0]+"&#xd7;"+h[1]+"</div></a>\n"}avpw$("#avpw_crop_presets .avpw_dropdown_body_wrapper").html(f)},setCropPanelState:function(a){var d=this.cropState;this.cropState=a;switch(a){case 0:avpw$("#avpw_crop_body_checkbox").css("visibility","visible");avpw$("#avpw_crop_button").html("<div>Crop</div>");avpw$("#avpw_crop_body_help_text").html(this.cropDefaultHelpText);
avpw$("#avpw_crop_presets").css("visibility","visible");break;case 1:avpw$("#avpw_crop_body_help_text").html("Your image was cropped.");avpw$("#avpw_crop_button").html("<div>&nbsp;&nbsp;Crop&nbsp;Again&nbsp;&nbsp;</div>");avpw$("#avpw_crop_body_checkbox").css("visibility","hidden");avpw$("#avpw_crop_presets").css("visibility","hidden")}return d}};
AV.ControlsWidget.prototype.tool.text={init:function(a){function d(){h.updateThumb()}var h=this;this.controls=a;this.textColor="#000";this.textShadowColor="#fff";this.firstTextTime=true;avpw$("#avpw_text_font_size").change(d);avpw$("#avpw_text_font").change(d);avpw$("#avpw_text_area").keyup(function(){if(h.firstTextTime){avpw$("#avpw_text_area").val("");h.firstTextTime=false}h.updateThumb()});avpw$("#avpw_text_area").mousedown(function(){if(h.firstTextTime){avpw$("#avpw_text_area").val("");h.firstTextTime=
false;h.updateThumb()}});avpw$(".avpw_color_picker_text").click(function(f){f=f.currentTarget;if(!(f.id=="avpw_text_color_selector"||avpw$(f).parent().attr("id")=="avpw_text_color_selector")){var l=avpw$(f).css("background-color"),n=avpw$(f).attr("shadowcolor");h.textColor=l;h.textShadowColor=n;h.updateThumb();n=avpw$("#avpw_text_color_selector");l=AV__color_is_light(l)?"#969696":"#fff";avpw$(n).detach();avpw$(n).css("border","1px solid "+l);avpw$(f).children(".avpw_relative100").append(n);return false}});
avpw$("#avpw_add_text").click(function(){var f=avpw$("#avpw_text_font_size").val(),l=h.textColor,n=h.textShadowColor,s=avpw$("#avpw_text_font").val(),z=avpw$("#avpw_text_area").val();if(f=="")f=avpw$("#avpw_text_font_size").attr("value");if(f=="")f="60";if(s=="")s=avpw$("#avpw_text_font").attr("value");if(s=="")s="sans-serif";if(s=="sans-serif")s='"Arial", sans-serif';f=parseFloat(f)/60;h.controls.paintWidget.module_text.newText(z,s,60,l,n,null,null,f,f,0);return false});avpw$("#avpw_text_delete").click(function(){h.controls.paintWidget.module_text.deleteSelectedText();
return false})},resetUI:function(){this.updateThumb()},updateThumb:function(){if(!AV__featherUseFlash){var a=avpw$("#avpw_text_thumb")[0],d=avpw$("#avpw_text_area").val(),h=avpw$("#avpw_text_font").val(),f=avpw$("#avpw_text_font_size").val(),l=""+f+"px "+h;h=a.getContext("2d");h.font=l;d=d.split("\n");var n;l=f;h.globalCompositeOperation="copy";h.clearRect(0,0,a.width,a.height);h.globalCompositeOperation="source-over";a=f/19;if(a<1)a=1;for(n=0;n<d.length;n++){h.shadowColor=this.textShadowColor;h.shadowOffsetX=
a;h.shadowOffsetY=a;h.shadowBlur=a;h.fillStyle=this.textColor;h.fillText(d[n],0,l);l+=f}}},shutdown:function(){this.controls=null;avpw$("#avpw_text_font_size").unbind("change");avpw$("#avpw_text_font").unbind("change");avpw$("#avpw_text_area").unbind();avpw$(".avpw_color_picker_text").unbind("click");avpw$("#avpw_add_text").unbind("click");avpw$("#avpw_text_delete").unbind("click")}};
AV.ControlsWidget.prototype.tool.overlay={init:function(a){var d=this;this.controls=a;avpw$("#avpw_overlay_delete").click(function(){d.controls.paintWidget.module_overlay.deleteSelectedOverlay();return false});avpw$("#avpw_overlay_lftArrow").click(function(){d.scrollOverlayDir(-1);return false});avpw$("#avpw_overlay_rghtArrow").click(function(){d.scrollOverlayDir(1);return false});this.stickerLoadStarted=false},panelWillOpen:function(){this.stickersLoad();this.scrollOverlay(true)},controlOverlayClicked:function(a){var d=
a.currentTarget,h=avpw$(d).attr("fullimageurl");if(AV__featherUseFlash)this.controls.paintWidget.module_overlay.newOverlay_flash(h);else{var f=avpw$(d).attr("id"),l=this.controls,n,s,z=this;if(this.controls.paintWidget.overlayRegistry.getClean(f))this.controls.paintWidget.module_overlay.newOverlay(d.id);else{avpw$(d).unbind("mousedown");avpw$(d).parent().children(".avpw_isa_overlay_waiter").show();setTimeout(function(){avpw$.ajax({type:"GET",dataType:"json",url:AV__jsonp_imgserver+"?callback=?",data:{url:escape(h)},
success:function(M){s=document.createElement("img");s.overlayid=f;avpw$(s).attr("src",M.data);n=function(){avpw$(s).unbind("load",n);l.paintWidget.overlayRegistry.add(f,s,h);avpw$(d).draggable({revert:true,revertDuration:0,helper:"clone",appendTo:"body",zIndex:10001});avpw$(d).click(z.controlOverlayClicked.AV_bindInst(z));l.paintWidget.module_overlay.newOverlay(f);avpw$(d).parent().children(".avpw_isa_overlay_waiter").hide()};avpw$(s).load(n)}})},5)}return false}},stickersLoad:function(){var a,d,
h,f,l,n,s="",z;this.overlayCount=Feather_Stickers.length;this.overlayDownloadCount=0;this.overlayThumbImages=[];this.overlayColsPerPage=4;this.overlayRowsPerPage=Feather_OpenType=="lightbox"?4:3;this.overlayPerPage=this.overlayRowsPerPage*this.overlayColsPerPage;this.overlayPages=parseInt((this.overlayCount-1)/this.overlayPerPage)+1;this.overlayCurrentPage=0;if(!this.stickerLoadStarted){this.stickerLoadStarted=true;if(typeof Feather_Stickers!="undefined"){avpw$("#avpw_overlay_progress_holder").hide();
avpw$("#avpw_overlay_images_scroll_window").show();for(f=a=0;f<this.overlayPages;f++){s+='<div class="avpw_overlay_page">';for(d=0;d<this.overlayRowsPerPage&&a<this.overlayCount;d++){s+='<div class="avpw_overlay_row">';for(h=0;h<this.overlayColsPerPage&&a<this.overlayCount;h++){l=Feather_Stickers[a][0];n=Feather_Stickers[a][1];z="avpw_control_selector_overlay_id"+a;s+='<div class="avpw_overlay_icon_text_holder">';s+='<div id="'+z+'" class="avpw_control_selector_overlay_icon avpw_isa_control_selector_overlay" fullimageurl="'+
l+'">';s+='<img src="'+n+'" overlayid="'+z+'"></img>';s+="</div>";s+='<div class="avpw_control_selector_overlay_wait_icon avpw_isa_overlay_waiter">';s+="<div>";s+='<img src="'+AV_feather_baseURL+"images/eggthrobber-"+AV_theme+'.gif"></img>';s+="</div>";s+="</div>";s+="</div>";a++}s+="</div>"}s+="</div>"}avpw$("#avpw_overlay_images_scroll_region").html(s);avpw$("#avpw_overlay_images_scroll_region .avpw_isa_overlay_waiter").hide();avpw$(".avpw_isa_control_selector_overlay").mousedown(this.controlOverlayClicked.AV_bindInst(this));
overlayPipsHTML="";for(a=0;a<this.overlayPages;a++)overlayPipsHTML+='<li class="avpw_is_overlay_navpip" pagenum="'+a+'" id="avpw_overlay_navpip_'+a+'"><a href="#"></a></li>\n';avpw$("#avpw_overlay_pager ul").html(overlayPipsHTML);this.setOverlayNavPip(this.overlayCurrentPage);avpw$(".avpw_is_overlay_navpip").click(function(M){this.scrollOverlayTo(avpw$(M.currentTarget).attr("pagenum"));return false}.AV_bindInst(this));this.overlayPanelWidthPx=parseInt(avpw$(".avpw_overlay_page").css("width"));this.scrollOverlay(true)}else{this.overlayDownloadCount=
this.overlayCount=0;this.overlayPages=1;avpw$("#avpw_overlay_images_scroll_region").html("No stickers defined in Feather_Stickers")}}},scrollOverlayTo:function(a){this.overlayCurrentPage=parseInt(a);this.scrollOverlay()},scrollOverlayDir:function(a){this.overlayCurrentPage+=a;this.scrollOverlay()},scrollOverlay:function(a){var d,h=avpw$("#avpw_overlay_images_scroll_window");if(this.overlayCurrentPage<0)this.overlayCurrentPage=0;else if(this.overlayCurrentPage>this.overlayPages-1)this.overlayCurrentPage=
this.overlayPages-1;d=this.overlayCurrentPage*this.overlayPanelWidthPx;a?avpw$(h).animate({scrollLeft:d},1):avpw$(h).animate({scrollLeft:d},300);this.setOverlayNavPip(this.overlayCurrentPage);if(this.overlayCurrentPage==0){avpw$("#avpw_overlay_lftArrow").addClass("avpw_overlay_prev_disabled");avpw$("#avpw_overlay_lftArrow").removeClass("avpw_overlay_prev_enabled")}else{avpw$("#avpw_overlay_lftArrow").removeClass("avpw_overlay_prev_disabled");avpw$("#avpw_overlay_lftArrow").addClass("avpw_overlay_prev_enabled")}if(this.overlayCurrentPage==
this.overlayPages-1){avpw$("#avpw_overlay_rghtArrow").addClass("avpw_overlay_next_disabled");avpw$("#avpw_overlay_rghtArrow").removeClass("avpw_overlay_next_enabled")}else{avpw$("#avpw_overlay_rghtArrow").removeClass("avpw_overlay_next_disabled");avpw$("#avpw_overlay_rghtArrow").addClass("avpw_overlay_next_enabled")}},setOverlayNavPip:function(a){avpw$(".avpw_is_overlay_navpip").removeClass("avpw_page_selected");avpw$("#avpw_overlay_navpip_"+a).addClass("avpw_page_selected")},shutdown:function(){this.controls=
null;avpw$("#avpw_overlay_delete").unbind("click");avpw$(".avpw_isa_control_selector_overlay").unbind();avpw$(".avpw_isa_control_selector_overlay").remove();avpw$("#avpw_overlay_lftArrow").unbind("click");avpw$("#avpw_overlay_rghtArrow").unbind("click");avpw$(".avpw_is_overlay_navpip").unbind("click");avpw$("#avpw_overlay_images_scroll_region").html("")}};AV.ControlsWidget.prototype.save=function(a){if(!(AV_controlsWidget.loaderPhase<2)){if(AV__featherUseFlash)return this.save_Flash(a);return this.save_HTML(a)}};
AV.ControlsWidget.prototype.save_Flash=function(){Aviary.API.save();return false};
AV.ControlsWidget.prototype.save_HTML=function(){dataURL=this.paintWidget.exportPNG();var a=dataURL.indexOf(";",0),d=dataURL.indexOf(",",a);dataURL.slice(5,a);var h=dataURL.slice(d+1);this.paintWidget.showWaitThrobber(true);avpw$("#avpw_img_submit_target_holder").html('<iframe width="1" height="1" style="position:absolute;left:-9999px;" id="avpw_img_submit_target" name="avpw_img_submit_target" src="'+AV_imgrecvBase+'blank.html"></iframe>');avpw$("#avpw_img_submit_target").load(this.saveCallback_form.AV_bindInst(this));
setTimeout(function(){avpw$("#avpw_save_form_data").val(h);avpw$("#avpw_save_form_postdata").val(this.postdata);avpw$("#avpw_save_form_posturl").val(Feather_PostURL);avpw$("#avpw_save_form_apikey").val(Feather_APIKey);avpw$("#avpw_save_form_sessionid").val(AV.usageTracker.getUUID());avpw$("#avpw_save_form_actionlist").val(this.paintWidget.actionExportJSON(true));avpw$("#avpw_save_form_origurl").val(this.origURL);avpw$("#avpw_save_form_hiresurl").val(Feather_HiResURL);avpw$("#avpw_save_form").submit()}.AV_bindInst(this),
10);return false};AV.ControlsWidget.prototype.saveCallback_form=function(){if(this.paintWidget){this.paintWidget.showWaitThrobber(false);avpw_img_submit_target_announcer.postMessage("avpw_load","*")}};
AV.ControlsWidget.prototype.showAreYouSure=function(){this.showView("main");this.setPanelMode(null);this.paintWidget.setMode(null);this.setLastPanel("avpw_aviary_quitareyousure");setTimeout(function(){this.scrollPanelInfo.prevPanel=this.scrollPanelInfo.curPanel;this.scrollMainTo(this.scrollPanelInfo.panelCount-1)}.AV_bindInst(this),5)};AV.ControlsWidget.prototype.cancel=function(){this.quitCount++;this.quitCount==1&&this.paintWidget.dirty?this.showAreYouSure():AV_paintWidgetCloser();return false};
AV.ControlsWidget.prototype.undo=function(){if(this.moduleNotify(this.curMode,"onUndo")===false)return false;this.paintWidget.undo();this.setMinWidth(this.paintWidget.width);return false};AV.ControlsWidget.prototype.redo=function(){if(this.moduleNotify(this.curMode,"onRedo")===false)return false;this.paintWidget.redo();this.setMinWidth(this.paintWidget.width);return false};AV.ControlsWidget.prototype._resetUI=function(a){this.moduleNotify(a,"resetUI");a=="filters"&&this._doFiltersThumbs()};
AV.ControlsWidget.prototype.getScaledDims=function(a,d){var h;if(a>this.maxWidth){h=this.maxWidth/a;a=this.maxWidth;d*=h}if(d>this.maxHeight){h=this.maxHeight/d;d=this.maxHeight;a*=h}return{width:a,height:d}};
AV__checkbox_style_startup=function(){var a=function(h){h=h.currentTarget;h.avpw_checkboxpeer.checked=!h.avpw_checkboxpeer.checked;avpw$(h.avpw_checkboxpeer).triggerHandler("click");AV__styledcheckbox_setbg(h,h.avpw_checkboxpeer.checked)},d=avpw$("#avpw_controls input[type=checkbox]");avpw$(d).each(function(h,f){if(!(f.avpw_styledcheckboxpeer!==undefined&&f.avpw_styledcheckboxpeer)){var l=document.createElement("div");l.avpw_checkboxpeer=f;l.avpw_checkboxpeer_display=avpw$(f).css("display");avpw$(l).addClass("avpw__is_styled_checkbox");
AV__styledcheckbox_setbg(l,l.avpw_checkboxpeer.checked);avpw$(l).click(a);avpw$(f).before(l);avpw$(f).css("display","none");f.avpw_styledcheckboxpeer=l}})};AV__styledcheckbox_setbg=function(a,d){if(d){avpw$(a).removeClass("avpw__is_styled_checkbox_unchecked");avpw$(a).addClass("avpw__is_styled_checkbox_checked")}else{avpw$(a).removeClass("avpw__is_styled_checkbox_checked");avpw$(a).addClass("avpw__is_styled_checkbox_unchecked")}};
AV__checkbox_set=function(a,d){if(avpw$("#"+a).attr("checked")!=d){var h=avpw$("#"+a)[0].avpw_styledcheckboxpeer;avpw$(h).trigger("click")}};AV__checkbox_style_shutdown=function(){var a=avpw$(".avpw__is_styled_checkbox");avpw$(a).each(function(d,h){h.avpw_checkboxpeer.avpw_styledcheckboxpeer=null;avpw$(h.avpw_checkboxpeer).css("display",h.avpw_checkboxpeer_display);avpw$(h).unbind("click");avpw$(h).detach();h.avpw_checkboxpeer=null})};
AV__xml_escape=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function AV__dropdown_style_window_mouseup_handler(){avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").css("display","none");return true}
function AV__dropdown_style_startup(){function a(d){d=avpw$(d.target).parents(".avpw_dropdown").children(".avpw_dropdown_body_wrapper");avpw$(d).css("display")=="none"?avpw$(d).css("display","block"):avpw$(d).css("display","none");return false}avpw$(document).mouseup(AV__dropdown_style_window_mouseup_handler);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").mousedown(a);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").click(a);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").mouseup(function(){avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").css("display",
"none");return false});avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").mouseup(function(d){var h=avpw$(d.target).parents(".avpw_dropdown"),f=avpw$(d.target).attr("value");if(f){avpw$(h).val(f);avpw$(h).trigger("change");avpw$(h).find(".avpw_dropdown_header_text").html(avpw$(d.target).html())}d=avpw$(h).children(".avpw_dropdown_body_wrapper");avpw$(d).css("display","none");return false});avpw$(".avpw_dropdown_body_entry").mouseenter(function(d){avpw$(d.currentTarget).addClass("avpw_dropdown_hover")});
avpw$(".avpw_dropdown_body_entry").mouseleave(function(d){avpw$(d.currentTarget).removeClass("avpw_dropdown_hover")})}function AV__dropdown_style_reset(a,d){a="#"+a;firstchild=avpw$(a+" .avpw_dropdown_body_entry")[0];var h=avpw$(firstchild).attr("value");avpw$(a).val(h);d&&avpw$(a).trigger("change");avpw$(a+" .avpw_dropdown_header_text").html(avpw$(firstchild).html())}
function AV__dropdown_style_shutdown(){avpw$(window).unbind("mouseup",AV__dropdown_style_window_mouseup_handler);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").unbind("mousedown");avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").unbind("click");avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").unbind("mouseup");avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").unbind("mouseup");avpw$(".avpw_dropdown_body_entry").unbind("mouseenter");avpw$(".avpw_dropdown_body_entry").unbind("mouseleave")}
function AV__color_is_light(a){return a=="#fff"||a=="#ffffff"||a=="rgb(255, 255, 255)"}function AV__color_is_white(a){a=a.toLowerCase();return a=="#fff"||a=="#ffffff"||a=="white"||a=="rgb(255, 255, 255)"}function AV__color_expand(a){if(a.length==4){r=a.charAt(1);g=a.charAt(2);b=a.charAt(3);a="#"+r+r+g+g+b+b}return a}
function AV__color_to_rgb(a){var d,h;if(a.charAt(0)=="#"){a=AV__color_expand(a);d=parseInt(a.substr(1,2),16);h=parseInt(a.substr(3,2),16);a=parseInt(a.substr(5,2),16);a="rgb("+d+","+h+","+a+")"}return a}function AV__rgb_to_color(a){var d,h;if(h=a.match(/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/)){a=parseInt(h[1]).toString(16);if(a.length==1)a="0"+a;d=parseInt(h[2]).toString(16);if(d.length==1)d="0"+d;h=parseInt(h[3]).toString(16);if(h.length==1)h="0"+h;return"#"+a+d+h}return a}
function AV__color_to_int(a){a=AV__color_expand(a);a=AV__rgb_to_color(a);return parseInt(a.substr(1),16)}function AV_FlashThumbClickCallback(a){AV.flashThumbSet.doCallbacks(a)}
AV.flashThumbSet={listenerList:{},addListener:function(a,d){this.listenerList.hasOwnProperty(a)||(this.listenerList[a]=[]);this.listenerList[a].push(d)},removeAllListeners:function(){this.listenerList={}},doCallbacks:function(a){var d,h;if(this.listenerList.hasOwnProperty(a)){h=this.listenerList[a];for(d=0;d<h.length;d++)h[d](a)}},shutdown:function(){this.removeAllListeners()}};var AV__feather_loaded=false,AV__feather_loading=false;if(typeof AV_feather_baseURL=="undefined")AV_feather_baseURL="";if(typeof AV_imgrecvServer=="undefined")AV_imgrecvServer="imgrecvserver.cgi";if(typeof AV_imgrecvBase=="undefined")AV_imgrecvBase="";if(typeof AV_imgtrackServer=="undefined")AV_imgtrackServer="imgtrackserver.cgi";if(typeof AV__featherTargetAnnounce=="undefined")AV__featherTargetAnnounce="feather_target_announce.html";if(typeof AV_version=="undefined")AV_version="";
if(typeof AV_betaversion=="undefined")AV_betaversion="";AV_theme=typeof Feather_Theme=="undefined"?"bluesky":Feather_Theme;if(typeof Feather_OpenType=="undefined")Feather_OpenType="popup";if(typeof Feather_HiResURL=="undefined")Feather_HiResURL="";Function.prototype.AV_bindInst=function(a){var d=this;return function(){return d.apply(a,arguments)}};function AV_getX(a){for(var d=0;a!=null;){d+=a.offsetLeft;a=a.offsetParent}return d}
function AV_getY(a){for(var d=0;a!=null;){d+=a.offsetTop;a=a.offsetParent}return d}
function AV__injectControls(){var a,d;d=['<div id="avpw_save_container"><div id="avpw_save_button" class="avpw_shadow_save"><a href="#"> </a></div>','<form id="avpw_save_form" enctype="multipart/form-data" action="'+AV_imgrecvServer+'" method="POST" target="avpw_img_submit_target">','<input id="avpw_save_form_posturl" type="hidden" name="posturl" value=""></input><input id="avpw_save_form_postdata" type="hidden" name="postdata" value=""></input><input id="avpw_save_form_apikey" type="hidden" name="apikey" value=""></input><input id="avpw_save_form_data" type="hidden" name="file" value=""></input><input id="avpw_save_form_sessionid" type="hidden" name="sessionid" value=""></input><input id="avpw_save_form_actionlist" type="hidden" name="actionlist" value=""></input><input id="avpw_save_form_origurl" type="hidden" name="origurl" value=""></input><input id="avpw_save_form_hiresurl" type="hidden" name="hiresurl" value=""></input><input type="hidden" name="encodedas" value="base64text"></input><input type="hidden" name="contenttype" value="image/png"></input></form></div>'].join("");if(Feather_OpenType==
"popup"){a="";d=d}else{a=d;d=""}a=['<div style="display:none;" title="Close existing image editor?" id="avpw_confirm_close_existing_dialog">There is another image editing window open.  Close itwithout saving and continue?</div><div id="avpw_fullscreen_bg" style="display: none;"></div><div style="display:none;" id="avpw_controls" class="avpw_controls_main_bg"><div id="avpw_drag_handle"></div><div id="avpw_controls_2" class="avpw_shadow2 avpw_controls_main_bg_hd"><div id="avpw_clouds"></div><div id="avpw_mountains"><div></div></div><div id="avpw_control_cancel_pane"><a id="avpw_control_cancel" href="#">&nbsp;</a></div><div id="avpw_rightbevel"></div><div id="avpw_topleft_corner"></div><div id="avpw_topright_corner"></div><div id="avpw_topbevel"><div></div></div><div id="avpw_header_wrapper"><div id="avpw_header"><a href="#"> </a></div></div><div id="avpw_control_undo"><a href="#"> </a></div><div id="avpw_control_redo"><a href="#"> </a></div>',
'<div id="avpw_version">'+AV_betaversion+"</div>",'<div id="avpw_wrapper_1"><div id="avpw_photo_content"><div id="avpw_photo_content_2" class="avpw_cardboard"><div id="avpw_canvas_embed" class="avpw_white_1px_border "></div></div></div><div id="avpw_tool_content_wrapper"><div id="avpw_flashthumb_corral"><div id="thumb1Content"></div><div id="thumb2Content"></div><div id="thumb3Content"></div><div id="thumb4Content"></div></div><div id="avpw_tool_content"><div id="avpw_tool_main_container" class="avpw_icon_container_style"><div class="avpw_tool_main_left_bevel"></div><div class="avpw_tool_main_right_bevel"></div><div id="avpw_control_main"><div id="avpw_control_main_scroll_panel"><div id="avpw_control_main_scrolling_region"></div></div><div id="avpw_lftArrow"><a href="#">&nbsp;</a></div><div id="avpw_rghtArrow"><a href="#">&nbsp;</a></div><div id="avpw_tools_pager" class="avpw_options_pager"><ul></ul><div class="avpw_clear"></div></div></div><div id="avpw_filter_control_main"></div></div><div id="avpw_tool_options_container" class="avpw_controlpanel_container_style" style="display:none;"><div class="avpw_tool_main_left_bevel"></div><div class="avpw_tool_main_right_bevel"></div><div id="avpw_control_upper"><div id="awpw_tool_properties_title"><div id="avpw_all_effects"><a href="#"> </a></div><div class="avpw_clear"></div></div><div id="avpw_controlpanel_brightness" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Brightness</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_brightness_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_brightness_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_contrast" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Contrast</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_contrast_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_contrast_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_saturation" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Saturation</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_saturation_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_saturation_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_blur" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Blur</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_blur_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_blur_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_barrel" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Bulge/Pinch</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_barrel_thumbnails" class=""><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_barrel_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_sharpen" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Sharpen</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_sharpen_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_sharpen_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_rotate" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Rotate</h2></div></div><div id="avpw_rotate_thumbnails"><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate0_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate90_thumb" width="85" height="85"></canvas></div><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate180_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate270_thumb" width="85" height="85"></canvas></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_flip" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Flip</h2></div></div><div id="avpw_flip_thumbnails"><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_none_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_horizontal_thumb" width="85" height="85"></canvas></div><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_vertical_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_both_thumb" width="85" height="85"></canvas></div> \t\t\t</div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_crop" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Crop</h2></div></div><div id="avpw_crop_body"><div id="avpw_crop_body_help_text" class="avpw_small_font">Drag corners to resize crop area</div><div id="avpw_crop_body_checkbox" class="avpw_iblock_center"><div><input id="avpw_crop_prop" name="avpw_crop_prop" type="checkbox" value=""/></div><div class="avpw_small_font"><span class="avpw_small_font">&nbsp;Maintain proportions</span></div></div><div id="avpw_crop_presets"><div id="avpw_crop_sizes" class="avpw_dropdown" value="null"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">Preset Sizes</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="null" class="avpw_dropdown_body_entry">Preset Sizes</div></a></div></div></div><div class="avpw_break"></div><div id="avpw_crop_ok_wrapper" class="avpw_iblock_center"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_crop_button"><div>Crop</div></div></a></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_redeye" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Redeye</h2></div></div><div id="avpw_redeye_body" class="avpw_panel_margin"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="52" height="52" class="avpw_flashthumb_holder"><canvas id="avpw_redeye_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_redeye_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_bulge" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Bulge</h2></div></div><div id="avpw_bulge_body" class="avpw_panel_margin"><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div class="avpw_briconsat_slider" id="avpw_bulge_slider_radius"><div class="avpw_plus"></div></div></div><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Power</div><div class="avpw_briconsat_slider" id="avpw_bulge_slider_power"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_pinch" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Pinch</h2></div></div><div id="avpw_pinch_body" class="avpw_panel_margin"><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div class="avpw_briconsat_slider" id="avpw_pinch_slider_radius"><div class="avpw_plus"></div></div></div><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Power</div><div class="avpw_briconsat_slider" id="avpw_pinch_slider_power"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_whiten" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Whiten</h2></div></div><div id="avpw_whiten_body" class="avpw_panel_margin"><canvas id="avpw_whiten_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_whiten_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_greeneye" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Greeneye</h2></div></div><div id="avpw_greeneye_body" class="avpw_panel_margin"><canvas id="avpw_greeneye_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_greeneye_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_blemish" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Blemish</h2></div></div><div id="avpw_blemish_body" class="avpw_panel_margin"><canvas id="avpw_blemish_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="52" height="52" class="avpw_flashthumb_holder"><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_blemish_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_resize" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Resize</h2></div></div><div id="avpw_resize_body" class="avpw_small_font"><div id="avpw_resize_body_checkbox" class="avpw_iblock_center"><div><input id="avpw_constrain_prop" name="avpw_constrain_prop" class="avpw_checkbox" type="checkbox" checked="checked" value="" /></div><div class="avpw_small_font">&nbsp;Maintain proportions</div></div><div id="avpw_resize_body_wh" class="avpw_iblock_center">Width <input class="avpw_resize_textinput" id="avpw_resize_width" type="text" value="640" maxlength="5"/>&nbsp;&nbsp;&nbsp;&nbsp;Height <input class="avpw_resize_textinput" id="avpw_resize_height" type="text" value="480" maxlength="5"/></div><div id="avpw_resize_presets"><div id="avpw_resize_sizes" class="avpw_dropdown" value="null"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">Preset Sizes</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="null" class="avpw_dropdown_body_entry">Preset Sizes</div></a><a href="#"><div value="320,240" class="avpw_dropdown_body_entry">320&#xd7;240</div></a><a href="#"><div value="640,480" class="avpw_dropdown_body_entry">640&#xd7;480</div></a><a href="#"><div value="800,600" class="avpw_dropdown_body_entry">800&#xd7;600</div></a><a href="#"><div value="1280,1024" class="avpw_dropdown_body_entry">1280&#xd7;1024</div></a><a href="#"><div value="1600,1200" class="avpw_dropdown_body_entry">1600&#xd7;1200</div></a><a href="#"><div value="240,320" class="avpw_dropdown_body_entry">240&#xd7;320</div></a><a href="#"><div value="480,640" class="avpw_dropdown_body_entry">480&#xd7;640</div></a><a href="#"><div value="600,800" class="avpw_dropdown_body_entry">600&#xd7;800</div></a><a href="#"><div value="1024,1280" class="avpw_dropdown_body_entry">1024&#xd7;1280</div></a><a href="#"><div value="1200,1600" class="avpw_dropdown_body_entry">1200&#xd7;1600</div></a></div></div></div><div id="avpw_resize_ok_wrapper" class="avpw_block_center"><div style="display:inline-block;text-align:center;"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_resize_submit"><div>Ok</div></div></a></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_colors" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Color</h2></div></div><div class="avpw_slider_area avpw_panel_margin"><div class="avpw_slider_and_label"><div class="avpw_slider_label"><div style="background-color: #f00;"></div></div><div class="avpw_color_slider" id="avpw_r_slider"><div class="avpw_plus"></div></div></div><div class="avpw_slider_and_label"><div class="avpw_slider_label"><div style="background-color:#0f0;"></div></div><div class="avpw_color_slider" id="avpw_g_slider"><div class="avpw_plus"></div></div></div><div class="avpw_slider_and_label"><div class="avpw_slider_label"><div style="background-color:#00f;"></div></div><div class="avpw_color_slider" id="avpw_b_slider"><div class="avpw_plus"></div></div></div></div><div id="avpw_colors_reset_wrapper" class="avpw_block_center"><div style="display:inline-block;text-align:center;"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_color_reset"><div>Reset</div></div></a></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_filters" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Filters</h2></div></div><div id="avpw_filter_body"><div id="avpw_filter_body_scroll_window"><div id="avpw_filter_body_scroll_region"></div></div><div id="avpw_filter_body_scroll_left"></div><div id="avpw_filter_body_scroll_right"></div><div id="avpw_filter_body_scroll_navpips"></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_drawing" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Drawing</h2></div></div><div id="avpw_drawing_body" class="avpw_panel_margin"><div id="avpw_drawing_circle_colors"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="52" height="52" class="avpw_flashthumb_holder"><canvas id="avpw_drawing_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div id="avpw_drawing_colors"><div class="avpw_drawing_colors_row"><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#000000;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#444444;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#777777;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#878787;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#aaaaaa;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#bababa;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#dddddd;"><div class="avpw_relative100"></div></div><div id="avpw_drawing_colors_white" class="avpw_color_picker avpw_color_picker_drawing avpw_color_picker_selected" style="background-color:#ffffff;"><div class="avpw_relative100"><div class="avpw_white_grayborder"></div><div id="avpw_drawing_color_selector"></div></div></div></div><div class="avpw_drawing_colors_row"><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#fcff3d;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f9ce3c;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f89a3c;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f7663c;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f6311d;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f62e6a;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f7289b;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f81ecd;"><div class="avpw_relative100"></div></div></div><div class="avpw_drawing_colors_row"><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f8639b;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#9700cb;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#650098;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#380098;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#3e00cb;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#2b61cb;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#249b33;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#41ff34;"><div class="avpw_relative100"></div></div></div><div id="avpw_drawing_colors_eraser" class="avpw_block_right"><div style="display:inline-block;"><div id="avpw_draweraser_outer"><span class="avpw_small_font">Eraser&nbsp;</span><div class="avpw_selected" id="avpw_draweraser"></div></div></div></div></div></div><div id="avpw_drawing_brushsize_label" class="avpw_small_font">Brush size</div><div id="avpw_drawing_sizer" class="avpw_big_egg_slider"><div id="avpw_drawing_width_slider"><div class="avpw_plus"></div></div></div><div id="avpw_drawing_softness_label" class="avpw_small_font">Brush softness</div><div id="avpw_drawing_softness" class="avpw_big_egg_slider"><div id="avpw_drawing_softness_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_overlay" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Stickers</h2></div></div><div id="avpw_overlay_body" class="avpw_panel_margin"><div id="avpw_overlay_images"><div id="avpw_overlay_progress_holder"><div id="avpw_overlay_progress" class="avpw_progress"><div class="avpw_progress_completed"></div></div>Loading...</div><div id="avpw_overlay_images_scroll_window"><div id="avpw_overlay_images_scroll_region"></div></div></div><div id="avpw_overlay_lftArrow"><a href="#">&nbsp;</a></div><div id="avpw_overlay_rghtArrow"><a href="#">&nbsp;</a></div><div id="avpw_overlay_pager" class="avpw_overlay_options_pager avpw_panel_right_margin"><ul></ul></div></div></div><div id="avpw_controlpanel_text" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Text</h2></div></div><div id="avpw_text_body" class=""><div id="avpw_controlpanel_text_entry_area"><textarea id="avpw_text_area" name="avpw_text_area" class="avpw_text_textinput" wrap="off">Enter text here</textarea></div><div id="avpw_controlpanel_text_options_colors"><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#ffffff;" shadowcolor="#000"><div class="avpw_relative100"><div class="avpw_white_grayborder"></div></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#fcff3d;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#32cf33;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f7289b;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#cecece;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f89b1d;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#279a66;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#c720cc;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#585858;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f6661d;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#3c95fe;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#940067;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker_selected avpw_color_picker avpw_color_picker_text" style="background-color:#000000;" shadowcolor="#fff"><div class="avpw_relative100"><div id="avpw_text_color_selector"></div></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f6001d;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#310ffd;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#662b98;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div></div><div id="avpw_controlpanel_text_options_area"><canvas id="avpw_text_thumb" class="avpw_isa_previewcanvas" style="display: none; margin-top:1px; border:solid 1px black;" width="220" height="45"></canvas><div id="avpw_controlpanel_text_options_pulldowns"><div id="avpw_text_font" class="avpw_dropdown" value="sans-serif"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">Arial</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="serif" class="avpw_dropdown_body_entry">Times</div></a><a href="#"><div value="sans-serif" class="avpw_dropdown_body_entry">Arial</div></a><a href="#"><div value="monospace" class="avpw_dropdown_body_entry">Mono</div></a></div></div><div id="avpw_text_font_size" class="avpw_dropdown" value="60"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">60 px</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="6" class="avpw_dropdown_body_entry">6 px</div></a><a href="#"><div value="10" class="avpw_dropdown_body_entry">10 px</div></a><a href="#"><div value="12" class="avpw_dropdown_body_entry">12 px</div></a><a href="#"><div value="16" class="avpw_dropdown_body_entry">16 px</div></a><a href="#"><div value="24" class="avpw_dropdown_body_entry">24 px</div></a><a href="#"><div value="36" class="avpw_dropdown_body_entry">36 px</div></a><a href="#"><div value="48" class="avpw_dropdown_body_entry">48 px</div></a><a href="#"><div value="60" class="avpw_dropdown_body_entry">60 px</div></a></div></div></div><div id="avpw_controlpanel_text_options_colors_ok"><div id="avpw_controlpane_text_options_ok"><div style="display:none"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_text_delete"><div>delete</div></div></a></div><a href="#"><div class="avpw_button avpw_button_style" id="avpw_add_text"><div>Ok</div></div></a></div></div></div></div><div class="avpw_tip"><div></div></div></div></div></div></div><div id="avpw_filter_eggs_panel"><div id="avpw_effects_egg0" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div><div class="avpw_filter_eggs_panel_egg_spacer"></div><div id="avpw_effects_egg1" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div><div class="avpw_filter_eggs_panel_egg_spacer"></div><div id="avpw_effects_egg2" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div><div class="avpw_filter_eggs_panel_egg_spacer"></div><div id="avpw_effects_egg3" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div></div>',
a,'<div id="avpw_powered_by_aviary" class="avpw_cardboard"><div>Powered by Aviary</div></div></div></div><div id="avpw_control_upper2" style="display:none;"><div id="avpw_control_body_pane"></div></div>',d,"</div>",'<form style="display:none;" id="avpw_track_form" action="'+AV_imgtrackServer+'" method="GET" target="avpw_img_track_target">','<input id="avpw_track_form_action" type="hidden" name="action" value=""></input><input id="avpw_track_form_sessionid" type="hidden" name="sessionid" value=""></input><input id="avpw_track_form_data" type="hidden" name="toolusagedata" value=""></input></form></div><div id="avpw_img_submit_target_holder" style="position:absolute;top:0;left:0"></div>',
'<iframe width="1" height="1" style="position:absolute;left:-9999px;" id="avpw_img_submit_target_announcer" name="avpw_img_submit_target_announcer" src="'+AV__featherTargetAnnounce+'"></iframe>','<div id="avpw_img_track_target_holder" style="position:absolute;top:0;left:0"></div><div style="display:block;position:absolute;left-9999px;"><div id="avpw_OstrichFeather"></div></div>'].join("");d=document.createElement("div");d.id="avpw_holder";var h=document.getElementsByTagName("body");if(h)h=h[0];if(!h)h=
document.documentElement;h.appendChild(d);d.innerHTML=a.replace(/__FEATHER_BASE_URL__/g,AV_feather_baseURL)}var AV_waitThrobber,AV_imageWrapper,AV_origImgElement;function AV_setPopupPos(a){var d=AV_getX(a),h=AV_getY(a);a=d+a.width+15;d=document.getElementById("avpw_controls");d.style.position="absolute";d.style.left=a+"px";d.style.top=h+"px"}
function AV_setLightboxPos(){var a;a="pageYOffset"in window?window.pageYOffset:(((t=document.documentElement)||(t=document.body.parentNode))&&typeof t.ScrollTop=="number"?t:document.body).scrollTop;document.getElementById("avpw_controls").style.top=a+30+"px"}function AV_getImageElem(a){if(typeof a=="string")return document.getElementById(a);return a}function AV_getImageId(a){if(typeof a=="string")return a;return a.id}
function AV_wrapImage(a){AV_origImgElement=AV_getImageElem(a);if(!AV_imageWrapper){AV_waitThrobber=document.createElement("img");AV_waitThrobber.src=AV_feather_baseURL+"images/eggthrobber-"+AV_theme+".gif";AV_waitThrobber.id="_AV_waitThrobber";AV_imageWrapper=document.createElement("div");AV_imageWrapper.id="_AV_imageWrapper";AV_imageWrapper.style.position="relative";AV_imageWrapper.appendChild(AV_origImgElement)}AV_origImgElement.parentNode.insertBefore(AV_imageWrapper,AV_origImgElement)}
function AV_imgOnLoad(a,d){avpw$(a).load(d);if(a.complete==true||a.readyState==4||a.readyState=="complete"||a.readyState=="loaded")avpw$(a).trigger("load")}
function AV_loadFile(a,d,h){var f,l;f=function(n){if(h){var s=function(z){if(this.readyState==4||this.readyState=="complete"||this.readyState=="loaded")h(z)};if(navigator.appName=="Microsoft Internet Explorer")n.onreadystatechange=s;else n.onload=h}};if(d=="js"){l=document.createElement("script");l.setAttribute("type","text/javascript");f(l);l.setAttribute("src",a)}else if(d=="css"){l=document.createElement("link");l.setAttribute("rel","stylesheet");l.setAttribute("type","text/css");f(l);l.setAttribute("href",
a)}else if(d=="img"){l=document.createElement("img");f(l);l.setAttribute("src",a)}if((d=="js"||d=="css")&&l)document.getElementsByTagName("head")[0].appendChild(l)}
function AV_loadStageFinal(){var a={};a.quality="high";a.bgcolor="#ffffff";a.allowscriptaccess="always";a.allowfullscreen="true";a.hasPriority="true";var d={};d.id="avpw_OstrichFeather";d.name="avpw_OstrichFeather";d.align="middle";avpw_swfobject.embedSWF(AV_feather_baseURL+"ostrich/OstrichFeather.swf","avpw_OstrichFeather","1","1","10.0.0","ostrich/playerProductInstall.swf",{initializedCallback:"engineReady",allowDomains:"*",completeCallback:"AV_paintWidget_module_flashfilter_onFilterComplete"},
a,d);AV__feather_loaded=true;typeof Feather_OnLoad!="undefined"&&Feather_OnLoad()}function AV_featherLaunch(){var a,d,h,f;if(AV_paintWidget)return false;else{a=AV_launchData.imageIDelem;d=AV_launchData.imageURL;h=AV_launchData.postdata;f=AV_launchData.inlineSite;Feather_OpenType=="popup"?AV_setPopupPos(AV_getImageElem(a)):AV_setLightboxPos(AV_getImageElem(a));AV_paintWidgetLauncher(a,d,h,f)}}
function aviaryeditor(a,d,h,f){if(!featherIsLoaded())return false;if(AV_paintWidget)return false;AV_launchData={imageIDelem:AV_getImageElem(a),imageURL:d,postdata:h,inlineSite:f};if(AV__featherUseFlash)AV_featherLaunch();else{if(!featherSupported())return true;setTimeout(function(){AV_aviaryeditor_stage2(a,d,h)},5)}return true}function AV_aviaryeditor_stage2(){AV_featherLaunch()}function aviarynewimage(a,d){AV_paintWidgetRelauncher(a,d)}function aviaryeditor_close(a){AV_paintWidgetCloser(a)}
function aviaryeditor_activatetool(a){AV_paintWidgetActivateTool(a)}function featherIsLoading(){return AV__feather_loading}function featherIsLoaded(){return AV__feather_loaded}function featherSupported(){return typeof AV_Feather_ForceSupport!="undefined"||featherHtmlOk()||featherFlashOk()}function featherFlashOk(){if(typeof AV_Feather_ForceFlash!="undefined")return true;var a=AV__getInternetExplorerVersion();return a<0||a>=7}
function featherHtmlOk(){if(typeof AV_Feather_ForceFlash!="undefined")return false;var a=!!document.createElement("canvas").getContext,d=typeof postMessage=="function";return a&&d}function AV_getFlashMovie(a){return navigator.appName.indexOf("Microsoft")!=-1?window[a]:document[a]}function AV__getInternetExplorerVersion(){var a=-1;if(navigator.appName=="Microsoft Internet Explorer")if(/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)!=null)a=parseFloat(RegExp.$1);return a}
(function(){function a(d){var h=AV__getInternetExplorerVersion();d=AV_feather_baseURL+"css/"+d+"-"+AV_theme;AV_loadFile(d+".css","css");AV__featherUseFlash&&AV_loadFile(d+"-flash.css","css");if(h>=7&&h<8)AV_loadFile(d+"-ie7.css","css");else h>=8&&h<9&&AV_loadFile(d+"-ie8.css","css")}AV__featherUseFlash=!featherHtmlOk()&&featherFlashOk();if(Feather_OpenType=="float")Feather_OpenType="popup";if(Feather_OpenType=="integrated")Feather_OpenType="lightbox";if(Feather_OpenType=="inline")Feather_OpenType=
"inject";if(AV__featherUseFlash&&Feather_OpenType=="popup")Feather_OpenType="lightbox";AV__injectControls();if(!AV__feather_loaded&&!AV__feather_loading){AV__feather_loading=true;if(typeof AV_closureCompiled!="undefined"){Feather_OpenType=="popup"?a("feather"):a("feather_hd");AV_loadFile(AV_feather_baseURL+"images/atlas-"+AV_theme+".png","img",AV_loadStageFinal)}else{AV_loadFile(AV_feather_baseURL+"css/ui-lightness/jquery-ui-1.8.11.custom.css","css");Feather_OpenType=="popup"?a("controlswidget"):
a("controlswidget_hd");AV_loadFile(AV_feather_baseURL+"js/swfobject.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/avpw-jquery-1.5.1.min.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/avpw-jquery-ui-1.8.11.custom.min.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/widgetapi.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/controlswidget.js","js",AV_loadStageFinal)})})})})}}})();
